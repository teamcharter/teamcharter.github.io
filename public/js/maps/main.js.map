{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","Database","firebase","CharterFirebase","initializeApp","db","database","auth","localhost","noScreenshots","prometheus","Prometheus","init","callback","fallback","called","onAuthStateChanged","user","logon","uid","name","displayName","email","image","photoURL","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","then","result","credential","accessToken","providerId","providerData","console","error","catch","getPrometheus","getCurrentUser","currentUser","saveFeedback","tid","feedback","ref","push","timestamp","Date","now","getUser","Promise","resolve","reject","once","snap","val","getTeam","team","keys","getTeamEdits","edits","onTeamChange","members","on","promises","memberMap","status","p","all","users","forEach","member","idx","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","save","type","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","remove","updateRole","author","role","responsibility","addTemplateRole","joined","icon","updateRoleIcon","joinTeam","joinCode","success","addMember","done","removeMember","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","teamName","res","pathList","path","ct","getInstructorClasses","map","cid","classData","teams","resolveTeam","rejectTeam","_loop","teamList","tidx","meta","getClassTeams","classCode","_loop2","addTeamToClass","access","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","getTeamPromises","onTeamPromisesChange","err","onPromiseChange","promiseid","commentOnPromise","params","text","addPromise","payload","finished","unsetPromise","updatePromise","editData","addLinkToPromise","hasLinkId","linkid","3","mainCharterTab","inviteBtn","addEventListener","origin","window","location","pathname","link","vex","dialog","prompt","message","classCodeBtn","alert","reportErrorToUser","mentorLinkBtn","isMentor","target","innerText","newName","saveQuest","classList","add","teamQuest","saveExpect","teamExpect","split","popped","pop","promptLinkData","addMeeting","renderTeamCharter","teamMembers","fillText","expectations","innerHTML","reduce","total","document","getElementById","querySelector","style","display","isTeamTemplate","teamUpdates","_tile","views","getRoleTemplateTile","editable","onSave","uidAuthor","uidEdit","model","onIconEdit","iconValue","appendChild","tile","getRoleTile","div","createElement","querySelectorAll","vexText","counter","_uid","_member","unsafeMessage","removeIdx","ridx","parseInt","uidRemove","roleSave","roleInput","respInput","resp","teamLinks","linkMap","links","lid","getLinkItem","dataset","noLinks","editLinkBtns","getElementsByClassName","b","for","_data","vexWin","buttons","$","extend","YES","NO","click","close","nameInput","urlInput","checkUserPermission","log","body","editableNodes","setAttribute","confirm","yes","MENTOR_MODE","className","spans","fillSrc","src","initWithTeamCode","_callback","TEAM_ID","cancels","_config","_database","_views","qs","join","tokens","re","exec","decodeURIComponent","getQueryParams","search","mentor","Views","feedbackBtn","checkedPermissions","./config","./database","./views","4","getRoleAndUpdateTile","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","editSection","editButton","button","getProgressUpdate","indexOf","getTeamTile","isTemplate","getClassTile","classLink","filter","getUserTile","subtitle","getClassTeamTable","updates","upid","lastAccess","fromNow","table","getClassTeamGrid","_profile","profiles","_userModel","_userDiv","profile","userModel","userDiv","getPromiseTable","pdid","sort","promise","authorName","lastActive","dur","due","daysLeft","Math","floor","title","completed","abs","getPromiseBox","level","sinceStart","started","dueDate","authorImage","description","linkList","comments","comment","commentAuthor","sinceComment","generated","box","getPromiseEditor","deletable"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\t// Super Dirty: Update Prometheus Promos and Features Here\n\t// db.ref('prometheus/features/contributor').set({info: {name: 'Charter Contributor'}, validate: 'return {allowed: userData.contributor,data: userData}'})\n\n\t//db.ref('classes/master/teams').remove();\n\t/*db.ref('teams').once('value', (snap) => {\n \tlet teamMap = snap.val() || {};\n \tfor (let tid in teamMap) {\n \t\tdb.ref(`classes/master/teams/${tid}`).set({\n \t\t\taccess: true,\n \t\t\tjoined: Date.now()\n \t\t});\n \t}\n });*/\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tif (memberMap[uid].status === 'template') {\n\t\t\t\t\t\t\tmembers[uid] = {\n\t\t\t\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\t\t\tuid: uid,\n\t\t\t\t\t\t\t\temail: 'team@omnipointment.com'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + data.uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + data.uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\taddTemplateRole: function addTemplateRole(tid, author) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_TEMPLATE_ROLE',\n\t\t\t\ttid: tid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members').push({\n\t\t\t\tstatus: 'template',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true,\n\t\t\t\ticon: 'user'\n\t\t\t});\n\t\t},\n\n\t\tupdateRoleIcon: function updateRoleIcon(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE_ICON',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\ticon: data.icon\n\t\t\t});\n\t\t\t//\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/members/' + data.uid + '/icon').set(data.icon);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tremoveMember: function removeMember(tid, author, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).remove();\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, data) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar teamName = data.name;\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode,\n\t\t\t\t\tstatus: data.status || 'regular'\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetClassTeams: function getClassTeams(classCode) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes/' + classCode);\n\t\t\t\tref.once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val() || {};\n\t\t\t\t\tvar nodes = {};\n\t\t\t\t\tnodes[classCode] = val;\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop2 = function _loop2(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop2(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {},\n\n\t\tgetTeamPromises: function getTeamPromises(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamPromisesChange: function onTeamPromisesChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonPromiseChange: function onPromiseChange(tid, promiseid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tcommentOnPromise: function commentOnPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tif (!params.text) {\n\t\t\t\tthrow Error('No text given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'comment',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\ttext: params.text\n\t\t\t\t}).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddPromise: function addPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar payload = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tauthor: params.author,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push(payload).then(function (done) {\n\t\t\t\t\tvar promiseid = done.path.ct[2];\n\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + promiseid + '/promiseid').set(promiseid).then(function (finished) {\n\t\t\t\t\t\tpayload.promiseid = promiseid;\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tpromiseid: promiseid,\n\t\t\t\t\t\t\tdata: payload\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tunsetPromise: function unsetPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid + '/' + params.promiseid).remove().then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tupdatePromise: function updatePromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar tid = params.tid + '';\n\t\t\tvar editData = params;\n\t\t\tdelete editData.tid;\n\t\t\teditData.timestamp = Date.now();\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).push(editData).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddLinkToPromise: function addLinkToPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar hasLinkId = params.linkid ? true : false;\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tlinkid: params.linkid || false,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tname: params.name || false,\n\t\t\t\t\turl: params.url || false\n\t\t\t\t}).then(function (done) {\n\t\t\t\t\tif (hasLinkId) {\n\t\t\t\t\t\tresolve(done);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar linkid = done.path.ct[2];\n\t\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + linkid + '/linkid').set(linkid).then(resolve).catch(reject);\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\nvar TEAM_ID = params.team;\nvar MENTOR_MODE = params.mentor ? true : false;\n\nvar views = (0, _views.Views)();\n\nvar loginBtn = document.getElementById('login');\nvar feedbackBtn = document.getElementById('feedback');\n\nvar inviteBtn = document.getElementById('invite');\nvar classCodeBtn = document.getElementById('class-code');\nvar mentorLinkBtn = document.getElementById('mentor-link');\nvar tabList = document.getElementsByClassName('charter-tab');\n\nvar teamName = document.getElementById('team-name');\nvar teamQuest = document.getElementById('team-question');\nvar saveQuest = document.getElementById('save-question');\nvar teamExpect = document.getElementById('team-expectations');\nvar saveExpect = document.getElementById('save-expectations');\nvar myUpdate = document.getElementById('my-update');\nvar teamUpdates = document.getElementById('team-updates');\nvar addLink = document.getElementById('add-link');\nvar teamLinks = document.getElementById('team-links');\nvar addMeeting = document.getElementById('add-meeting');\n\n/*loginBtn.addEventListener('click', (e) => {\n\tdatabase.login(main);\n});*/\n\ndatabase.init(main, function () {\n\t// No user signed in\n\twindow.location = window.location.origin + '/login.html' + document.location.search;\n});\n\nfunction main(user) {\n\n\tinitWithTeamCode(function (tid) {\n\n\t\tconsole.log('What makes working at Omnipointment better than, say, Google?');\n\n\t\tfillText('fill-user-name', user.displayName);\n\t\tfillSrc('fill-user-image', user.photoURL);\n\n\t\tdocument.querySelector('#charter-tab').addEventListener('click', function (e) {\n\t\t\twindow.location = window.location.origin + '/charter.html' + document.location.search;\n\t\t});\n\n\t\tdocument.querySelector('#promises-tab').addEventListener('click', function (e) {\n\t\t\twindow.location = window.location.origin + '/promises.html' + document.location.search;\n\t\t});\n\n\t\tdocument.querySelector('#health-tab').addEventListener('click', function (e) {\n\t\t\twindow.location = window.location.origin + '/health.html' + document.location.search;\n\t\t});\n\n\t\tvar prometheus = database.getPrometheus();\n\n\t\tfeedbackBtn.addEventListener('click', function (e) {\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\t\tcallback: function callback(feedback) {\n\t\t\t\t\tif (feedback) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.saveFeedback(tid, uid, feedback).then(function (done) {\n\t\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar checkedPermissions = false;\n\t\tdatabase.onTeamChange(tid, function (team, members) {\n\t\t\tif (!checkedPermissions) {\n\t\t\t\tcheckUserPermission(tid, team, members);\n\t\t\t\tcheckedPermissions = true;\n\t\t\t}\n\t\t}, reportErrorToUser);\n\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHARTER_PAGE',\n\t\t\ttid: tid,\n\t\t\tmentor: isMentor()\n\t\t});\n\n\t\tmainCharterTab(user, tid);\n\t});\n}\n\nfunction mainCharterTab(user, tid) {\n\n\tinviteBtn.addEventListener('click', function (e) {\n\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar pathname = window.location.pathname;\n\t\t\tvar code = team.joinCode || false;\n\t\t\tvar linkEnd = code ? '&code=' + code : '';\n\t\t\tvar link = '' + origin + pathname + '?team=' + tid + linkEnd;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Send this link to your teammates:',\n\t\t\t\tvalue: link,\n\t\t\t\tcallback: function callback() {}\n\t\t\t});\n\t\t});\n\t});\n\n\tclassCodeBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter the code from your instructor (case sensitive):',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.addTeamToClass(tid, uid, code).then(function (classData) {\n\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\tmessage: 'Successfully added your team to ' + classData.name + '!'\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tmentorLinkBtn.addEventListener('click', function (e) {\n\t\tvar origin = window.location.origin;\n\t\tvar pathname = window.location.pathname;\n\t\tvar link = '' + origin + pathname + '?team=' + tid + '&mentor=true';\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Send this link to a mentor:',\n\t\t\tvalue: link,\n\t\t\tcallback: function callback() {}\n\t\t});\n\t});\n\n\tteamName.addEventListener('click', function (e) {\n\t\tif (!isMentor()) {\n\t\t\tvar name = e.target.innerText;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Edit your team name:',\n\t\t\t\tvalue: name,\n\t\t\t\tcallback: function callback(newName) {\n\t\t\t\t\tif (newName) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.updateTeamName(tid, uid, newName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tsaveQuest.addEventListener('click', function (e) {\n\t\tsaveQuest.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar question = teamQuest.innerText;\n\t\tdatabase.updateQuestion(tid, uid, question).then(function (done) {\n\t\t\tsaveQuest.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\tsaveExpect.addEventListener('click', function (e) {\n\t\tsaveExpect.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar text = teamExpect.innerText;\n\t\tvar list = text.split('\\n');\n\t\tvar popped = list.pop();\n\t\tif (!popped.length < 1) {\n\t\t\tlist.push(popped);\n\t\t}\n\t\tdatabase.updateExpectations(tid, uid, list).then(function (done) {\n\t\t\tsaveExpect.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\taddLink.addEventListener('click', function (e) {\n\t\tpromptLinkData(e, tid, 'Paste the URL:');\n\t});\n\n\taddMeeting.addEventListener('click', function (e) {\n\t\t//let omniWin = window.open('https://www.omnipointment.com/meeting/create');\n\t\tpromptLinkData(e, tid, 'Paste the link to your Omnipointment:');\n\t});\n\n\tdatabase.onTeamChange(tid, function (team, members) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t}, reportErrorToUser);\n}\n\nfunction promptLinkData(e, tid, message) {\n\tvar uid = database.getCurrentUser().uid;\n\tvex.dialog.prompt({\n\t\tmessage: message,\n\t\tcallback: function callback(url) {\n\t\t\tif (url) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'What is the name of this link?',\n\t\t\t\t\tcallback: function callback(name) {\n\t\t\t\t\t\tif (url && name) {\n\t\t\t\t\t\t\taddLink.classList.add('is-loading');\n\t\t\t\t\t\t\tdatabase.addLink(tid, uid, {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\taddLink.classList.remove('is-loading');\n\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction renderTeamCharter(tid, team, members) {\n\n\tvar teamMembers = team.members || {};\n\n\tif (team.name) {\n\t\tfillText('fill-team-name', team.name);\n\t}\n\tif (team.question) {\n\t\tfillText('fill-team-question', team.question);\n\t}\n\n\tvar expectations = team.expectations || [];\n\tif (expectations.length > 0) {\n\t\tteamExpect.innerHTML = expectations.reduce(function (total, val) {\n\t\t\treturn total + ('<li>' + val + '</li>');\n\t\t}, '');\n\t}\n\n\tif (team.status === 'template') {\n\t\tvar hSpan = document.getElementById('header-subtitle');\n\t\thSpan.innerHTML = 'Team Charter <span class=\"tag is-warning\">Template</span>';\n\t\tdocument.querySelector('#promises-tab').style.display = 'none';\n\t\tdocument.querySelector('#health-tab').style.display = 'none';\n\t}\n\n\t/*let allUpdates = team.updates || {};\n teamUpdates.innerHTML = '';\n for (let uid in teamMembers) {\n \tlet user = members[uid];\n \tlet updateMap = allUpdates[uid] || {};\n \tlet updateList = Object.keys(updateMap).map(upid => updateMap[upid]).sort((a, b) => {\n \t\treturn b.timestamp - a.timestamp;\n \t});\n \tlet update = updateList[0];\n \tlet message = 'No updates yet.';\n \tlet ts = teamMembers[uid].joined;\n \tif (update) {\n \t\tmessage = update.update;\n \t\tts = update.timestamp;\n \t}\n \tlet tile = views.getRoleAndUpdateTile({\n \t\tname: user.name,\n \t\trole: team.members[uid].role,\n \t\timage: user.image,\n \t\tupdate: message,\n \t\ttimestamp: ts\n \t});\n \tteamUpdates.appendChild(tile);\n }*/\n\n\tvar isTeamTemplate = team.status === 'template';\n\n\tteamUpdates.innerHTML = '';\n\tfor (var uid in teamMembers) {\n\t\tvar user = members[uid];\n\t\tvar member = teamMembers[uid];\n\t\tif (member.status === 'member' && !isTeamTemplate) {\n\t\t\tvar tile = views.getRoleTile({\n\t\t\t\tname: user.name,\n\t\t\t\trole: member.role,\n\t\t\t\timage: user.image,\n\t\t\t\tresponsibility: member.responsibility || 'What are you responsible for?',\n\t\t\t\teditable: uid === database.getCurrentUser().uid && !isMentor()\n\t\t\t});\n\t\t\tteamUpdates.appendChild(tile);\n\t\t} else if (member.status === 'template') {\n\t\t\tvar _tile = views.getRoleTemplateTile({\n\t\t\t\tname: user.name,\n\t\t\t\trole: member.role,\n\t\t\t\timage: user.image,\n\t\t\t\ticon: member.icon,\n\t\t\t\tresponsibility: member.responsibility || 'What are you responsible for?',\n\t\t\t\teditable: !isMentor(),\n\t\t\t\tuid: uid,\n\t\t\t\tonSave: function onSave(data) {\n\t\t\t\t\t//console.log(data);\n\t\t\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\t\t\tvar uidEdit = data.model.uid;\n\t\t\t\t\tdatabase.updateRole(tid, uidAuthor, {\n\t\t\t\t\t\trole: data.role,\n\t\t\t\t\t\tresponsibility: data.responsibility,\n\t\t\t\t\t\tuid: uidEdit\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonIconEdit: function onIconEdit(data) {\n\t\t\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\t\t\tvar uidEdit = data.model.uid;\n\t\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\t\tmessage: 'Change icon for ' + data.model.role + '?',\n\t\t\t\t\t\tvalue: data.model.icon,\n\t\t\t\t\t\tcallback: function callback(iconValue) {\n\t\t\t\t\t\t\tif (iconValue) {\n\t\t\t\t\t\t\t\tdatabase.updateRoleIcon(tid, uidAuthor, {\n\t\t\t\t\t\t\t\t\tuid: uidEdit,\n\t\t\t\t\t\t\t\t\ticon: iconValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tteamUpdates.appendChild(_tile);\n\t\t}\n\t}\n\n\tif (isTeamTemplate) {\n\t\tvar div = document.createElement('div');\n\t\tdiv.classList.add('field');\n\t\tdiv.classList.add('is-grouped');\n\t\tdiv.classList.add('is-grouped-centered');\n\t\tdiv.classList.add('is-hidden-to-mentor');\n\t\tdiv.innerHTML = '\\n\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t<button data-bind=\"button-add-role\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-user\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>Add Role</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button data-bind=\"button-remove-role\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-remove\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>Remove Role</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t';\n\t\tvar btnAdd = div.querySelectorAll('[data-bind=button-add-role]')[0];\n\t\tbtnAdd.addEventListener('click', function (e) {\n\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\tdatabase.addTemplateRole(tid, uidAuthor);\n\t\t});\n\t\tvar btnRemove = div.querySelectorAll('[data-bind=button-remove-role]')[0];\n\t\tbtnRemove.addEventListener('click', function (e) {\n\t\t\tvar vexText = '\\n\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t<h5 class=\"title\">Enter the Number of the Role to Remove</h5>\\n\\t\\t\\t\\t\\t<ul>';\n\t\t\tvar counter = 1;\n\t\t\tvar map = {};\n\t\t\tfor (var _uid in teamMembers) {\n\t\t\t\tvar _user = members[_uid];\n\t\t\t\tvar _member = teamMembers[_uid];\n\t\t\t\tif (_member.status === 'template') {\n\t\t\t\t\tvexText += '<li>' + counter + ': ' + _member.role + '</li>';\n\t\t\t\t\tmap[counter] = _uid;\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvexText += '\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t</div>';\n\t\t\tvex.dialog.prompt({\n\t\t\t\tunsafeMessage: vexText,\n\t\t\t\tcallback: function callback(removeIdx) {\n\t\t\t\t\tif (removeIdx) {\n\t\t\t\t\t\tvar author = database.getCurrentUser().uid;\n\t\t\t\t\t\tvar ridx = parseInt(removeIdx, 10);\n\t\t\t\t\t\tvar uidRemove = map[ridx];\n\t\t\t\t\t\tif (uidRemove) {\n\t\t\t\t\t\t\tdatabase.removeMember(tid, author, uidRemove);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tteamUpdates.appendChild(div);\n\t}\n\n\tvar roleSave = document.getElementById('my-role-save');\n\tvar roleInput = document.getElementById('my-title');\n\tvar respInput = document.getElementById('my-responsibility');\n\tif (roleSave && roleInput && respInput) {\n\t\troleSave.addEventListener('click', function (e) {\n\t\t\troleSave.classList.add('is-loading');\n\t\t\tvar role = roleInput.innerText;\n\t\t\tvar resp = respInput.innerText;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tdatabase.updateRole(tid, uid, {\n\t\t\t\trole: role,\n\t\t\t\tresponsibility: resp\n\t\t\t}).then(function (done) {\n\t\t\t\troleSave.classList.remove('is-loading');\n\t\t\t}).catch(reportErrorToUser);\n\t\t});\n\t}\n\n\tteamLinks.innerHTML = '';\n\tvar linkMap = team.links || {};\n\tif (Object.keys(linkMap).length > 0) {\n\t\tvar _loop = function _loop(lid) {\n\t\t\tvar data = linkMap[lid];\n\t\t\tvar link = views.getLinkItem({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: lid\n\t\t\t});\n\t\t\tlink.dataset.key = lid;\n\t\t\tlink.addEventListener('click', function (e) {\n\t\t\t\tdatabase.getPrometheus().save({\n\t\t\t\t\t//console.log({\n\t\t\t\t\ttype: 'CLICK_TEAM_LINK',\n\t\t\t\t\tkey: lid,\n\t\t\t\t\tname: data.name,\n\t\t\t\t\turl: data.url\n\t\t\t\t});\n\t\t\t});\n\t\t\tteamLinks.appendChild(link);\n\t\t};\n\n\t\tfor (var lid in linkMap) {\n\t\t\t_loop(lid);\n\t\t}\n\t} else {\n\t\tvar noLinks = document.createElement('div');\n\t\tnoLinks.innerHTML = '<div class=\"content\">\\n\\t\\t\\t\\t<p class=\"is-6\">No links yet.</p>\\n\\t\\t\\t</div>';\n\t\tteamLinks.appendChild(noLinks);\n\t}\n\n\tvar editLinkBtns = teamLinks.getElementsByClassName('edit-link');\n\n\tvar _loop2 = function _loop2(b) {\n\t\teditLinkBtns[b].addEventListener('click', function (e) {\n\t\t\tvar key = editLinkBtns[b].dataset.for;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tif (key) {\n\t\t\t\tvar _data = linkMap[key];\n\t\t\t\tvar vexWin = vex.dialog.alert({\n\t\t\t\t\tunsafeMessage: '\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">Name</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-name\" type=\"text\" class=\"input is-primary\" value=\"' + _data.name + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">URL</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-url\" type=\"text\" class=\"input is-primary\" value=\"' + _data.url + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t',\n\t\t\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Save' }), $.extend({}, vex.dialog.buttons.NO, { text: 'Delete', click: function click(e) {\n\t\t\t\t\t\t\tdatabase.removeLink(tid, uid, key).catch(reportErrorToUser);\n\t\t\t\t\t\t\tvexWin.close();\n\t\t\t\t\t\t} }), $.extend({}, vex.dialog.buttons.NO, { text: 'Cancel' })],\n\t\t\t\t\tcallback: function callback(save) {\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\tvar nameInput = document.getElementById('edit-link-name');\n\t\t\t\t\t\t\tvar urlInput = document.getElementById('edit-link-url');\n\t\t\t\t\t\t\t//console.log(nameInput.value, urlInput.value);\n\t\t\t\t\t\t\tif (nameInput.value && urlInput.value) {\n\t\t\t\t\t\t\t\tdatabase.updateLink(tid, uid, key, {\n\t\t\t\t\t\t\t\t\tname: nameInput.value,\n\t\t\t\t\t\t\t\t\turl: urlInput.value\n\t\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tfor (var b = 0; b < editLinkBtns.length; b++) {\n\t\t_loop2(b);\n\t}\n}\n\nfunction checkUserPermission(tid, team, members) {\n\t/*return new Promise((resolve, reject) => {\n \t});*/\n\n\tif (isMentor()) {\n\t\tconsole.log('in mentor mode');\n\t\tdocument.body.classList.add('mentoring');\n\t\tvar editableNodes = document.querySelectorAll('[contenteditable=true]');\n\t\tfor (var n = 0; n < editableNodes.length; n++) {\n\t\t\teditableNodes[n].setAttribute('contenteditable', false);\n\t\t}\n\t}\n\n\tvar uid = database.getCurrentUser().uid;\n\tif (uid in members || isMentor()) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t} else if (params.code) {\n\t\tvex.dialog.confirm({\n\t\t\tmessage: 'Do you want to join ' + (team.name || 'this team') + '?',\n\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Yes' }), $.extend({}, vex.dialog.buttons.NO, { text: 'No' })],\n\t\t\tcallback: function callback(yes) {\n\t\t\t\tif (yes) {\n\t\t\t\t\tdatabase.joinTeam(tid, uid, params.code).then(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\t\tmessage: 'Congratulations, you just joined ' + (team.name || 'your new team') + '!'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\t\t\trenderTeamCharter(tid, team, members);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\twindow.location = window.location.origin + '/me.html';\n\t}\n}\n\nfunction isMentor() {\n\treturn MENTOR_MODE;\n}\n\nfunction reportErrorToUser(err) {\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\nvar cancels = 0;\nfunction initWithTeamCode(_callback) {\n\tif (TEAM_ID) {\n\t\t_callback(TEAM_ID);\n\t} else {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter your team code:',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\t_callback(code);\n\t\t\t\t} else if (cancels >= 1) {\n\t\t\t\t\twindow.location = './';\n\t\t\t\t} else {\n\t\t\t\t\tcancels++;\n\t\t\t\t\tinitWithTeamCode(_callback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n},{\"./config\":1,\"./database\":2,\"./views\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTemplateTile: function getRoleTemplateTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tvar editButton = '';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 data-bind=\"field-role\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p data-bind=\"field-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t</div>';\n\t\t\t\teditButton = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-4\">\\n\\t\\t\\t\\t\\t<button data-bind=\"button-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical {model.editable ? \\'is-8\\' : \\'is-12\\'}\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"field-icon\" class=\"image is-48x48 icon-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + (model.icon || 'user') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t' + editButton + '\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\tif (model.editable && model.onSave) {\n\t\t\t\tvar button = div.querySelectorAll('[data-bind=button-save]')[0];\n\t\t\t\tvar role = div.querySelectorAll('[data-bind=field-role]')[0];\n\t\t\t\tvar resp = div.querySelectorAll('[data-bind=field-responsibility]')[0];\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onSave({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\trole: role.innerText,\n\t\t\t\t\t\tresponsibility: resp.innerText\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tvar iconEdit = div.querySelectorAll('[data-bind=field-icon]')[0];\n\t\t\t\ticonEdit.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onIconEdit({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t\tif (model.url.indexOf('docs.google.com/document') > -1) {\n\t\t\t\t\ticon = 'file-text';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/spreadsheets') > -1) {\n\t\t\t\t\ticon = 'table';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/presentation') > -1) {\n\t\t\t\t\ticon = 'slideshare';\n\t\t\t\t}\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t} else if (model.url.indexOf('github.com') > -1) {\n\t\t\t\ticon = 'github';\n\t\t\t} else if (model.url.indexOf('youtube.com') > -1) {\n\t\t\t\ticon = 'youtube-play';\n\t\t\t} else if (model.url.indexOf('vimeo.com') > -1) {\n\t\t\t\ticon = 'vimeo';\n\t\t\t} else if (model.url.indexOf('codeshare.io') > -1 || model.url.indexOf('codepen.io') > -1) {\n\t\t\t\ticon = 'code-fork';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar tag = '<span class=\"tag is-warning\">Template</span>';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + ' ' + (model.isTemplate ? tag : '') + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetClassTeamGrid: function getClassTeamGrid(model) {\n\t\t\tvar html = '';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&code=' + team.joinCode;\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">' + team.name + '</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Last active ' + moment(team.lastAccess).fromNow() + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">' + Object.keys(team.edits).length + ' charter edits</p>\\n\\t\\t\\t\\t';\n\t\t\t\tfor (var _uid in team.members) {\n\t\t\t\t\tvar _profile = model.profiles[_uid];\n\t\t\t\t\tvar _userModel = {\n\t\t\t\t\t\tname: 'Unknown Student',\n\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\tsubtitle: '...'\n\t\t\t\t\t};\n\t\t\t\t\tif (_profile.name) {\n\t\t\t\t\t\t_userModel.name = _profile.name;\n\t\t\t\t\t}\n\t\t\t\t\tif (_profile.image) {\n\t\t\t\t\t\t_userModel.image = _profile.image;\n\t\t\t\t\t}\n\t\t\t\t\tif (team.members[_uid].role) {\n\t\t\t\t\t\t_userModel.subtitle = team.members[_uid].role;\n\t\t\t\t\t}\n\t\t\t\t\tvar _userDiv = views.getUserTile(_userModel);\n\t\t\t\t\thtml += _userDiv.innerHTML;\n\t\t\t\t}\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">Join Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">Start New Team</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Don\\'t see your team?</p>\\n\\t\\t\\t';\n\n\t\t\tvar profile = model.profiles[model.uid];\n\t\t\tvar userModel = {\n\t\t\t\tname: 'Unknown Student',\n\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\tsubtitle: 'Team Member'\n\t\t\t};\n\t\t\tif (profile.name) {\n\t\t\t\tuserModel.name = profile.name;\n\t\t\t}\n\t\t\tif (profile.image) {\n\t\t\t\tuserModel.image = profile.image;\n\t\t\t}\n\t\t\tvar userDiv = views.getUserTile(userModel);\n\t\t\thtml += userDiv.innerHTML;\n\n\t\t\thtml += '\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a id=\"new-team\" class=\"button is-primary is-outlined\">Start New Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('columns');\n\t\t\tdiv.classList.add('is-multiline');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetPromiseTable: function getPromiseTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Member</th>\\n\\t\\t\\t\\t\\t\\t<th>Status</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\n\t\t\tObject.keys(model.promises).map(function (pdid) {\n\t\t\t\tvar val = model.promises[pdid];\n\t\t\t\tval.key = pdid;\n\t\t\t\treturn val;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn 0;\n\t\t\t}).forEach(function (promise) {\n\t\t\t\tvar authorName = 'Unknown';\n\t\t\t\tvar lastActive = moment(promise.lastActive).fromNow();\n\t\t\t\ttry {\n\t\t\t\t\tauthorName = model.profiles[promise.author].name;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar dur = moment.duration(moment(promise.due).diff(moment(Date.now())));\n\t\t\t\tvar daysLeft = Math.floor(dur.asDays());\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + promise.title + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + authorName + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + (promise.completed ? 'Complete' : daysLeft < 0 ? Math.abs(daysLeft) + ' days overdue' : daysLeft + ' days left') + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + lastActive + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<button data-promiseid=\"' + promise.key + '\" class=\"button is-primary is-outlined\">View</button>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.classList.add('is-striped');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetPromiseBox: function getPromiseBox(model) {\n\t\t\tvar promise = model.promise;\n\t\t\tvar profiles = model.profiles;\n\t\t\tvar levelText = 'Unknown';\n\t\t\tswitch (promise.level) {\n\t\t\t\tcase 1:\n\t\t\t\t\tlevelText = 'Small';break;\n\t\t\t\tcase 2:\n\t\t\t\t\tlevelText = 'Medium';break;\n\t\t\t\tcase 3:\n\t\t\t\t\tlevelText = 'Large';break;\n\t\t\t}\n\t\t\tvar sinceStart = moment(promise.started).fromNow();\n\t\t\tvar dueDate = moment(promise.due).format('M/D/YY');\n\t\t\tvar authorName = 'Unknown';\n\t\t\tvar authorImage = './public/img/no-user.png';\n\t\t\ttry {\n\t\t\t\tauthorName = profiles[promise.author].name;\n\t\t\t\tauthorImage = profiles[promise.author].image;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\t//<h1 class=\"title is-2\">${promise.title} <span class=\"tag is-warning\">${levelText}</span></h1>\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-2\">' + promise.title + '</h1>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + authorImage + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + authorName + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> started ' + sinceStart + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-normally-spaced\">I promise to ' + promise.description + ' by ' + dueDate + '.</p>\\n\\t\\t\\t';\n\t\t\tvar linkList = Object.keys(promise.links).map(function (key) {\n\t\t\t\tvar val = promise.links[key];\n\t\t\t\tval.key = key;\n\t\t\t\treturn val;\n\t\t\t});\n\t\t\tif (linkList.length > 0) {\n\t\t\t\thtml += '<div>';\n\t\t\t\tlinkList.forEach(function (link) {\n\t\t\t\t\thtml += '<div class=\"team-link\">' + views.getLinkItem(link).innerHTML + '</div>';\n\t\t\t\t\t//html += `<li><a href=\"${link.url}\" target=\"_blank\">${link.name}</a></li>`;\n\t\t\t\t});\n\t\t\t\thtml += '</div>';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"edit\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Edit</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"link\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-link\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"back\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-left\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Back to Promises</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-4\">Progress</h1>\\n\\t\\t\\t\\t\\t<div id=\"comments-field\">\\n\\t\\t\\t\\t\\t';\n\n\t\t\tObject.keys(promise.comments).map(function (key) {\n\t\t\t\treturn promise.comments[key];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn a.timestamp - b.timestamp;\n\t\t\t}).forEach(function (comment) {\n\t\t\t\tvar commentAuthor = {\n\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\timage: './public/img/no-user.png'\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tcommentAuthor.name = profiles[comment.author].name;\n\t\t\t\t\tcommentAuthor.image = profiles[comment.author].image;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar sinceComment = moment(comment.timestamp).format('M/D h:mm A'); //.fromNow();\n\t\t\t\tif (comment.generated) {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"generated-text\">' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t} else {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span>' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile-editable\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea data-fpb=\"textarea\" class=\"textarea\" rows=\"2\" placeholder=\"Write here...\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"comment\" class=\"button is-primary\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-comment-o\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Comment</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"complete\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa ' + (promise.completed ? 'fa-times' : 'fa-check') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>' + (promise.completed ? 'Mark as Incomplete' : 'Mark as Complete') + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar box = document.createElement('div');\n\t\t\tbox.classList.add('columns');\n\t\t\tbox.innerHTML = html;\n\t\t\treturn box;\n\t\t},\n\n\t\tgetPromiseEditor: function getPromiseEditor(model) {\n\t\t\tif (model.description === '...') {\n\t\t\t\tmodel.description = false;\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h1 data-pef=\"title\" class=\"title is-2 nlp-editable\" contenteditable=\"true\">' + (model.title ? model.title : 'Title of Promise') + '</h1>\\n\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\tI promise to <span data-pef=\"description\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.description ? model.description : '(do something for my team)') + '</span> by <span data-pef=\"due\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.due ? moment(model.due).format('M/D/YYYY') : 'MM/DD/YYYY') + '</span>.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p data-pef=\"warning\" class=\"is-danger-text\"></p>\\n\\t\\t\\t\\t<button data-pef=\"submit\" class=\"button is-primary\">Save Promise</button>\\n\\t\\t\\t';\n\t\t\tif (model.deletable) {\n\t\t\t\thtml += '<button data-pef=\"remove\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t} else {\n\t\t\t\thtml += '<button data-pef=\"cancel\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('box');\n\t\t\tdiv.classList.add('content');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLCtCQUZBO0FBR1osY0FBYSxzQ0FIRDtBQUlaLFlBQVcsZUFKQztBQUtaLGdCQUFlLEVBTEg7QUFNWixvQkFBbUI7QUFOUCxDQUFiO1FBUVEsTSxHQUFBLE07Ozs7Ozs7O0FDUlIsSUFBSSxXQUFXLFNBQVgsUUFBVyxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQXNCOztBQUVwQyxLQUFJLGtCQUFrQixTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsRUFBK0Isa0JBQS9CLENBQXRCO0FBQ0EsS0FBSSxLQUFLLGdCQUFnQixRQUFoQixFQUFUO0FBQ0EsS0FBSSxPQUFPLGdCQUFnQixJQUFoQixFQUFYO0FBQ0MsUUFBTyxTQUFQLEdBQW1CLElBQW5CO0FBQ0EsUUFBTyxhQUFQLEdBQXVCLElBQXZCO0FBQ0QsS0FBSSxhQUFhLFdBQVcsTUFBWCxFQUFtQixlQUFuQixDQUFqQjs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQyxLQUFJLFdBQVc7O0FBRWQsUUFBTSxjQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXdCO0FBQzdCLE9BQUksU0FBUyxLQUFiO0FBQ0EsUUFBSyxrQkFBTCxDQUF3QixVQUFDLElBQUQsRUFBVTtBQUNqQyxRQUFJLElBQUosRUFBVTtBQUNUO0FBQ0EsZ0JBQVcsS0FBWCxDQUFpQixLQUFLLEdBQXRCLEVBQTJCO0FBQzFCLFlBQU0sS0FBSyxXQURlO0FBRTFCLGFBQU8sS0FBSyxLQUZjO0FBRzFCLGFBQU8sS0FBSyxRQUhjO0FBSTFCLFdBQUssS0FBSztBQUpnQixNQUEzQjtBQU1BO0FBQ0EsU0FBSSxDQUFD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UUFBUSxTQUFSLEdBQW9CLFVBQXBCLEdBQWlDLFVBaEJ2RCxxRUFrQmMsUUFBUSxTQUFSLEdBQW9CLG9CQUFwQixHQUEyQyxrQkFsQnpEO0FBMEJBLE9BQUksTUFBTSxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBVjtBQUNDLE9BQUksU0FBSixDQUFjLEdBQWQsQ0FBa0IsU0FBbEI7QUFDQSxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDRCxVQUFPLEdBQVA7QUFDQSxHQS9vQlU7O0FBaXBCWCxvQkFBa0IsMEJBQUMsS0FBRCxFQUFXO0FBQzVCLE9BQUksTUFBTSxXQUFOLEtBQXNCLEtBQTFCLEVBQWlDO0FBQ2hDLFVBQU0sV0FBTixHQUFvQixLQUFwQjtBQUNBO0FBQ0QsT0FBSSxtR0FDMkUsTUFBTSxLQUFOLEdBQWMsTUFBTSxLQUFwQixHQUE0QixrQkFEdkcsZ0tBR3NGLE1BQU0sV0FBTixHQUFvQixNQUFNLFdBQTFCLEdBQXdDLDRCQUg5SCxzRkFHeU8sTUFBTSxHQUFOLEdBQVksT0FBTyxNQUFNLEdBQWIsRUFBa0IsTUFBbEIsQ0FBeUIsVUFBekIsQ0FBWixHQUFrRCxZQUgzUixrTEFBSjtBQVFBLE9BQUksTUFBTSxTQUFWLEVBQXFCO0FBQ3BCO0FBQ0EsSUFGRCxNQUVPO0FBQ047QUFDQTtBQUNELE9BQUksTUFBTSxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBVjtBQUNDLE9BQUksU0FBSixDQUFjLEdBQWQsQ0FBa0IsS0FBbEI7QUFDQSxPQUFJLFNBQUosQ0FBYyxHQUFkLENBQWtCLFNBQWxCO0FBQ0EsT0FBSSxTQUFKLEdBQWdCLElBQWhCO0FBQ0QsVUFBTyxHQUFQO0FBQ0E7O0FBdnFCVSxFQUFaOztBQTJxQkEsUUFBTyxLQUFQO0FBRUEsQ0EvcUJEOztRQWlyQlEsSyxHQUFBLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibGV0IGNvbmZpZyA9IHtcblx0YXBpS2V5OiBcIkFJemFTeUJXazlFV1Bra3ZxaXJ1RzhhWW5IVjBkQlBnMXozRXRONFwiLFxuXHRhdXRoRG9tYWluOiBcImNoYXJ0ZXItZWNiMDcuZmlyZWJhc2VhcHAuY29tXCIsXG5cdGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vY2hhcnRlci1lY2IwNy5maXJlYmFzZWlvLmNvbVwiLFxuXHRwcm9qZWN0SWQ6IFwiY2hhcnRlci1lY2IwN1wiLFxuXHRzdG9yYWdlQnVja2V0OiBcIlwiLFxuXHRtZXNzYWdpbmdTZW5kZXJJZDogXCIxMzQyMzkzMDUxNTNcIlxufTtcbmV4cG9ydCB7Y29uZmlnfTsiLCJsZXQgRGF0YWJhc2UgPSAoZmlyZWJhc2UsIGNvbmZpZykgPT4ge1xuXG5cdGxldCBDaGFydGVyRmlyZWJhc2UgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZywgJ0NoYXJ0ZXIgRGF0YWJhc2UnKTtcblx0bGV0IGRiID0gQ2hhcnRlckZpcmViYXNlLmRhdGFiYXNlKCk7XG5cdGxldCBhdXRoID0gQ2hhcnRlckZpcmViYXNlLmF1dGgoKTtcblx0XHRjb25maWcubG9jYWxob3N0ID0gdHJ1ZTtcblx0XHRjb25maWcubm9TY3JlZW5zaG90cyA9IHRydWU7XG5cdGxldCBwcm9tZXRoZXVzID0gUHJvbWV0aGV1cyhjb25maWcsIENoYXJ0ZXJGaXJlYmFzZSk7XG5cbi8vIFN1cGVyIERpcnR5OiBVcGRhdGUgUHJvbWV0aGV1cyBQcm9tb3MgYW5kIEZlYXR1cmVzIEhlcmVcbi8vIGRiLnJlZigncHJvbWV0aGV1cy9mZWF0dXJlcy9jb250cmlidXRvcicpLnNldCh7aW5mbzoge25hbWU6ICdDaGFydGVyIENvbnRyaWJ1dG9yJ30sIHZhbGlkYXRlOiAncmV0dXJuIHthbGxvd2VkOiB1c2VyRGF0YS5jb250cmlidXRvcixkYXRhOiB1c2VyRGF0YX0nfSlcblxuLy9kYi5yZWYoJ2NsYXNzZXMvbWFzdGVyL3RlYW1zJykucmVtb3ZlKCk7XG4vKmRiLnJlZigndGVhbXMnKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdGxldCB0ZWFtTWFwID0gc25hcC52YWwoKSB8fCB7fTtcblx0Zm9yIChsZXQgdGlkIGluIHRlYW1NYXApIHtcblx0XHRkYi5yZWYoYGNsYXNzZXMvbWFzdGVyL3RlYW1zLyR7dGlkfWApLnNldCh7XG5cdFx0XHRhY2Nlc3M6IHRydWUsXG5cdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHR9KTtcblx0fVxufSk7Ki9cblxuXHRsZXQgZGF0YWJhc2UgPSB7XG5cdFx0XG5cdFx0aW5pdDogKGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0bGV0IGNhbGxlZCA9IGZhbHNlO1xuXHRcdFx0YXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXIpID0+IHtcblx0XHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMubG9nb24odXNlci51aWQsIHtcblx0XHRcdFx0XHRcdG5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcblx0XHRcdFx0XHRcdGltYWdlOiB1c2VyLnBob3RvVVJMLFxuXHRcdFx0XHRcdFx0dWlkOiB1c2VyLnVpZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh1c2VyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRmYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGxvZ2luOiAoY2FsbGJhY2ssIG1ldGhvZCkgPT4ge1xuXHRcdFx0Ly9hdXRoLnNpZ25PdXQoKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXHRcdFx0XHRpZiAobWV0aG9kID09PSAnZmFjZWJvb2snKSB7XG5cdFx0XHRcdFx0cHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0bGV0IHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcblx0XHRcdFx0XHRsZXQgcHJvdmlkZXJJZCA9ICdVbmtub3duIFByb3ZpZGVyJztcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJZCA9IHVzZXIucHJvdmlkZXJEYXRhWzBdLnByb3ZpZGVySWQ7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLmxvZ29uKHVzZXIudWlkLCB7XG5cdFx0XHRcdFx0XHRuYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRpbWFnZTogdXNlci5waG90b1VSTCxcblx0XHRcdFx0XHRcdHVpZDogdXNlci51aWQsXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogcHJvdmlkZXJJZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Y2FsbGJhY2sodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdFx0LypsZXQgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcblx0XHRcdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdFx0XHRsZXQgZW1haWwgPSBlcnJvci5lbWFpbDtcblx0XHRcdFx0XHRsZXQgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7Ki9cblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvKn0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fSk7Ki9cblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWV0aGV1czogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHByb21ldGhldXM7XG5cdFx0fSxcblxuXHRcdGdldEN1cnJlbnRVc2VyOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gYXV0aC5jdXJyZW50VXNlciB8fCB7fTtcblx0XHR9LFxuXG5cdFx0c2F2ZUZlZWRiYWNrOiAodGlkLCB1aWQsIGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGBmZWVkYmFja2ApLnB1c2goe1xuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGZlZWRiYWNrOiBmZWVkYmFjayxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlcjogKHVpZCkgPT4ge1xuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21ldGhldXMvdXNlcnMvJHt1aWR9L3Byb2ZpbGVgKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbTogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0ZWFtKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1FZGl0czogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgZWRpdHMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdHJlc29sdmUoZWRpdHMpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdG9uVGVhbUNoYW5nZTogKHRpZCwgY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGxldCBtZW1iZXJzID0ge307XG5cdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdGxldCBtZW1iZXJNYXAgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiBtZW1iZXJNYXApIHtcblx0XHRcdFx0XHRpZiAoISh1aWQgaW4gbWVtYmVycykpIHtcblx0XHRcdFx0XHRcdGlmIChtZW1iZXJNYXBbdWlkXS5zdGF0dXMgPT09ICd0ZW1wbGF0ZScpIHtcblx0XHRcdFx0XHRcdFx0bWVtYmVyc1t1aWRdID0ge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdVbmtub3duJyxcblx0XHRcdFx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdFx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdFx0XHRcdFx0ZW1haWw6ICd0ZWFtQG9tbmlwb2ludG1lbnQuY29tJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRsZXQgcCA9IGRhdGFiYXNlLmdldFVzZXIodWlkKTtcblx0XHRcdFx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHVzZXJzKSA9PiB7XG5cdFx0XHRcdFx0XHR1c2Vycy5mb3JFYWNoKChtZW1iZXIsIGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgdWlkID0gcHJvbWlzZXNbaWR4XS51aWQ7XG5cdFx0XHRcdFx0XHRcdG1lbWJlcnNbdWlkXSA9IG1lbWJlcjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVUZWFtTmFtZTogKHRpZCwgdWlkLCBuYW1lKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbmFtZScsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9uYW1lYCkuc2V0KG5hbWUpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVRdWVzdGlvbjogKHRpZCwgdWlkLCBxdWVzdGlvbikgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3F1ZXN0aW9uJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBxdWVzdGlvbixcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9xdWVzdGlvbmApLnNldChxdWVzdGlvbik7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUV4cGVjdGF0aW9uczogKHRpZCwgdWlkLCBsaXN0KSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnZXhwZWN0YXRpb25zJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBsaXN0LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2V4cGVjdGF0aW9uc2ApLnNldChsaXN0KTtcblx0XHR9LFxuXG5cdFx0c3VibWl0VXBkYXRlOiAodGlkLCB1aWQsIHVwZGF0ZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnU1VCTUlUX1VQREFURScsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1cGRhdGU6IHVwZGF0ZVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L3VwZGF0ZXMvJHt1aWR9YCkucHVzaCh7XG5cdFx0XHRcdHVwZGF0ZTogdXBkYXRlLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rOiAodGlkLCB1aWQsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzYCkucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGFkZGVkOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlTGluazogKHRpZCwgdWlkLCBrZXksIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gbGluayBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnVVBEQVRFX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGF0YS5rZXkgPSBrZXk7XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2xpbmsnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRsZXQgcDEgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX0vbmFtZWApLnNldChkYXRhLm5hbWUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9L3VybGApLnNldChkYXRhLnVybCk7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoW3AxLCBwMl0pO1xuXHRcdH0sXG5cblx0XHRyZW1vdmVMaW5rOiAodGlkLCB1aWQsIGtleSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBsaW5rIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdSRU1PVkVfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0cmVtb3ZlZDogdHJ1ZSxcblx0XHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fWApLnJlbW92ZSgpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVSb2xlOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdHJvbGU6IGRhdGEucm9sZSxcblx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IGRhdGEucmVzcG9uc2liaWxpdHlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAncm9sZScsXG5cdFx0XHRcdHVpZDogYXV0aG9yLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdGxldCBwMSA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHtkYXRhLnVpZH0vcm9sZWApLnNldChkYXRhLnJvbGUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9yZXNwb25zaWJpbGl0eWApLnNldChkYXRhLnJlc3BvbnNpYmlsaXR5KTtcblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChbcDEsIHAyXSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlbXBsYXRlUm9sZTogKHRpZCwgYXV0aG9yKSA9PiB7XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9URU1QTEFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzYCkucHVzaCh7XG5cdFx0XHRcdHN0YXR1czogJ3RlbXBsYXRlJyxcblx0XHRcdFx0cm9sZTogJ1RlYW0gTWVtYmVyJyxcblx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRtZW1iZXI6IHRydWUsXG5cdFx0XHRcdGljb246ICd1c2VyJ1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVJvbGVJY29uOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfUk9MRV9JQ09OJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdGljb246IGRhdGEuaWNvblxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3JvbGUnLFxuXHRcdFx0XHR1aWQ6IGF1dGhvcixcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9pY29uYCkuc2V0KGRhdGEuaWNvbik7XG5cdFx0fSxcblxuXHRcdGpvaW5UZWFtOiAodGlkLCB1aWQsIGpvaW5Db2RlKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbigodGVhbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChqb2luQ29kZSA9PT0gdGVhbS5qb2luQ29kZSB8fCAhdGVhbS5qb2luQ29kZSkge1xuXHRcdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRNZW1iZXI6ICh0aWQsIHVpZCkgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTUVNQkVSJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRzdGF0dXM6ICdtZW1iZXInLFxuXHRcdFx0XHRyb2xlOiAnVGVhbSBNZW1iZXInLFxuXHRcdFx0XHRqb2luZWQ6IERhdGUubm93KCksXG5cdFx0XHRcdG1lbWJlcjogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZU1lbWJlcjogKHRpZCwgYXV0aG9yLCB1aWQpID0+IHtcblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnUkVNT1ZFX01FTUJFUicsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IHVpZFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHt1aWR9YCkucmVtb3ZlKCk7XG5cdFx0fSxcblxuXHRcdGdldEFsbFRlYW1zOiAodWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGB0ZWFtc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9tZW1iZXJgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRjcmVhdGVOZXdUZWFtOiAodWlkLCBqb2luQ29kZSwgZGF0YSkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHRlYW1OYW1lID0gZGF0YS5uYW1lO1xuXHRcdFx0XHRkYi5yZWYoJ3RlYW1zJykucHVzaCh7XG5cdFx0XHRcdFx0bmFtZTogdGVhbU5hbWUgfHwgJ05ldyBUZWFtIENoYXJ0ZXInLFxuXHRcdFx0XHRcdGpvaW5Db2RlOiBqb2luQ29kZSxcblx0XHRcdFx0XHRzdGF0dXM6IGRhdGEuc3RhdHVzIHx8ICdyZWd1bGFyJ1xuXHRcdFx0XHR9KS50aGVuKChyZXMpID0+IHtcblx0XHRcdFx0XHRsZXQgcGF0aExpc3QgPSByZXMucGF0aC5jdDtcblx0XHRcdFx0XHRsZXQgdGlkID0gcGF0aExpc3RbcGF0aExpc3QubGVuZ3RoIC0gMV07XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0dHlwZTogJ0NSRUFURV9URUFNJyxcblx0XHRcdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRcdFx0bmFtZTogdGVhbU5hbWUsXG5cdFx0XHRcdFx0XHRkYXRhOiBkYXRhXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRkYXRhYmFzZS5hZGRNZW1iZXIodGlkLCB1aWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHR0aWQ6IHRpZFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRJbnN0cnVjdG9yQ2xhc3NlczogKHVpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHJlZiA9IGRiLnJlZihgY2xhc3Nlc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9hY2Nlc3NgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG5vZGVzKS5tYXAoKGNpZCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IGNsYXNzRGF0YSA9IG5vZGVzW2NpZF07XG5cdFx0XHRcdFx0XHRjbGFzc0RhdGEuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNsYXNzRGF0YTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAobGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0XHRcdGxpc3QuZm9yRWFjaCgoY2xhc3NEYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBjaWQgPSBjbGFzc0RhdGEuY2lkO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCB0aWQgaW4gY2xhc3NEYXRhLnRlYW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IHAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZVRlYW0sIHJlamVjdFRlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFiYXNlLmdldFRlYW0odGlkKS50aGVuKHJlc29sdmVUZWFtKS5jYXRjaChyZWplY3RUZWFtKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRwLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCh0ZWFtTGlzdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0ZWFtTGlzdC5mb3JFYWNoKCh0ZWFtLCB0aWR4KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IG1ldGEgPSBwcm9taXNlc1t0aWR4XTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdKXtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0gPSB0ZWFtO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUobm9kZXMpXG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHt9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUZWFtczogKGNsYXNzQ29kZSkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHJlZiA9IGRiLnJlZihgY2xhc3Nlcy8ke2NsYXNzQ29kZX1gKTtcblx0XHRcdFx0cmVmLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRsZXQgbm9kZXMgPSB7fTtcblx0XHRcdFx0XHRub2Rlc1tjbGFzc0NvZGVdID0gdmFsO1xuXHRcdFx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobm9kZXMpLm1hcCgoY2lkKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gbm9kZXNbY2lkXTtcblx0XHRcdFx0XHRcdGNsYXNzRGF0YS5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xhc3NEYXRhO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRcdFx0bGlzdC5mb3JFYWNoKChjbGFzc0RhdGEpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IGNpZCA9IGNsYXNzRGF0YS5jaWQ7XG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IHRpZCBpbiBjbGFzc0RhdGEudGVhbXMpIHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlVGVhbSwgcmVqZWN0VGVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4ocmVzb2x2ZVRlYW0pLmNhdGNoKHJlamVjdFRlYW0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdHAuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHRlYW1MaXN0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRlYW1MaXN0LmZvckVhY2goKHRlYW0sIHRpZHgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgbWV0YSA9IHByb21pc2VzW3RpZHhdO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0pe1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSA9IHRlYW07XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShub2Rlcylcblx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe30pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRUZWFtVG9DbGFzczogKHRpZCwgdWlkLCBjb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ0FERF9URUFNX1RPX0NMQVNTJyxcblx0XHRcdFx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdFx0XHRcdGNsYXNzQ29kZTogY29kZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX0vdGVhbXMvJHt0aWR9YCkuc2V0KHtcblx0XHRcdFx0XHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjbGFzc0RhdGEpO1xuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZEluc3RydWN0b3JUb0NsYXNzOiAodWlkLCBjb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWVtYmVyTWFwID0gY2xhc3NEYXRhLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdFx0XHRpZiAodWlkIGluIG1lbWJlck1hcCkge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRpc0FscmVhZHlJbnN0cnVjdG9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzRGF0YTogY2xhc3NEYXRhXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX0lOU1RSVUNUT1JfVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzQ29kZTogY29kZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRcdGFjY2VzczogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnaW5zdHJ1Y3RvcicsXG5cdFx0XHRcdFx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpXG5cdFx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldEluc3RydWN0b3JzQnlDbGFzczogKGNsYXNzQ29kZSkgPT4ge1xuXG5cdFx0fSxcblxuXHRcdGdldFRlYW1Qcm9taXNlczogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRyZXNvbHZlKHZhbCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0b25UZWFtUHJvbWlzZXNDaGFuZ2U6ICh0aWQsIGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodmFsKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdG9uUHJvbWlzZUNoYW5nZTogKHRpZCwgcHJvbWlzZWlkLCBjYWxsYmFjaywgZmFsbGJhY2spID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRjYWxsYmFjayh2YWwpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0Y29tbWVudE9uUHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMudGV4dCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGV4dCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2NvbW1lbnQnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRhdXRob3I6IHBhcmFtcy5hdXRob3IsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0XG5cdFx0XHRcdH0pLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHBheWxvYWQgPSB7XG5cdFx0XHRcdHR5cGU6ICdlZGl0Jyxcblx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH1gKS5wdXNoKHBheWxvYWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRsZXQgcHJvbWlzZWlkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHtwYXJhbXMudGlkfS8ke3Byb21pc2VpZH0vcHJvbWlzZWlkYCkuc2V0KHByb21pc2VpZCkudGhlbigoZmluaXNoZWQpID0+IHtcblx0XHRcdFx0XHRcdHBheWxvYWQucHJvbWlzZWlkID0gcHJvbWlzZWlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VpZDogcHJvbWlzZWlkLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiBwYXlsb2FkXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVuc2V0UHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH0vJHtwYXJhbXMucHJvbWlzZWlkfWApLnJlbW92ZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgdGlkID0gcGFyYW1zLnRpZCArICcnO1xuXHRcdFx0bGV0IGVkaXREYXRhID0gcGFyYW1zO1xuXHRcdFx0ZGVsZXRlIGVkaXREYXRhLnRpZDtcblx0XHRcdGVkaXREYXRhLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLnB1c2goZWRpdERhdGEpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rVG9Qcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgaGFzTGlua0lkID0gcGFyYW1zLmxpbmtpZCA/IHRydWUgOiBmYWxzZTtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2xpbmsnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRsaW5raWQ6IHBhcmFtcy5saW5raWQgfHwgZmFsc2UsXG5cdFx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcblx0XHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSB8fCBmYWxzZSxcblx0XHRcdFx0XHR1cmw6IHBhcmFtcy51cmwgfHwgZmFsc2UsXG5cdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRpZiAoaGFzTGlua0lkKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRvbmUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsZXQgbGlua2lkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9LyR7bGlua2lkfS9saW5raWRgKS5zZXQobGlua2lkKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gZGF0YWJhc2U7XG59XG5cbmV4cG9ydCB7RGF0YWJhc2V9OyIsImltcG9ydCB7Y29uZmlnfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQge0RhdGFiYXNlfSBmcm9tICcuL2RhdGFiYXNlJztcbmltcG9ydCB7Vmlld3N9IGZyb20gJy4vdmlld3MnO1xuXG5sZXQgZGF0YWJhc2UgPSBEYXRhYmFzZShmaXJlYmFzZSwgY29uZmlnKTtcblxubGV0IHBhcmFtcyA9IGdldFF1ZXJ5UGFyYW1zKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCk7XG5sZXQgVEVBTV9JRCA9IHBhcmFtcy50ZWFtO1xubGV0IE1FTlRPUl9NT0RFID0gcGFyYW1zLm1lbnRvciA/IHRydWUgOiBmYWxzZTtcblxubGV0IHZpZXdzID0gVmlld3MoKTtcblxubGV0IGxvZ2luQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luJyk7XG5sZXQgZmVlZGJhY2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmVlZGJhY2snKTtcblxubGV0IGludml0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZpdGUnKTtcbmxldCBjbGFzc0NvZGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhc3MtY29kZScpO1xubGV0IG1lbnRvckxpbmtCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudG9yLWxpbmsnKTtcbmxldCB0YWJMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2hhcnRlci10YWInKTtcblxubGV0IHRlYW1OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tbmFtZScpO1xubGV0IHRlYW1RdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLXF1ZXN0aW9uJyk7XG5sZXQgc2F2ZVF1ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtcXVlc3Rpb24nKTtcbmxldCB0ZWFtRXhwZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tZXhwZWN0YXRpb25zJyk7XG5sZXQgc2F2ZUV4cGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLWV4cGVjdGF0aW9ucycpO1xubGV0IG15VXBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXVwZGF0ZScpO1xubGV0IHRlYW1VcGRhdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tdXBkYXRlcycpO1xubGV0IGFkZExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWxpbmsnKTtcbmxldCB0ZWFtTGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1saW5rcycpO1xubGV0IGFkZE1lZXRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLW1lZXRpbmcnKTtcblxuLypsb2dpbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdGRhdGFiYXNlLmxvZ2luKG1haW4pO1xufSk7Ki9cblxuZGF0YWJhc2UuaW5pdChtYWluLCAoKSA9PiB7XG5cdC8vIE5vIHVzZXIgc2lnbmVkIGluXG5cdHdpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2xvZ2luLmh0bWwke2RvY3VtZW50LmxvY2F0aW9uLnNlYXJjaH1gO1xufSk7XG5cbmZ1bmN0aW9uIG1haW4odXNlcikge1xuXG5cdGluaXRXaXRoVGVhbUNvZGUoKHRpZCkgPT4ge1xuXHRcblx0XHRjb25zb2xlLmxvZygnV2hhdCBtYWtlcyB3b3JraW5nIGF0IE9tbmlwb2ludG1lbnQgYmV0dGVyIHRoYW4sIHNheSwgR29vZ2xlPycpO1xuXG5cdFx0ZmlsbFRleHQoJ2ZpbGwtdXNlci1uYW1lJywgdXNlci5kaXNwbGF5TmFtZSk7XG5cdFx0ZmlsbFNyYygnZmlsbC11c2VyLWltYWdlJywgdXNlci5waG90b1VSTCk7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhcnRlci10YWInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24gPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9jaGFydGVyLmh0bWwke2RvY3VtZW50LmxvY2F0aW9uLnNlYXJjaH1gO1xuXHRcdH0pO1xuXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb21pc2VzLXRhYicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L3Byb21pc2VzLmh0bWwke2RvY3VtZW50LmxvY2F0aW9uLnNlYXJjaH1gO1xuXHRcdH0pO1xuXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWx0aC10YWInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24gPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9oZWFsdGguaHRtbCR7ZG9jdW1lbnQubG9jYXRpb24uc2VhcmNofWA7XG5cdFx0fSk7XG5cblx0XHRsZXQgcHJvbWV0aGV1cyA9IGRhdGFiYXNlLmdldFByb21ldGhldXMoKTtcblxuXHRcdGZlZWRiYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0bWVzc2FnZTogJ1doYXQgZmVlZGJhY2sgZG8geW91IGhhdmUgdG8gc2hhcmUgd2l0aCB1cz8nLFxuXHRcdFx0XHRjYWxsYmFjazogKGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGZlZWRiYWNrKSB7XG5cdFx0XHRcdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0XHRkYXRhYmFzZS5zYXZlRmVlZGJhY2sodGlkLCB1aWQsIGZlZWRiYWNrKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjaywgaXQgcmVhbGx5IGhlbHBzIHVzIGEgbG90IScpO1xuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRsZXQgY2hlY2tlZFBlcm1pc3Npb25zID0gZmFsc2U7XG5cdFx0ZGF0YWJhc2Uub25UZWFtQ2hhbmdlKHRpZCwgKHRlYW0sIG1lbWJlcnMpID0+IHtcblx0XHRcdGlmICghY2hlY2tlZFBlcm1pc3Npb25zKSB7XG5cdFx0XHRcdGNoZWNrVXNlclBlcm1pc3Npb24odGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0Y2hlY2tlZFBlcm1pc3Npb25zID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LCByZXBvcnRFcnJvclRvVXNlcik7XG5cblx0XHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuc2F2ZSh7XG5cdFx0XHR0eXBlOiAnQ0hBUlRFUl9QQUdFJyxcblx0XHRcdHRpZDogdGlkLFxuXHRcdFx0bWVudG9yOiBpc01lbnRvcigpXG5cdFx0fSk7XG5cblx0XHRtYWluQ2hhcnRlclRhYih1c2VyLCB0aWQpO1xuXG5cdH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1haW5DaGFydGVyVGFiKHVzZXIsIHRpZCkge1xuXG5cdGludml0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4oKHRlYW0pID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXHRcdFx0bGV0IGNvZGUgPSB0ZWFtLmpvaW5Db2RlIHx8IGZhbHNlO1xuXHRcdFx0bGV0IGxpbmtFbmQgPSBjb2RlID8gYCZjb2RlPSR7Y29kZX1gIDogJyc7XG5cdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0ke3BhdGhuYW1lfT90ZWFtPSR7dGlkfSR7bGlua0VuZH1gO1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRtZXNzYWdlOiAnU2VuZCB0aGlzIGxpbmsgdG8geW91ciB0ZWFtbWF0ZXM6Jyxcblx0XHRcdFx0dmFsdWU6IGxpbmssXG5cdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGNsYXNzQ29kZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0bWVzc2FnZTogJ0VudGVyIHRoZSBjb2RlIGZyb20geW91ciBpbnN0cnVjdG9yIChjYXNlIHNlbnNpdGl2ZSk6Jyxcblx0XHRcdGNhbGxiYWNrOiAoY29kZSkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSkge1xuXHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRkYXRhYmFzZS5hZGRUZWFtVG9DbGFzcyh0aWQsIHVpZCwgY29kZSkudGhlbigoY2xhc3NEYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KHtcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBhZGRlZCB5b3VyIHRlYW0gdG8gJHtjbGFzc0RhdGEubmFtZX0hYFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fSk7XG5cblx0bWVudG9yTGlua0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0bGV0IHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufSR7cGF0aG5hbWV9P3RlYW09JHt0aWR9Jm1lbnRvcj10cnVlYDtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnU2VuZCB0aGlzIGxpbmsgdG8gYSBtZW50b3I6Jyxcblx0XHRcdHZhbHVlOiBsaW5rLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHt9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHRlYW1OYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRpZiAoIWlzTWVudG9yKCkpIHtcblx0XHRcdGxldCBuYW1lID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRtZXNzYWdlOiAnRWRpdCB5b3VyIHRlYW0gbmFtZTonLFxuXHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0Y2FsbGJhY2s6IChuZXdOYW1lKSA9PiB7XG5cdFx0XHRcdFx0aWYgKG5ld05hbWUpIHtcblx0XHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRcdGRhdGFiYXNlLnVwZGF0ZVRlYW1OYW1lKHRpZCwgdWlkLCBuZXdOYW1lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0c2F2ZVF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRzYXZlUXVlc3QuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRsZXQgcXVlc3Rpb24gPSB0ZWFtUXVlc3QuaW5uZXJUZXh0O1xuXHRcdGRhdGFiYXNlLnVwZGF0ZVF1ZXN0aW9uKHRpZCwgdWlkLCBxdWVzdGlvbikudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0c2F2ZVF1ZXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdH0pO1xuXG5cdHNhdmVFeHBlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdHNhdmVFeHBlY3QuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRsZXQgdGV4dCA9IHRlYW1FeHBlY3QuaW5uZXJUZXh0O1xuXHRcdGxldCBsaXN0ID0gdGV4dC5zcGxpdCgnXFxuJyk7XG5cdFx0bGV0IHBvcHBlZCA9IGxpc3QucG9wKCk7XG5cdFx0aWYgKCFwb3BwZWQubGVuZ3RoIDwgMSkge1xuXHRcdFx0bGlzdC5wdXNoKHBvcHBlZCk7XG5cdFx0fVxuXHRcdGRhdGFiYXNlLnVwZGF0ZUV4cGVjdGF0aW9ucyh0aWQsIHVpZCwgbGlzdCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0c2F2ZUV4cGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHR9KTtcblx0XG5cdGFkZExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdHByb21wdExpbmtEYXRhKGUsIHRpZCwgJ1Bhc3RlIHRoZSBVUkw6Jyk7XG5cdH0pO1xuXG5cdGFkZE1lZXRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdC8vbGV0IG9tbmlXaW4gPSB3aW5kb3cub3BlbignaHR0cHM6Ly93d3cub21uaXBvaW50bWVudC5jb20vbWVldGluZy9jcmVhdGUnKTtcblx0XHRwcm9tcHRMaW5rRGF0YShlLCB0aWQsICdQYXN0ZSB0aGUgbGluayB0byB5b3VyIE9tbmlwb2ludG1lbnQ6Jyk7XG5cdH0pO1xuXG5cdGRhdGFiYXNlLm9uVGVhbUNoYW5nZSh0aWQsICh0ZWFtLCBtZW1iZXJzKSA9PiB7XG5cdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0cmVuZGVyVGVhbUNoYXJ0ZXIodGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdH1cblx0fSwgcmVwb3J0RXJyb3JUb1VzZXIpO1xuXG59XG5cbmZ1bmN0aW9uIHByb21wdExpbmtEYXRhKGUsIHRpZCwgbWVzc2FnZSkge1xuXHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRtZXNzYWdlOiBtZXNzYWdlLFxuXHRcdGNhbGxiYWNrOiAodXJsKSA9PiB7XG5cdFx0XHRpZiAodXJsKSB7XG5cdFx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0XHRtZXNzYWdlOiAnV2hhdCBpcyB0aGUgbmFtZSBvZiB0aGlzIGxpbms/Jyxcblx0XHRcdFx0XHRjYWxsYmFjazogKG5hbWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh1cmwgJiYgbmFtZSkge1xuXHRcdFx0XHRcdFx0XHRhZGRMaW5rLmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTGluayh0aWQsIHVpZCwge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0dXJsOiB1cmxcblx0XHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGFkZExpbmsuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJUZWFtQ2hhcnRlcih0aWQsIHRlYW0sIG1lbWJlcnMpIHtcblxuXHRsZXQgdGVhbU1lbWJlcnMgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cblx0aWYgKHRlYW0ubmFtZSkge1xuXHRcdGZpbGxUZXh0KCdmaWxsLXRlYW0tbmFtZScsIHRlYW0ubmFtZSk7XG5cdH1cblx0aWYgKHRlYW0ucXVlc3Rpb24pIHtcblx0XHRmaWxsVGV4dCgnZmlsbC10ZWFtLXF1ZXN0aW9uJywgdGVhbS5xdWVzdGlvbik7XG5cdH1cblxuXHRsZXQgZXhwZWN0YXRpb25zID0gdGVhbS5leHBlY3RhdGlvbnMgfHwgW107XG5cdGlmIChleHBlY3RhdGlvbnMubGVuZ3RoID4gMCkge1xuXHRcdHRlYW1FeHBlY3QuaW5uZXJIVE1MID0gZXhwZWN0YXRpb25zLnJlZHVjZSgodG90YWwsIHZhbCkgPT4ge1xuXHRcdFx0cmV0dXJuIHRvdGFsICsgYDxsaT4ke3ZhbH08L2xpPmA7XG5cdFx0fSwgJycpO1xuXHR9XG5cblx0aWYgKHRlYW0uc3RhdHVzID09PSAndGVtcGxhdGUnKSB7XG5cdFx0bGV0IGhTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlci1zdWJ0aXRsZScpO1xuXHRcdGhTcGFuLmlubmVySFRNTCA9IGBUZWFtIENoYXJ0ZXIgPHNwYW4gY2xhc3M9XCJ0YWcgaXMtd2FybmluZ1wiPlRlbXBsYXRlPC9zcGFuPmA7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb21pc2VzLXRhYicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWx0aC10YWInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9XG5cblx0LypsZXQgYWxsVXBkYXRlcyA9IHRlYW0udXBkYXRlcyB8fCB7fTtcblx0dGVhbVVwZGF0ZXMuaW5uZXJIVE1MID0gJyc7XG5cdGZvciAobGV0IHVpZCBpbiB0ZWFtTWVtYmVycykge1xuXHRcdGxldCB1c2VyID0gbWVtYmVyc1t1aWRdO1xuXHRcdGxldCB1cGRhdGVNYXAgPSBhbGxVcGRhdGVzW3VpZF0gfHwge307XG5cdFx0bGV0IHVwZGF0ZUxpc3QgPSBPYmplY3Qua2V5cyh1cGRhdGVNYXApLm1hcCh1cGlkID0+IHVwZGF0ZU1hcFt1cGlkXSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0cmV0dXJuIGIudGltZXN0YW1wIC0gYS50aW1lc3RhbXA7XG5cdFx0fSk7XG5cdFx0bGV0IHVwZGF0ZSA9IHVwZGF0ZUxpc3RbMF07XG5cdFx0bGV0IG1lc3NhZ2UgPSAnTm8gdXBkYXRlcyB5ZXQuJztcblx0XHRsZXQgdHMgPSB0ZWFtTWVtYmVyc1t1aWRdLmpvaW5lZDtcblx0XHRpZiAodXBkYXRlKSB7XG5cdFx0XHRtZXNzYWdlID0gdXBkYXRlLnVwZGF0ZTtcblx0XHRcdHRzID0gdXBkYXRlLnRpbWVzdGFtcDtcblx0XHR9XG5cdFx0bGV0IHRpbGUgPSB2aWV3cy5nZXRSb2xlQW5kVXBkYXRlVGlsZSh7XG5cdFx0XHRuYW1lOiB1c2VyLm5hbWUsXG5cdFx0XHRyb2xlOiB0ZWFtLm1lbWJlcnNbdWlkXS5yb2xlLFxuXHRcdFx0aW1hZ2U6IHVzZXIuaW1hZ2UsXG5cdFx0XHR1cGRhdGU6IG1lc3NhZ2UsXG5cdFx0XHR0aW1lc3RhbXA6IHRzXG5cdFx0fSk7XG5cdFx0dGVhbVVwZGF0ZXMuYXBwZW5kQ2hpbGQodGlsZSk7XG5cdH0qL1xuXG5cdGxldCBpc1RlYW1UZW1wbGF0ZSA9IHRlYW0uc3RhdHVzID09PSAndGVtcGxhdGUnO1xuXG5cdHRlYW1VcGRhdGVzLmlubmVySFRNTCA9ICcnO1xuXHRmb3IgKGxldCB1aWQgaW4gdGVhbU1lbWJlcnMpIHtcblx0XHRsZXQgdXNlciA9IG1lbWJlcnNbdWlkXTtcblx0XHRsZXQgbWVtYmVyID0gdGVhbU1lbWJlcnNbdWlkXTtcblx0XHRpZiAobWVtYmVyLnN0YXR1cyA9PT0gJ21lbWJlcicgJiYgIWlzVGVhbVRlbXBsYXRlKSB7XG5cdFx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFJvbGVUaWxlKHtcblx0XHRcdFx0bmFtZTogdXNlci5uYW1lLFxuXHRcdFx0XHRyb2xlOiBtZW1iZXIucm9sZSxcblx0XHRcdFx0aW1hZ2U6IHVzZXIuaW1hZ2UsXG5cdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiBtZW1iZXIucmVzcG9uc2liaWxpdHkgfHwgJ1doYXQgYXJlIHlvdSByZXNwb25zaWJsZSBmb3I/Jyxcblx0XHRcdFx0ZWRpdGFibGU6IHVpZCA9PT0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQgJiYgIWlzTWVudG9yKClcblx0XHRcdH0pO1xuXHRcdFx0dGVhbVVwZGF0ZXMuYXBwZW5kQ2hpbGQodGlsZSk7XG5cdFx0fSBlbHNlIGlmIChtZW1iZXIuc3RhdHVzID09PSAndGVtcGxhdGUnKSB7XG5cdFx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFJvbGVUZW1wbGF0ZVRpbGUoe1xuXHRcdFx0XHRuYW1lOiB1c2VyLm5hbWUsXG5cdFx0XHRcdHJvbGU6IG1lbWJlci5yb2xlLFxuXHRcdFx0XHRpbWFnZTogdXNlci5pbWFnZSxcblx0XHRcdFx0aWNvbjogbWVtYmVyLmljb24sXG5cdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiBtZW1iZXIucmVzcG9uc2liaWxpdHkgfHwgJ1doYXQgYXJlIHlvdSByZXNwb25zaWJsZSBmb3I/Jyxcblx0XHRcdFx0ZWRpdGFibGU6ICFpc01lbnRvcigpLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0b25TYXZlOiAoZGF0YSkgPT4ge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdFx0bGV0IHVpZEF1dGhvciA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0XHRcdGxldCB1aWRFZGl0ID0gZGF0YS5tb2RlbC51aWQ7XG5cdFx0XHRcdFx0ZGF0YWJhc2UudXBkYXRlUm9sZSh0aWQsIHVpZEF1dGhvciwge1xuXHRcdFx0XHRcdFx0cm9sZTogZGF0YS5yb2xlLFxuXHRcdFx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IGRhdGEucmVzcG9uc2liaWxpdHksXG5cdFx0XHRcdFx0XHR1aWQ6IHVpZEVkaXRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0b25JY29uRWRpdDogKGRhdGEpID0+IHtcblx0XHRcdFx0XHRsZXQgdWlkQXV0aG9yID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0bGV0IHVpZEVkaXQgPSBkYXRhLm1vZGVsLnVpZDtcblx0XHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0XHRtZXNzYWdlOiBgQ2hhbmdlIGljb24gZm9yICR7ZGF0YS5tb2RlbC5yb2xlfT9gLFxuXHRcdFx0XHRcdFx0dmFsdWU6IGRhdGEubW9kZWwuaWNvbixcblx0XHRcdFx0XHRcdGNhbGxiYWNrOiAoaWNvblZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChpY29uVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS51cGRhdGVSb2xlSWNvbih0aWQsIHVpZEF1dGhvciwge1xuXHRcdFx0XHRcdFx0XHRcdFx0dWlkOiB1aWRFZGl0LFxuXHRcdFx0XHRcdFx0XHRcdFx0aWNvbjogaWNvblZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR0ZWFtVXBkYXRlcy5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoaXNUZWFtVGVtcGxhdGUpIHtcblx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnZmllbGQnKTtcblx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy1ncm91cGVkJyk7XG5cdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtZ3JvdXBlZC1jZW50ZXJlZCcpO1xuXHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbi10by1tZW50b3InKTtcblx0XHRkaXYuaW5uZXJIVE1MID0gYFxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0PGJ1dHRvbiBkYXRhLWJpbmQ9XCJidXR0b24tYWRkLXJvbGVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXVzZXJcIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuPkFkZCBSb2xlPC9zcGFuPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiBkYXRhLWJpbmQ9XCJidXR0b24tcmVtb3ZlLXJvbGVcIiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXIgaXMtb3V0bGluZWRcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcmVtb3ZlXCI+PC9pPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8c3Bhbj5SZW1vdmUgUm9sZTwvc3Bhbj5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgO1xuXHRcdGxldCBidG5BZGQgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1idXR0b24tYWRkLXJvbGVdJylbMF07XG5cdFx0YnRuQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdGxldCB1aWRBdXRob3IgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdGRhdGFiYXNlLmFkZFRlbXBsYXRlUm9sZSh0aWQsIHVpZEF1dGhvcik7XG5cdFx0fSk7XG5cdFx0bGV0IGJ0blJlbW92ZSA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWJ1dHRvbi1yZW1vdmUtcm9sZV0nKVswXTtcblx0XHRidG5SZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0bGV0IHZleFRleHQgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0PGg1IGNsYXNzPVwidGl0bGVcIj5FbnRlciB0aGUgTnVtYmVyIG9mIHRoZSBSb2xlIHRvIFJlbW92ZTwvaDU+XG5cdFx0XHRcdFx0PHVsPmA7XG5cdFx0XHRsZXQgY291bnRlciA9IDE7XG5cdFx0XHRsZXQgbWFwID0ge307XG5cdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbU1lbWJlcnMpIHtcblx0XHRcdFx0bGV0IHVzZXIgPSBtZW1iZXJzW3VpZF07XG5cdFx0XHRcdGxldCBtZW1iZXIgPSB0ZWFtTWVtYmVyc1t1aWRdO1xuXHRcdFx0XHRpZiAobWVtYmVyLnN0YXR1cyA9PT0gJ3RlbXBsYXRlJykge1xuXHRcdFx0XHRcdHZleFRleHQgKz0gYDxsaT4ke2NvdW50ZXJ9OiAke21lbWJlci5yb2xlfTwvbGk+YDtcblx0XHRcdFx0XHRtYXBbY291bnRlcl0gPSB1aWQ7XG5cdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR2ZXhUZXh0ICs9IGBcblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHRcdDxicj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0dW5zYWZlTWVzc2FnZTogdmV4VGV4dCxcblx0XHRcdFx0Y2FsbGJhY2s6IChyZW1vdmVJZHgpID0+IHtcblx0XHRcdFx0XHRpZiAocmVtb3ZlSWR4KSB7XG5cdFx0XHRcdFx0XHRsZXQgYXV0aG9yID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0XHRsZXQgcmlkeCA9IHBhcnNlSW50KHJlbW92ZUlkeCwgMTApO1xuXHRcdFx0XHRcdFx0bGV0IHVpZFJlbW92ZSA9IG1hcFtyaWR4XTtcblx0XHRcdFx0XHRcdGlmICh1aWRSZW1vdmUpIHtcblx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UucmVtb3ZlTWVtYmVyKHRpZCwgYXV0aG9yLCB1aWRSZW1vdmUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0dGVhbVVwZGF0ZXMuYXBwZW5kQ2hpbGQoZGl2KTtcblx0fVxuXG5cdGxldCByb2xlU2F2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS1yb2xlLXNhdmUnKTtcblx0bGV0IHJvbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS10aXRsZScpO1xuXHRsZXQgcmVzcElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXJlc3BvbnNpYmlsaXR5Jyk7XG5cdGlmIChyb2xlU2F2ZSAmJiByb2xlSW5wdXQgJiYgcmVzcElucHV0KSB7XG5cdFx0cm9sZVNhdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0cm9sZVNhdmUuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdFx0bGV0IHJvbGUgPSByb2xlSW5wdXQuaW5uZXJUZXh0O1xuXHRcdFx0bGV0IHJlc3AgPSByZXNwSW5wdXQuaW5uZXJUZXh0O1xuXHRcdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0ZGF0YWJhc2UudXBkYXRlUm9sZSh0aWQsIHVpZCwge1xuXHRcdFx0XHRyb2xlOiByb2xlLFxuXHRcdFx0XHRyZXNwb25zaWJpbGl0eTogcmVzcFxuXHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRyb2xlU2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0fSk7XG5cdH1cblxuXHR0ZWFtTGlua3MuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBsaW5rTWFwID0gdGVhbS5saW5rcyB8fCB7fTtcblx0aWYgKE9iamVjdC5rZXlzKGxpbmtNYXApLmxlbmd0aCA+IDApIHtcblx0XHRmb3IgKGxldCBsaWQgaW4gbGlua01hcCkge1xuXHRcdFx0bGV0IGRhdGEgPSBsaW5rTWFwW2xpZF07XG5cdFx0XHRsZXQgbGluayA9IHZpZXdzLmdldExpbmtJdGVtKHtcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHRrZXk6IGxpZFxuXHRcdFx0fSk7XG5cdFx0XHRsaW5rLmRhdGFzZXQua2V5ID0gbGlkO1xuXHRcdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGRhdGFiYXNlLmdldFByb21ldGhldXMoKS5zYXZlKHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyh7XG5cdFx0XHRcdFx0dHlwZTogJ0NMSUNLX1RFQU1fTElOSycsXG5cdFx0XHRcdFx0a2V5OiBsaWQsXG5cdFx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHRcdHVybDogZGF0YS51cmxcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdHRlYW1MaW5rcy5hcHBlbmRDaGlsZChsaW5rKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0bGV0IG5vTGlua3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRub0xpbmtzLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8cCBjbGFzcz1cImlzLTZcIj5ObyBsaW5rcyB5ZXQuPC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHR0ZWFtTGlua3MuYXBwZW5kQ2hpbGQobm9MaW5rcyk7XG5cdH1cblxuXHRsZXQgZWRpdExpbmtCdG5zID0gdGVhbUxpbmtzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VkaXQtbGluaycpO1xuXHRmb3IgKGxldCBiID0gMDsgYiA8IGVkaXRMaW5rQnRucy5sZW5ndGg7IGIrKykge1xuXHRcdGVkaXRMaW5rQnRuc1tiXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRsZXQga2V5ID0gZWRpdExpbmtCdG5zW2JdLmRhdGFzZXQuZm9yO1xuXHRcdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0aWYgKGtleSkge1xuXHRcdFx0XHRsZXQgZGF0YSA9IGxpbmtNYXBba2V5XTtcblx0XHRcdFx0bGV0IHZleFdpbiA9IHZleC5kaWFsb2cuYWxlcnQoe1xuXHRcdFx0XHRcdHVuc2FmZU1lc3NhZ2U6IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJsYWJlbFwiPk5hbWU8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCBpZD1cImVkaXQtbGluay1uYW1lXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGlzLXByaW1hcnlcIiB2YWx1ZT1cIiR7ZGF0YS5uYW1lfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImxhYmVsXCI+VVJMPC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJlZGl0LWxpbmstdXJsXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGlzLXByaW1hcnlcIiB2YWx1ZT1cIiR7ZGF0YS51cmx9XCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0YCxcblx0XHRcdFx0XHRidXR0b25zOiBbXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCh7fSwgdmV4LmRpYWxvZy5idXR0b25zLllFUywge3RleHQ6ICdTYXZlJ30pLFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdEZWxldGUnLCBjbGljazogKGUpID0+IHtcblx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UucmVtb3ZlTGluayh0aWQsIHVpZCwga2V5KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdFx0XHRcdHZleFdpbi5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0fX0pLFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdDYW5jZWwnfSlcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiAoc2F2ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHNhdmUpIHtcblx0XHRcdFx0XHRcdFx0bGV0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWxpbmstbmFtZScpO1xuXHRcdFx0XHRcdFx0XHRsZXQgdXJsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1saW5rLXVybCcpO1xuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKG5hbWVJbnB1dC52YWx1ZSwgdXJsSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRpZiAobmFtZUlucHV0LnZhbHVlICYmIHVybElucHV0LnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UudXBkYXRlTGluayh0aWQsIHVpZCwga2V5LCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBuYW1lSW5wdXQudmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0XHR1cmw6IHVybElucHV0LnZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cbn1cblxuZnVuY3Rpb24gY2hlY2tVc2VyUGVybWlzc2lvbih0aWQsIHRlYW0sIG1lbWJlcnMpIHtcblx0LypyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG5cdH0pOyovXG5cblx0aWYgKGlzTWVudG9yKCkpIHtcblx0XHRjb25zb2xlLmxvZygnaW4gbWVudG9yIG1vZGUnKVxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbWVudG9yaW5nJyk7XG5cdFx0bGV0IGVkaXRhYmxlTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY29udGVudGVkaXRhYmxlPXRydWVdJylcblx0XHRmb3IgKGxldCBuID0gMDsgbiA8IGVkaXRhYmxlTm9kZXMubGVuZ3RoOyBuKyspIHtcblx0XHRcdGVkaXRhYmxlTm9kZXNbbl0uc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XG5cdFx0fVxuXHR9IFxuXG5cdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0aWYgKHVpZCBpbiBtZW1iZXJzIHx8IGlzTWVudG9yKCkpIHtcblx0XHRpZiAoT2JqZWN0LmtleXModGVhbSkubGVuZ3RoID4gMCkge1xuXHRcdFx0cmVuZGVyVGVhbUNoYXJ0ZXIodGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAocGFyYW1zLmNvZGUpIHtcblx0XHR2ZXguZGlhbG9nLmNvbmZpcm0oe1xuXHRcdFx0bWVzc2FnZTogYERvIHlvdSB3YW50IHRvIGpvaW4gJHt0ZWFtLm5hbWUgfHwgJ3RoaXMgdGVhbSd9P2AsXG5cdFx0XHRidXR0b25zOiBbXG5cdFx0XHRcdCQuZXh0ZW5kKHt9LCB2ZXguZGlhbG9nLmJ1dHRvbnMuWUVTLCB7dGV4dDogJ1llcyd9KSxcblx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdObyd9KVxuXHRcdFx0XSxcblx0XHRcdGNhbGxiYWNrOiAoeWVzKSA9PiB7XG5cdFx0XHRcdGlmICh5ZXMpIHtcblx0XHRcdFx0XHRkYXRhYmFzZS5qb2luVGVhbSh0aWQsIHVpZCwgcGFyYW1zLmNvZGUpLnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoe1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGBDb25ncmF0dWxhdGlvbnMsIHlvdSBqdXN0IGpvaW5lZCAke3RlYW0ubmFtZSB8fCAneW91ciBuZXcgdGVhbSd9IWBcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGlmIChPYmplY3Qua2V5cyh0ZWFtKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVuZGVyVGVhbUNoYXJ0ZXIodGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbWUuaHRtbCc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbWUuaHRtbCc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9tZS5odG1sJztcblx0fVxufVxuXG5mdW5jdGlvbiBpc01lbnRvcigpIHtcblx0cmV0dXJuIE1FTlRPUl9NT0RFO1xufVxuXG5mdW5jdGlvbiByZXBvcnRFcnJvclRvVXNlcihlcnIpIHtcblx0dmV4LmRpYWxvZy5hbGVydChlcnIgKyAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7XG5cdHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7XG5cdHZhciBwYXJhbXMgPSB7fSxcblx0XHR0b2tlbnMsXG5cdFx0cmUgPSAvWz8mXT8oW149XSspPShbXiZdKikvZztcblx0d2hpbGUgKHRva2VucyA9IHJlLmV4ZWMocXMpKSB7XG5cdFx0cGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMV0pXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMl0pO1xuXHR9XG5cdHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGZpbGxUZXh0KGNsYXNzTmFtZSwgdGV4dCkge1xuXHRsZXQgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG5cdGZvciAobGV0IHMgPSAwOyBzIDwgc3BhbnMubGVuZ3RoOyBzKyspIHtcblx0XHRzcGFuc1tzXS5pbm5lclRleHQgPSB0ZXh0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpbGxTcmMoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLnNyYyA9IHRleHQ7XG5cdH1cbn1cblxubGV0IGNhbmNlbHMgPSAwO1xuZnVuY3Rpb24gaW5pdFdpdGhUZWFtQ29kZShjYWxsYmFjaykge1xuXHRpZiAoVEVBTV9JRCkge1xuXHRcdGNhbGxiYWNrKFRFQU1fSUQpO1xuXHR9IGVsc2Uge1xuXHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdG1lc3NhZ2U6ICdFbnRlciB5b3VyIHRlYW0gY29kZTonLFxuXHRcdFx0Y2FsbGJhY2s6IChjb2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soY29kZSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY2FuY2VscyA+PSAxKSB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gJy4vJztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYW5jZWxzKys7XG5cdFx0XHRcdFx0aW5pdFdpdGhUZWFtQ29kZShjYWxsYmFjayk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG4iLCJsZXQgVmlld3MgPSAoKSA9PiB7XG5cblx0bGV0IHZpZXdzID0ge1xuXG5cdFx0Z2V0Um9sZUFuZFVwZGF0ZVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IHBvc3RlZCA9IG5ldyBEYXRlKG1vZGVsLnRpbWVzdGFtcCk7XG5cdFx0XHRsZXQgZGF0ZUZvcm1hdCA9IG1vbWVudChwb3N0ZWQpLmZvcm1hdCgnTS9EIGg6bW0gQScpO1xuXHRcdFx0bGV0IGRpZmYgPSBtb21lbnQoRGF0ZS5ub3coKSkuZGlmZihtb21lbnQobW9kZWwudGltZXN0YW1wKSk7XG5cdFx0XHRsZXQgZGF5c1NpbmNlTGFzdFVwZGF0ZSA9IG1vbWVudC5kdXJhdGlvbihkaWZmKS5hc0RheXMoKTtcblx0XHRcdGxldCB0YWdDbGFzcyA9ICdpcy1zdWNjZXNzJztcblx0XHRcdGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDUpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtZGFuZ2VyJztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gMykge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy13YXJuaW5nJztcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtNVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdFx0PGZpZ3VyZSBjbGFzcz1cIm1lZGlhLWxlZnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImltYWdlIGlzLTQ4eDQ4XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhLWNvbnRlbnQgY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnJvbGV9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTdcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWcgJHt0YWdDbGFzc31cIj4ke2RhdGVGb3JtYXR9PC9zcGFuPiAke21vZGVsLnVwZGF0ZX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGlsZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdDxoMyBpZD1cIm15LXRpdGxlXCIgY2xhc3M9XCJ0aXRsZSBpcy01XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHRcdDxwIGlkPVwibXktcmVzcG9uc2liaWxpdHlcIiBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5yZXNwb25zaWJpbGl0eX08L3A+XG5cdFx0XHRcdFx0PGJ1dHRvbiBpZD1cIm15LXJvbGUtc2F2ZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPlNhdmUgUm9sZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtNVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdFx0PGZpZ3VyZSBjbGFzcz1cIm1lZGlhLWxlZnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImltYWdlIGlzLTQ4eDQ4XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtN1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQke2VkaXRTZWN0aW9ufVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGlsZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVUZW1wbGF0ZVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yZXNwb25zaWJpbGl0eX08L3A+XG5cdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGVkaXRCdXR0b24gPSBgYDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdDxoMyBkYXRhLWJpbmQ9XCJmaWVsZC1yb2xlXCIgY2xhc3M9XCJ0aXRsZSBpcy01XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHRcdDxwIGRhdGEtYmluZD1cImZpZWxkLXJlc3BvbnNpYmlsaXR5XCIgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0XHRlZGl0QnV0dG9uID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtNFwiPlxuXHRcdFx0XHRcdDxidXR0b24gZGF0YS1iaW5kPVwiYnV0dG9uLXNhdmVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5TYXZlIFJvbGU8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCB7bW9kZWwuZWRpdGFibGUgPyAnaXMtOCcgOiAnaXMtMTInfVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdFx0PGZpZ3VyZSBjbGFzcz1cIm1lZGlhLWxlZnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGRhdGEtYmluZD1cImZpZWxkLWljb25cIiBjbGFzcz1cImltYWdlIGlzLTQ4eDQ4IGljb24taW1hZ2VcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtJHttb2RlbC5pY29uIHx8ICd1c2VyJ31cIj48L2k+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7ZWRpdFNlY3Rpb259XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQke2VkaXRCdXR0b259XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGlsZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSAmJiBtb2RlbC5vblNhdmUpIHtcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWJ1dHRvbi1zYXZlXScpWzBdO1xuXHRcdFx0XHRsZXQgcm9sZSA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLXJvbGVdJylbMF07XG5cdFx0XHRcdGxldCByZXNwID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJpbmQ9ZmllbGQtcmVzcG9uc2liaWxpdHldJylbMF07XG5cdFx0XHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdFx0bW9kZWwub25TYXZlKHtcblx0XHRcdFx0XHRcdGU6IGUsXG5cdFx0XHRcdFx0XHRtb2RlbDogbW9kZWwsXG5cdFx0XHRcdFx0XHRyb2xlOiByb2xlLmlubmVyVGV4dCxcblx0XHRcdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiByZXNwLmlubmVyVGV4dFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGV0IGljb25FZGl0ID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJpbmQ9ZmllbGQtaWNvbl0nKVswXTtcblx0XHRcdFx0aWNvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdG1vZGVsLm9uSWNvbkVkaXQoe1xuXHRcdFx0XHRcdFx0ZTogZSxcblx0XHRcdFx0XHRcdG1vZGVsOiBtb2RlbFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFByb2dyZXNzVXBkYXRlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBwb3N0ZWQgPSBuZXcgRGF0ZShtb2RlbC50aW1lc3RhbXApO1xuXHRcdFx0bGV0IGRhdGVGb3JtYXQgPSBtb21lbnQocG9zdGVkKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTtcblx0XHRcdGxldCBkaWZmID0gbW9tZW50KERhdGUubm93KCkpLmRpZmYobW9tZW50KG1vZGVsLnRpbWVzdGFtcCkpO1xuXHRcdFx0bGV0IGRheXNTaW5jZUxhc3RVcGRhdGUgPSBtb21lbnQuZHVyYXRpb24oZGlmZikuYXNEYXlzKCk7XG5cdFx0XHRsZXQgdGFnQ2xhc3MgPSAnaXMtc3VjY2Vzcyc7XG5cdFx0XHRpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSA1KSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLWRhbmdlcic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDMpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtd2FybmluZyc7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWdzIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWcgJHt0YWdDbGFzc30gaXMtbWVkaXVtXCI+JHtkYXRlRm9ybWF0fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWcgaXMtbWVkaXVtXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpbWFnZSBpbWFnZS10YWctcm91bmRlZCBpcy0zMngzMlwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlzLW1lZGl1bVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0JHttb2RlbC5uYW1lfVxuXHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTdcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0JHttb2RlbC51cGRhdGV9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRMaW5rSXRlbTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaWNvbiA9ICdmaWxlJztcblx0XHRcdGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUnKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAnZ29vZ2xlJztcblx0XHRcdFx0aWYgKG1vZGVsLnVybC5pbmRleE9mKCdkb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQnKSA+IC0xKSB7XG5cdFx0XHRcdFx0aWNvbiA9ICdmaWxlLXRleHQnO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdkb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzJykgPiAtMSkge1xuXHRcdFx0XHRcdGljb24gPSAndGFibGUnO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdkb2NzLmdvb2dsZS5jb20vcHJlc2VudGF0aW9uJykgPiAtMSkge1xuXHRcdFx0XHRcdGljb24gPSAnc2xpZGVzaGFyZSc7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ29tbmlwb2ludG1lbnQuY29tL21lZXRpbmcnKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAnY2FsZW5kYXInO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignZ2l0aHViLmNvbScpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdnaXRodWInO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZigneW91dHViZS5jb20nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAneW91dHViZS1wbGF5Jztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ3ZpbWVvLmNvbScpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICd2aW1lbyc7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdjb2Rlc2hhcmUuaW8nKSA+IC0xIHx8IG1vZGVsLnVybC5pbmRleE9mKCdjb2RlcGVuLmlvJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2NvZGUtZm9yayc7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7bW9kZWwudXJsfVwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS0ke2ljb259XCI+PC9pPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8c3Bhbj4ke21vZGVsLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHQ8L2E+XG5cdFx0XHRcdDxhIGNsYXNzPVwiaXMtZGFuZ2VyIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gZWRpdC1saW5rXCIgZGF0YS1mb3I9XCIke21vZGVsLmtleX1cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDwvYT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0ZWFtLWxpbmsnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRUZWFtVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke21vZGVsLnRpZH1gO1xuXHRcdFx0bGV0IHRhZyA9IGA8c3BhbiBjbGFzcz1cInRhZyBpcy13YXJuaW5nXCI+VGVtcGxhdGU8L3NwYW4+YDtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy12ZXJ0aWNhbFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3hcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGVcIj4ke21vZGVsLm5hbWV9ICR7bW9kZWwuaXNUZW1wbGF0ZSA/IHRhZyA6ICcnfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZVwiPlxuXHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiJHtsaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IFRlYW0gQ2hhcnRlcjwvYT5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy00Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IGNsYXNzTGluayA9IGAke29yaWdpbn0vY2xhc3MuaHRtbD9jbGFzcz0ke21vZGVsLmNpZH1gO1xuXHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhtb2RlbC50ZWFtcykuZmlsdGVyKCh0aWQpID0+IHtcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1vZGVsLnRlYW1zW3RpZF0pLmxlbmd0aCA+IDA7XG5cdFx0XHR9KS5tYXAoKHRpZCkgPT4ge1xuXHRcdFx0XHRsZXQgdGVhbSA9IG1vZGVsLnRlYW1zW3RpZF07XG5cdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRyZXR1cm4gdGVhbTtcblx0XHRcdH0pO1xuXHRcdFx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0XHRcdGxldCBpdGVtcyA9IGxpc3QubWFwKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdGxldCB0ZWFtTGluayA9IGAke29yaWdpbn0vY2hhcnRlci5odG1sP3RlYW09JHt0ZWFtLnRpZH0mbWVudG9yPXRydWVgO1xuXHRcdFx0XHRsZXQgaXRlbUhUTUwgPSBgXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbHVtbiBpcy00XCI+XG5cdFx0XHRcdFx0XHQ8YSBocmVmPSR7dGVhbUxpbmt9IGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtZnVsbHdpZHRoXCI+JHt0ZWFtLm5hbWV9PC9hPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXHRcdFx0XHRyZXR1cm4gaXRlbUhUTUw7XG5cdFx0XHR9KTtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy12ZXJ0aWNhbFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGJveCBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZVwiPiR7bn0gdGVhbSR7biA9PT0gMSA/ICcnIDogJ3MnfSB8IENvZGU6ICR7bW9kZWwuY2lkfTwvcD5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7Y2xhc3NMaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IENsYXNzIERhc2hib2FyZDwvYT5cblx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdC8qPGRpdiBjbGFzcz1cImNvbHVtbnMgaXMtbXVsdGlsaW5lXCI+XG5cdFx0XHRcdFx0XHRcdFx0JHtpdGVtcy5qb2luKCcnKX1cblx0XHRcdFx0XHRcdFx0PC9kaXY+Ki9cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRcdC8vPGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDbGFzcyBQcm9ncmVzczwvYT5cblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFVzZXJUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0PGZpZ3VyZSBjbGFzcz1cIm1lZGlhLWxlZnRcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OCBpbWFnZS10YWctcm91bmRlZFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwuc3VidGl0bGV9PC9wPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGVhbVRhYmxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8dGhlYWQ+XG5cdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0PHRoPlRlYW0gTmFtZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+TWVtYmVyczwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+Q2hhcnRlciBFZGl0czwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+UHJvZ3Jlc3MgVXBkYXRlczwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+TGFzdCBBY3RpdmU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlZpZXcgVGVhbTwvdGg+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0PHRib2R5PlxuXHRcdFx0YDtcblx0XHRcdG1vZGVsLnRlYW1zLmZvckVhY2goKHRlYW0pID0+IHtcblx0XHRcdFx0bGV0IHVwZGF0ZXMgPSAwO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbS51cGRhdGVzKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgdXBpZCBpbiB0ZWFtLnVwZGF0ZXNbdWlkXSkge1xuXHRcdFx0XHRcdFx0dXBkYXRlcysrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9Jm1lbnRvcj10cnVlYDtcblx0XHRcdFx0bGV0IG1lbWJlcnMgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0ZD4ke3RlYW0ubmFtZX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7T2JqZWN0LmtleXMobWVtYmVycykubGVuZ3RofTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtPYmplY3Qua2V5cyh0ZWFtLmVkaXRzKS5sZW5ndGh9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke3VwZGF0ZXN9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke21vbWVudCh0ZWFtLmxhc3RBY2Nlc3MpLmZyb21Ob3coKX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPlxuXHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiJHtsaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IENoYXJ0ZXI8L2E+XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdGA7XG5cdFx0XHR9KTtcblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0YDtcblx0XHRcdGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ3RhYmxlJyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLW5hcnJvdycpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1mdWxsd2lkdGgnKTtcblx0XHRcdFx0dGFibGUuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiB0YWJsZTtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUZWFtR3JpZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBgO1xuXHRcdFx0bW9kZWwudGVhbXMuZm9yRWFjaCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdXBkYXRlcyA9IDA7XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiB0ZWFtLnVwZGF0ZXMpIHtcblx0XHRcdFx0XHRmb3IgKGxldCB1cGlkIGluIHRlYW0udXBkYXRlc1t1aWRdKSB7XG5cdFx0XHRcdFx0XHR1cGRhdGVzKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0vY2hhcnRlci5odG1sP3RlYW09JHt0ZWFtLnRpZH0mY29kZT0ke3RlYW0uam9pbkNvZGV9YDtcblx0XHRcdFx0bGV0IG1lbWJlcnMgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNlwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveCBjb250ZW50IGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdDxoMiBjbGFzcz1cInRpdGxlIGlzLTRcIj4ke3RlYW0ubmFtZX08L2gyIGNsYXNzPVwidGl0bGUgaXMtNFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5MYXN0IGFjdGl2ZSAke21vbWVudCh0ZWFtLmxhc3RBY2Nlc3MpLmZyb21Ob3coKX08L3A+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbmVhdGx5LXNwYWNlZFwiPiR7T2JqZWN0LmtleXModGVhbS5lZGl0cykubGVuZ3RofSBjaGFydGVyIGVkaXRzPC9wPlxuXHRcdFx0XHRgO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbS5tZW1iZXJzKSB7XG5cdFx0XHRcdFx0bGV0IHByb2ZpbGUgPSBtb2RlbC5wcm9maWxlc1t1aWRdO1xuXHRcdFx0XHRcdGxldCB1c2VyTW9kZWwgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiAnVW5rbm93biBTdHVkZW50Jyxcblx0XHRcdFx0XHRcdGltYWdlOiAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJyxcblx0XHRcdFx0XHRcdHN1YnRpdGxlOiAnLi4uJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAocHJvZmlsZS5uYW1lKSB7XG5cdFx0XHRcdFx0XHR1c2VyTW9kZWwubmFtZSA9IHByb2ZpbGUubmFtZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHByb2ZpbGUuaW1hZ2UpIHtcblx0XHRcdFx0XHRcdHVzZXJNb2RlbC5pbWFnZSA9IHByb2ZpbGUuaW1hZ2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0ZWFtLm1lbWJlcnNbdWlkXS5yb2xlKSB7XG5cdFx0XHRcdFx0XHR1c2VyTW9kZWwuc3VidGl0bGUgPSB0ZWFtLm1lbWJlcnNbdWlkXS5yb2xlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsZXQgdXNlckRpdiA9IHZpZXdzLmdldFVzZXJUaWxlKHVzZXJNb2RlbCk7XG5cdFx0XHRcdFx0aHRtbCArPSB1c2VyRGl2LmlubmVySFRNTDtcblx0XHRcdFx0fVxuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWdyb3VwZWQgaGFzLXRleHQtY2VudGVyZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiJHtsaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5Kb2luIFRlYW08L2E+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9KTtcblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNlwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveCBjb250ZW50IGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdDxoMiBjbGFzcz1cInRpdGxlIGlzLTRcIj5TdGFydCBOZXcgVGVhbTwvaDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbmVhdGx5LXNwYWNlZFwiPkRvbid0IHNlZSB5b3VyIHRlYW0/PC9wPlxuXHRcdFx0YDtcblxuXHRcdFx0bGV0IHByb2ZpbGUgPSBtb2RlbC5wcm9maWxlc1ttb2RlbC51aWRdO1xuXHRcdFx0bGV0IHVzZXJNb2RlbCA9IHtcblx0XHRcdFx0bmFtZTogJ1Vua25vd24gU3R1ZGVudCcsXG5cdFx0XHRcdGltYWdlOiAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJyxcblx0XHRcdFx0c3VidGl0bGU6ICdUZWFtIE1lbWJlcidcblx0XHRcdH1cblx0XHRcdGlmIChwcm9maWxlLm5hbWUpIHtcblx0XHRcdFx0dXNlck1vZGVsLm5hbWUgPSBwcm9maWxlLm5hbWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAocHJvZmlsZS5pbWFnZSkge1xuXHRcdFx0XHR1c2VyTW9kZWwuaW1hZ2UgPSBwcm9maWxlLmltYWdlO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHVzZXJEaXYgPSB2aWV3cy5nZXRVc2VyVGlsZSh1c2VyTW9kZWwpO1xuXHRcdFx0aHRtbCArPSB1c2VyRGl2LmlubmVySFRNTDtcblxuXHRcdFx0aHRtbCArPSBgXHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWdyb3VwZWQgaGFzLXRleHQtY2VudGVyZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YSBpZD1cIm5ldy10ZWFtXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlN0YXJ0IE5ldyBUZWFtPC9hPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbnMnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLW11bHRpbGluZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFByb21pc2VUYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PHRoZWFkPlxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0aD5OYW1lPC90aD5cblx0XHRcdFx0XHRcdDx0aD5NZW1iZXI8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlN0YXR1czwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+TGFzdCBBY3RpdmU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlZpZXc8L3RoPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdDx0Ym9keT5cblx0XHRcdGA7XG5cblx0XHRcdE9iamVjdC5rZXlzKG1vZGVsLnByb21pc2VzKS5tYXAoKHBkaWQpID0+IHtcblx0XHRcdFx0bGV0IHZhbCA9IG1vZGVsLnByb21pc2VzW3BkaWRdO1xuXHRcdFx0XHRcdHZhbC5rZXkgPSBwZGlkO1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdH0pLmZvckVhY2goKHByb21pc2UpID0+IHtcblx0XHRcdFx0bGV0IGF1dGhvck5hbWUgPSAnVW5rbm93bic7XG5cdFx0XHRcdGxldCBsYXN0QWN0aXZlID0gbW9tZW50KHByb21pc2UubGFzdEFjdGl2ZSkuZnJvbU5vdygpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF1dGhvck5hbWUgPSBtb2RlbC5wcm9maWxlc1twcm9taXNlLmF1dGhvcl0ubmFtZTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IGR1ciA9IG1vbWVudC5kdXJhdGlvbihtb21lbnQocHJvbWlzZS5kdWUpLmRpZmYobW9tZW50KERhdGUubm93KCkpKSk7XG5cdFx0XHRcdGxldCBkYXlzTGVmdCA9IE1hdGguZmxvb3IoZHVyLmFzRGF5cygpKTtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0PHRkPiR7cHJvbWlzZS50aXRsZX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7YXV0aG9yTmFtZX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7cHJvbWlzZS5jb21wbGV0ZWQgPyAnQ29tcGxldGUnIDogKGRheXNMZWZ0IDwgMCA/IE1hdGguYWJzKGRheXNMZWZ0KSArICcgZGF5cyBvdmVyZHVlJyA6IGRheXNMZWZ0ICsgJyBkYXlzIGxlZnQnKX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7bGFzdEFjdGl2ZX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPlxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtcHJvbWlzZWlkPVwiJHtwcm9taXNlLmtleX1cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldzwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0PC90Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1uYXJyb3cnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtZnVsbHdpZHRoJyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLXN0cmlwZWQnKTtcblx0XHRcdFx0dGFibGUuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiB0YWJsZTtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWlzZUJveDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcHJvbWlzZSA9IG1vZGVsLnByb21pc2U7XG5cdFx0XHRsZXQgcHJvZmlsZXMgPSBtb2RlbC5wcm9maWxlcztcblx0XHRcdGxldCBsZXZlbFRleHQgPSAnVW5rbm93bic7XG5cdFx0XHRzd2l0Y2ggKHByb21pc2UubGV2ZWwpIHtcblx0XHRcdFx0Y2FzZSAxOiBsZXZlbFRleHQgPSAnU21hbGwnOyBicmVhaztcblx0XHRcdFx0Y2FzZSAyOiBsZXZlbFRleHQgPSAnTWVkaXVtJzsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMzogbGV2ZWxUZXh0ID0gJ0xhcmdlJzsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRsZXQgc2luY2VTdGFydCA9IG1vbWVudChwcm9taXNlLnN0YXJ0ZWQpLmZyb21Ob3coKTtcblx0XHRcdGxldCBkdWVEYXRlID0gbW9tZW50KHByb21pc2UuZHVlKS5mb3JtYXQoJ00vRC9ZWScpO1xuXHRcdFx0bGV0IGF1dGhvck5hbWUgPSAnVW5rbm93bic7XG5cdFx0XHRsZXQgYXV0aG9ySW1hZ2UgPSAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF1dGhvck5hbWUgPSBwcm9maWxlc1twcm9taXNlLmF1dGhvcl0ubmFtZTtcblx0XHRcdFx0YXV0aG9ySW1hZ2UgPSBwcm9maWxlc1twcm9taXNlLmF1dGhvcl0uaW1hZ2U7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSlcblx0XHRcdH1cblx0XHRcdC8vPGgxIGNsYXNzPVwidGl0bGUgaXMtMlwiPiR7cHJvbWlzZS50aXRsZX0gPHNwYW4gY2xhc3M9XCJ0YWcgaXMtd2FybmluZ1wiPiR7bGV2ZWxUZXh0fTwvc3Bhbj48L2gxPlxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveCBjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgxIGNsYXNzPVwidGl0bGUgaXMtMlwiPiR7cHJvbWlzZS50aXRsZX08L2gxPlxuXHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbmVhdGx5LXNwYWNlZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpbWFnZSBpcy0xNngxNiBpcy1yb3VuZGVkIGlzLWlubGluZS1pbWFnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHthdXRob3JJbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRpdGxlIGlzLTZcIj4ke2F1dGhvck5hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlzLWZhZGVkXCI+IHN0YXJ0ZWQgJHtzaW5jZVN0YXJ0fTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5vcm1hbGx5LXNwYWNlZFwiPkkgcHJvbWlzZSB0byAke3Byb21pc2UuZGVzY3JpcHRpb259IGJ5ICR7ZHVlRGF0ZX0uPC9wPlxuXHRcdFx0YDtcblx0XHRcdGxldCBsaW5rTGlzdCA9IE9iamVjdC5rZXlzKHByb21pc2UubGlua3MpLm1hcCgoa2V5KSA9PiB7XG5cdFx0XHRcdGxldCB2YWwgPSBwcm9taXNlLmxpbmtzW2tleV07XG5cdFx0XHRcdHZhbC5rZXkgPSBrZXk7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChsaW5rTGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGh0bWwgKz0gYDxkaXY+YDtcblx0XHRcdFx0bGlua0xpc3QuZm9yRWFjaCgobGluaykgPT4ge1xuXHRcdFx0XHRcdGh0bWwgKz0gYDxkaXYgY2xhc3M9XCJ0ZWFtLWxpbmtcIj4ke3ZpZXdzLmdldExpbmtJdGVtKGxpbmspLmlubmVySFRNTH08L2Rpdj5gO1xuXHRcdFx0XHRcdC8vaHRtbCArPSBgPGxpPjxhIGhyZWY9XCIke2xpbmsudXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPiR7bGluay5uYW1lfTwvYT48L2xpPmA7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRodG1sICs9IGA8L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWdyb3VwZWRcIj5cblx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1mcGI9XCJlZGl0XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj5FZGl0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwibGlua1wiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWxpbmtcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+QWRkIExpbms8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1mcGI9XCJiYWNrXCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyIGlzLW91dGxpbmVkXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj5CYWNrIHRvIFByb21pc2VzPC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbHVtblwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94IGNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDEgY2xhc3M9XCJ0aXRsZSBpcy00XCI+UHJvZ3Jlc3M8L2gxPlxuXHRcdFx0XHRcdDxkaXYgaWQ9XCJjb21tZW50cy1maWVsZFwiPlxuXHRcdFx0XHRcdGA7XG5cblx0XHRcdE9iamVjdC5rZXlzKHByb21pc2UuY29tbWVudHMpLm1hcCgoa2V5KSA9PiB7XG5cdFx0XHRcdHJldHVybiBwcm9taXNlLmNvbW1lbnRzW2tleV07XG5cdFx0XHR9KS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdHJldHVybiBhLnRpbWVzdGFtcCAtIGIudGltZXN0YW1wO1xuXHRcdFx0fSkuZm9yRWFjaCgoY29tbWVudCkgPT4ge1xuXHRcdFx0XHRsZXQgY29tbWVudEF1dGhvciA9IHtcblx0XHRcdFx0XHRuYW1lOiAnVW5rbm93bicsXG5cdFx0XHRcdFx0aW1hZ2U6ICcuL3B1YmxpYy9pbWcvbm8tdXNlci5wbmcnXG5cdFx0XHRcdH1cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb21tZW50QXV0aG9yLm5hbWUgPSBwcm9maWxlc1tjb21tZW50LmF1dGhvcl0ubmFtZTtcblx0XHRcdFx0XHRjb21tZW50QXV0aG9yLmltYWdlID0gcHJvZmlsZXNbY29tbWVudC5hdXRob3JdLmltYWdlO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBzaW5jZUNvbW1lbnQgPSBtb21lbnQoY29tbWVudC50aW1lc3RhbXApLmZvcm1hdCgnTS9EIGg6bW0gQScpOy8vLmZyb21Ob3coKTtcblx0XHRcdFx0aWYgKGNvbW1lbnQuZ2VuZXJhdGVkKSB7XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29tbWVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGlzLTE2eDE2IGlzLXJvdW5kZWQgaXMtaW5saW5lLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke2NvbW1lbnRBdXRob3IuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aXRsZSBpcy02XCI+JHtjb21tZW50QXV0aG9yLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlzLWZhZGVkXCI+ICR7c2luY2VDb21tZW50fTogPC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImdlbmVyYXRlZC10ZXh0XCI+JHtjb21tZW50LnRleHR9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb21tZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaXMtMTZ4MTYgaXMtcm91bmRlZCBpcy1pbmxpbmUtaW1hZ2VcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7Y29tbWVudEF1dGhvci5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRpdGxlIGlzLTZcIj4ke2NvbW1lbnRBdXRob3IubmFtZX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaXMtZmFkZWRcIj4gJHtzaW5jZUNvbW1lbnR9OiA8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPiR7Y29tbWVudC50ZXh0fTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdGA7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUtZWRpdGFibGVcIj5cblx0XHRcdFx0XHRcdFx0XHQ8dGV4dGFyZWEgZGF0YS1mcGI9XCJ0ZXh0YXJlYVwiIGNsYXNzPVwidGV4dGFyZWFcIiByb3dzPVwiMlwiIHBsYWNlaG9sZGVyPVwiV3JpdGUgaGVyZS4uLlwiPjwvdGV4dGFyZWE+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaXMtZ3JvdXBlZFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1mcGI9XCJjb21tZW50XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtY29tbWVudC1vXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+Q29tbWVudDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiY29tcGxldGVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSAke3Byb21pc2UuY29tcGxldGVkID8gJ2ZhLXRpbWVzJyA6ICdmYS1jaGVjayd9XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+JHtwcm9taXNlLmNvbXBsZXRlZCA/ICdNYXJrIGFzIEluY29tcGxldGUnIDogJ01hcmsgYXMgQ29tcGxldGUnfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0Ym94LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbnMnKTtcblx0XHRcdFx0Ym94LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gYm94O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9taXNlRWRpdG9yOiAobW9kZWwpID0+IHtcblx0XHRcdGlmIChtb2RlbC5kZXNjcmlwdGlvbiA9PT0gJy4uLicpIHtcblx0XHRcdFx0bW9kZWwuZGVzY3JpcHRpb24gPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8aDEgZGF0YS1wZWY9XCJ0aXRsZVwiIGNsYXNzPVwidGl0bGUgaXMtMiBubHAtZWRpdGFibGVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC50aXRsZSA/IG1vZGVsLnRpdGxlIDogJ1RpdGxlIG9mIFByb21pc2UnfTwvaDE+XG5cdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbmVhdGx5LXNwYWNlZFwiPlxuXHRcdFx0XHRcdEkgcHJvbWlzZSB0byA8c3BhbiBkYXRhLXBlZj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJubHAtZWRpdGFibGVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5kZXNjcmlwdGlvbiA/IG1vZGVsLmRlc2NyaXB0aW9uIDogJyhkbyBzb21ldGhpbmcgZm9yIG15IHRlYW0pJ308L3NwYW4+IGJ5IDxzcGFuIGRhdGEtcGVmPVwiZHVlXCIgY2xhc3M9XCJubHAtZWRpdGFibGVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5kdWUgPyBtb21lbnQobW9kZWwuZHVlKS5mb3JtYXQoJ00vRC9ZWVlZJykgOidNTS9ERC9ZWVlZJ308L3NwYW4+LlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHRcdDxwIGRhdGEtcGVmPVwid2FybmluZ1wiIGNsYXNzPVwiaXMtZGFuZ2VyLXRleHRcIj48L3A+XG5cdFx0XHRcdDxidXR0b24gZGF0YS1wZWY9XCJzdWJtaXRcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5XCI+U2F2ZSBQcm9taXNlPC9idXR0b24+XG5cdFx0XHRgO1xuXHRcdFx0aWYgKG1vZGVsLmRlbGV0YWJsZSkge1xuXHRcdFx0XHRodG1sICs9IGA8YnV0dG9uIGRhdGEtcGVmPVwicmVtb3ZlXCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyIGlzLW91dGxpbmVkXCI+Q2FuY2VsPC9idXR0b24+YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGh0bWwgKz0gYDxidXR0b24gZGF0YS1wZWY9XCJjYW5jZWxcIiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXIgaXMtb3V0bGluZWRcIj5DYW5jZWw8L2J1dHRvbj5gO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnYm94Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb250ZW50Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiB2aWV3cztcblxufVxuXG5leHBvcnQge1ZpZXdzfTtcbiJdfQ==\n"]}