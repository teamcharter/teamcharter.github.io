{"version":3,"sources":["class.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","getLastAccess","team","lastAccess","uid","updates","upid","up","timestamp","_uid7","members","joined","eid","edits","edit","onTabClick","tabGroup","tab","tabid","dataset","showTab","document","getElementById","database","getPrometheus","save","type","classCode","CLASS_CODE","j","classList","remove","otherTabs","getElementsByClassName","style","display","add","reportErrorToUser","err","vex","dialog","alert","fillText","className","text","spans","innerText","fillSrc","src","_config","_database","_views","Database","firebase","config","params","qs","split","join","tokens","re","exec","decodeURIComponent","getQueryParams","location","search","views","Views","class","feedbackBtn","teamSpace","instructorSpace","studentSpace","tabList","inviteInstructorBtn","init","user","window","origin","addEventListener","prompt","message","callback","feedback","_uid","getCurrentUser","saveFeedback","then","done","catch","value","displayName","photoURL","getInstructorClasses","classMap","classData","name","teams","instructorMap","userPromises","_uid2","p","getUser","push","studentMap","tid","_uid3","_p","profileMap","Promise","all","userList","forEach","idx","_uid4","innerHTML","iCount","_uid5","hidden","profile","tile","getUserTile","image","subtitle","appendChild","sCount","_uid6","_profile","teamName","_tile","promises","_tid","_p2","getTeamEdits","editList","teamList","editMap","viewTeams","sort","b","table","getClassTeamTable","k","_loop","querySelectorAll","console","error","./config","./database","./views","2","Object","defineProperty","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","3","CharterFirebase","initializeApp","db","auth","localhost","noScreenshots","prometheus","Prometheus","fallback","called","onAuthStateChanged","logon","email","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","result","credential","accessToken","providerId","providerData","getDB","currentUser","ref","Date","now","resolve","reject","once","snap","val","getTeam","keys","onTeamChange","on","memberMap","status","users","member","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","updateRole","author","role","responsibility","addTemplateRole","icon","updateRoleIcon","joinTeam","joinCode","success","addMember","removeMember","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","res","pathList","path","ct","map","cid","resolveTeam","rejectTeam","tidx","meta","getClassTeams","_loop2","addTeamToClass","access","special_type","confirmed","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","getTeamPromises","onTeamPromisesChange","onPromiseChange","promiseid","commentOnPromise","addPromise","payload","finished","unsetPromise","updatePromise","editData","addLinkToPromise","hasLinkId","linkid","getRoleMap","roleMap","saveRoleMap","getAllRoleMaps","4","getRoleAndUpdateTile","model","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","div","createElement","getRoleTile","editSection","editable","getRoleTemplateTile","editButton","onSave","button","resp","onIconEdit","getProgressUpdate","getLinkItem","indexOf","getTeamTile","link","isTemplate","getClassTile","classLink","filter","fromNow","getClassTeamGrid","profiles","_userModel","_userDiv","userModel","userDiv","getPromiseTable","pdid","promise","authorName","lastActive","dur","due","daysLeft","Math","floor","title","completed","abs","getPromiseBox","level","sinceStart","started","dueDate","authorImage","description","linkList","links","comments","comment","commentAuthor","sinceComment","generated","box","getPromiseEditor","deletable","getRoleStepCard","id","isOpen","ps","reduce","agg","linkHtml","tagCode","out","open","c","getListCard","hasCode","getRoleMapCard","importance"],"mappings":"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","file":"../class.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\n\nvar views = (0, _views.Views)();\n\nvar CLASS_CODE = params.class || false;\n\nvar feedbackBtn = document.getElementById('feedback');\nvar teamSpace = document.getElementById('team-space');\nvar instructorSpace = document.getElementById('instructor-space');\nvar studentSpace = document.getElementById('student-space');\nvar tabList = document.getElementsByClassName('charter-tab');\nvar inviteInstructorBtn = document.getElementById('invite-instructor');\n\ndatabase.init(main, function () {\n\t// No user signed in\n\twindow.location = window.location.origin + '/login.html' + document.location.search;\n});\n\nfunction main(user) {\n\n\tvar classCode = CLASS_CODE;\n\n\tif (!classCode) {\n\t\twindow.location = window.location.origin + '/me.html' + document.location.search;\n\t}\n\n\tfeedbackBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\tcallback: function callback(feedback) {\n\t\t\t\tif (feedback) {\n\t\t\t\t\tvar _uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.saveFeedback(false, _uid, feedback).then(function (done) {\n\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tinviteInstructorBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Send them this link:',\n\t\t\tvalue: window.location.origin + '/me.html?instructor=' + classCode,\n\t\t\tcallback: function callback(done) {}\n\t\t});\n\t});\n\n\tfillText('fill-user-name', user.displayName);\n\tfillSrc('fill-user-image', user.photoURL);\n\n\tvar uid = database.getCurrentUser().uid;\n\n\tdatabase.getInstructorClasses(uid).then(function (classMap) {\n\t\tvar classData = classMap[classCode] || false;\n\t\tif (classData) {\n\n\t\t\tfillText('fill-class-name', classData.name);\n\t\t\tvar teams = classData.teams;\n\n\t\t\tvar instructorMap = classData.members || {};\n\t\t\tvar userPromises = [];\n\t\t\tfor (var _uid2 in instructorMap) {\n\t\t\t\tvar p = database.getUser(_uid2);\n\t\t\t\tp.uid = _uid2;\n\t\t\t\tuserPromises.push(p);\n\t\t\t}\n\n\t\t\tvar studentMap = {};\n\t\t\tfor (var tid in classData.teams) {\n\t\t\t\tvar team = classData.teams[tid];\n\t\t\t\tfor (var _uid3 in team.members) {\n\t\t\t\t\tvar _p = database.getUser(_uid3);\n\t\t\t\t\t_p.uid = _uid3;\n\t\t\t\t\tuserPromises.push(_p);\n\t\t\t\t\tstudentMap[_uid3] = team.name;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar profileMap = {};\n\n\t\t\tPromise.all(userPromises).then(function (userList) {\n\t\t\t\tuserList.forEach(function (user, idx) {\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\tvar _uid4 = userPromises[idx].uid;\n\t\t\t\t\t\tuser.uid = _uid4;\n\t\t\t\t\t\tprofileMap[_uid4] = user;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tinstructorSpace.innerHTML = '';\n\t\t\t\tvar iCount = 0;\n\t\t\t\tfor (var _uid5 in instructorMap) {\n\t\t\t\t\tvar ins = instructorMap[_uid5];\n\t\t\t\t\tif (!ins.hidden) {\n\t\t\t\t\t\tvar profile = profileMap[_uid5];\n\t\t\t\t\t\tif (profile) {\n\t\t\t\t\t\t\tvar tile = views.getUserTile({\n\t\t\t\t\t\t\t\tname: profile.name,\n\t\t\t\t\t\t\t\timage: profile.image,\n\t\t\t\t\t\t\t\tsubtitle: 'Instructor'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tinstructorSpace.appendChild(tile);\n\t\t\t\t\t\t\tiCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfillText('fill-number-instructors', '(' + iCount + ')');\n\t\t\t\tvar sCount = 0;\n\t\t\t\tfor (var _uid6 in studentMap) {\n\t\t\t\t\tvar _profile = profileMap[_uid6];\n\t\t\t\t\tif (_profile) {\n\t\t\t\t\t\tvar teamName = studentMap[_uid6];\n\t\t\t\t\t\tvar _tile = views.getUserTile({\n\t\t\t\t\t\t\tname: _profile.name,\n\t\t\t\t\t\t\timage: _profile.image,\n\t\t\t\t\t\t\tsubtitle: teamName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstudentSpace.appendChild(_tile);\n\t\t\t\t\t\tsCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfillText('fill-number-students', '(' + sCount + ')');\n\t\t\t});\n\n\t\t\tvar promises = [];\n\t\t\tfor (var _tid in teams) {\n\t\t\t\tvar _p2 = database.getTeamEdits(_tid);\n\t\t\t\t_p2.tid = _tid;\n\t\t\t\tpromises.push(_p2);\n\t\t\t}\n\n\t\t\tPromise.all(promises).then(function (editList) {\n\n\t\t\t\tvar teamList = [];\n\t\t\t\teditList.forEach(function (editMap, idx) {\n\t\t\t\t\tvar tid = promises[idx].tid;\n\t\t\t\t\tvar team = teams[tid];\n\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\tteam.edits = editMap;\n\t\t\t\t\tteam.lastAccess = getLastAccess(team);\n\t\t\t\t\tteamList.push(team);\n\t\t\t\t});\n\t\t\t\tvar viewTeams = teamList.sort(function (a, b) {\n\t\t\t\t\treturn b.lastAccess - a.lastAccess;\n\t\t\t\t});\n\t\t\t\tvar table = views.getClassTeamTable({\n\t\t\t\t\tteams: viewTeams\n\t\t\t\t});\n\t\t\t\tteamSpace.innerHTML = '';\n\t\t\t\tteamSpace.appendChild(table);\n\n\t\t\t\tvar _loop = function _loop(k) {\n\t\t\t\t\ttabList[k].addEventListener('click', function (e) {\n\t\t\t\t\t\tonTabClick(tabList, tabList[k]);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tfor (var k = 0; k < tabList.length; k++) {\n\t\t\t\t\t_loop(k);\n\t\t\t\t}\n\n\t\t\t\tonTabClick(tabList, document.querySelectorAll('.charter-tab[data-tab=\"container-teams\"]')[0]);\n\t\t\t}).catch(console.error);\n\t\t}\n\t}).catch(console.error);\n\n\tdatabase.getPrometheus().save({\n\t\ttype: 'CLASS_PAGE',\n\t\tclassCode: classCode\n\t});\n}\n\nfunction getLastAccess(team) {\n\tvar lastAccess = 0;\n\tfor (var uid in team.updates) {\n\t\tfor (var upid in team.updates[uid]) {\n\t\t\tvar up = team.updates[uid][upid];\n\t\t\tif (up.timestamp > lastAccess) {\n\t\t\t\tlastAccess = up.timestamp;\n\t\t\t}\n\t\t}\n\t}\n\tfor (var _uid7 in team.members) {\n\t\tvar joined = team.members[_uid7].joined;\n\t\tif (joined > lastAccess) {\n\t\t\tlastAccess = joined;\n\t\t}\n\t}\n\tfor (var eid in team.edits) {\n\t\tvar edit = team.edits[eid];\n\t\tif (edit.timestamp > lastAccess) {\n\t\t\tlastAccess = edit.timestamp;\n\t\t}\n\t}\n\treturn lastAccess;\n}\n\nfunction onTabClick(tabGroup, tab) {\n\tvar tabid = tab.dataset.tab;\n\tvar showTab = document.getElementById(tabid);\n\tif (showTab) {\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHANGE_CLASS_TAB',\n\t\t\tclassCode: CLASS_CODE,\n\t\t\ttab: tabid\n\t\t});\n\t\tfor (var j = 0; j < tabGroup.length; j++) {\n\t\t\ttabGroup[j].classList.remove('is-active');\n\t\t}\n\t\tvar otherTabs = document.getElementsByClassName('tabbed-container');\n\t\tfor (var i = 0; i < otherTabs.length; i++) {\n\t\t\totherTabs[i].style.display = 'none';\n\t\t}\n\t\tshowTab.style.display = 'block';\n\t\ttab.classList.add('is-active');\n\t}\n}\n\nfunction reportErrorToUser(err) {\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\n},{\"./config\":2,\"./database\":3,\"./views\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\t// Super Dirty: Update Prometheus Promos and Features Here\n\t// db.ref('prometheus/features/contributor').set({info: {name: 'Charter Contributor'}, validate: 'return {allowed: userData.contributor,data: userData}'})\n\n\t//db.ref('classes/master/teams').remove();\n\t/*db.ref('teams').once('value', (snap) => {\n \tlet teamMap = snap.val() || {};\n \tfor (let tid in teamMap) {\n \t\tdb.ref(`classes/master/teams/${tid}`).set({\n \t\t\taccess: true,\n \t\t\tjoined: Date.now()\n \t\t});\n \t}\n });*/\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetDB: function getDB() {\n\t\t\treturn db;\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tif (memberMap[uid].status === 'template') {\n\t\t\t\t\t\t\tmembers[uid] = {\n\t\t\t\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\t\t\tuid: uid,\n\t\t\t\t\t\t\t\temail: 'team@omnipointment.com'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + data.uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + data.uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\taddTemplateRole: function addTemplateRole(tid, author) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_TEMPLATE_ROLE',\n\t\t\t\ttid: tid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members').push({\n\t\t\t\tstatus: 'template',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true,\n\t\t\t\ticon: 'user'\n\t\t\t});\n\t\t},\n\n\t\tupdateRoleIcon: function updateRoleIcon(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE_ICON',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\ticon: data.icon\n\t\t\t});\n\t\t\t//\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/members/' + data.uid + '/icon').set(data.icon);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tremoveMember: function removeMember(tid, author, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).remove();\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, data) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar teamName = data.name;\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode,\n\t\t\t\t\tstatus: data.status || 'regular'\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetClassTeams: function getClassTeams(classCode) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes/' + classCode);\n\t\t\t\tref.once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val() || {};\n\t\t\t\t\tvar nodes = {};\n\t\t\t\t\tnodes[classCode] = val;\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop2 = function _loop2(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop2(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tif (classData.special_type) {\n\t\t\t\t\t\t\t\tdb.ref('teams/' + tid + '/special_type').set(classData.special_type).then(function (confirmed) {\n\t\t\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {},\n\n\t\tgetTeamPromises: function getTeamPromises(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamPromisesChange: function onTeamPromisesChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonPromiseChange: function onPromiseChange(tid, promiseid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tcommentOnPromise: function commentOnPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tif (!params.text) {\n\t\t\t\tthrow Error('No text given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'comment',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\ttext: params.text\n\t\t\t\t}).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddPromise: function addPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar payload = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tauthor: params.author,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push(payload).then(function (done) {\n\t\t\t\t\tvar promiseid = done.path.ct[2];\n\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + promiseid + '/promiseid').set(promiseid).then(function (finished) {\n\t\t\t\t\t\tpayload.promiseid = promiseid;\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tpromiseid: promiseid,\n\t\t\t\t\t\t\tdata: payload\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tunsetPromise: function unsetPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid + '/' + params.promiseid).remove().then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tupdatePromise: function updatePromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar tid = params.tid + '';\n\t\t\tvar editData = params;\n\t\t\tdelete editData.tid;\n\t\t\teditData.timestamp = Date.now();\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).push(editData).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddLinkToPromise: function addLinkToPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar hasLinkId = params.linkid ? true : false;\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tlinkid: params.linkid || false,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tname: params.name || false,\n\t\t\t\t\turl: params.url || false\n\t\t\t\t}).then(function (done) {\n\t\t\t\t\tif (hasLinkId) {\n\t\t\t\t\t\tresolve(done);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar linkid = done.path.ct[2];\n\t\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + linkid + '/linkid').set(linkid).then(resolve).catch(reject);\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetRoleMap: function getRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).once('value', function (snap) {\n\t\t\t\t\tvar roleMap = snap.val();\n\t\t\t\t\tif (roleMap) {\n\t\t\t\t\t\tresolve(roleMap);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('No role found for: ' + params.role);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tsaveRoleMap: function saveRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\tif (!params.data) {\n\t\t\t\tthrow Error('No role map data given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).set(params.data).then(function (done) {\n\t\t\t\t\tresolve(true);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetAllRoleMaps: function getAllRoleMaps() {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library').once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTemplateTile: function getRoleTemplateTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tvar editButton = '';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 data-bind=\"field-role\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p data-bind=\"field-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t</div>';\n\t\t\t\teditButton = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-4\">\\n\\t\\t\\t\\t\\t<button data-bind=\"button-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical {model.editable ? \\'is-8\\' : \\'is-12\\'}\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"field-icon\" class=\"image is-48x48 icon-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + (model.icon || 'user') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t' + editButton + '\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\tif (model.editable && model.onSave) {\n\t\t\t\tvar button = div.querySelectorAll('[data-bind=button-save]')[0];\n\t\t\t\tvar role = div.querySelectorAll('[data-bind=field-role]')[0];\n\t\t\t\tvar resp = div.querySelectorAll('[data-bind=field-responsibility]')[0];\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onSave({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\trole: role.innerText,\n\t\t\t\t\t\tresponsibility: resp.innerText\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tvar iconEdit = div.querySelectorAll('[data-bind=field-icon]')[0];\n\t\t\t\ticonEdit.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onIconEdit({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t\tif (model.url.indexOf('docs.google.com/document') > -1) {\n\t\t\t\t\ticon = 'file-text';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/spreadsheets') > -1) {\n\t\t\t\t\ticon = 'table';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/presentation') > -1) {\n\t\t\t\t\ticon = 'slideshare';\n\t\t\t\t}\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t} else if (model.url.indexOf('github.com') > -1) {\n\t\t\t\ticon = 'github';\n\t\t\t} else if (model.url.indexOf('youtube.com') > -1) {\n\t\t\t\ticon = 'youtube-play';\n\t\t\t} else if (model.url.indexOf('vimeo.com') > -1) {\n\t\t\t\ticon = 'vimeo';\n\t\t\t} else if (model.url.indexOf('codeshare.io') > -1 || model.url.indexOf('codepen.io') > -1) {\n\t\t\t\ticon = 'code-fork';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar tag = '<span class=\"tag is-warning\">Template</span>';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + ' ' + (model.isTemplate ? tag : '') + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetClassTeamGrid: function getClassTeamGrid(model) {\n\t\t\tvar html = '';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&code=' + team.joinCode;\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">' + team.name + '</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Last active ' + moment(team.lastAccess).fromNow() + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">' + Object.keys(team.edits).length + ' charter edits</p>\\n\\t\\t\\t\\t';\n\t\t\t\tfor (var _uid in team.members) {\n\t\t\t\t\tvar _profile = model.profiles[_uid];\n\t\t\t\t\tvar _userModel = {\n\t\t\t\t\t\tname: 'Unknown Student',\n\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\tsubtitle: '...'\n\t\t\t\t\t};\n\t\t\t\t\tif (_profile.name) {\n\t\t\t\t\t\t_userModel.name = _profile.name;\n\t\t\t\t\t}\n\t\t\t\t\tif (_profile.image) {\n\t\t\t\t\t\t_userModel.image = _profile.image;\n\t\t\t\t\t}\n\t\t\t\t\tif (team.members[_uid].role) {\n\t\t\t\t\t\t_userModel.subtitle = team.members[_uid].role;\n\t\t\t\t\t}\n\t\t\t\t\tvar _userDiv = views.getUserTile(_userModel);\n\t\t\t\t\thtml += _userDiv.innerHTML;\n\t\t\t\t}\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">Join Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">Start New Team</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Don\\'t see your team?</p>\\n\\t\\t\\t';\n\n\t\t\tvar profile = model.profiles[model.uid];\n\t\t\tvar userModel = {\n\t\t\t\tname: 'Unknown Student',\n\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\tsubtitle: 'Team Member'\n\t\t\t};\n\t\t\tif (profile.name) {\n\t\t\t\tuserModel.name = profile.name;\n\t\t\t}\n\t\t\tif (profile.image) {\n\t\t\t\tuserModel.image = profile.image;\n\t\t\t}\n\t\t\tvar userDiv = views.getUserTile(userModel);\n\t\t\thtml += userDiv.innerHTML;\n\n\t\t\thtml += '\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a id=\"new-team\" class=\"button is-primary is-outlined\">Start New Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('columns');\n\t\t\tdiv.classList.add('is-multiline');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetPromiseTable: function getPromiseTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Member</th>\\n\\t\\t\\t\\t\\t\\t<th>Status</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\n\t\t\tObject.keys(model.promises).map(function (pdid) {\n\t\t\t\tvar val = model.promises[pdid];\n\t\t\t\tval.key = pdid;\n\t\t\t\treturn val;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn 0;\n\t\t\t}).forEach(function (promise) {\n\t\t\t\tvar authorName = 'Unknown';\n\t\t\t\tvar lastActive = moment(promise.lastActive).fromNow();\n\t\t\t\ttry {\n\t\t\t\t\tauthorName = model.profiles[promise.author].name;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar dur = moment.duration(moment(promise.due).diff(moment(Date.now())));\n\t\t\t\tvar daysLeft = Math.floor(dur.asDays());\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + promise.title + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + authorName + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + (promise.completed ? 'Complete' : daysLeft < 0 ? Math.abs(daysLeft) + ' days overdue' : daysLeft + ' days left') + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + lastActive + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<button data-promiseid=\"' + promise.key + '\" class=\"button is-primary is-outlined\">View</button>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.classList.add('is-striped');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetPromiseBox: function getPromiseBox(model) {\n\t\t\tvar promise = model.promise;\n\t\t\tvar profiles = model.profiles;\n\t\t\tvar levelText = 'Unknown';\n\t\t\tswitch (promise.level) {\n\t\t\t\tcase 1:\n\t\t\t\t\tlevelText = 'Small';break;\n\t\t\t\tcase 2:\n\t\t\t\t\tlevelText = 'Medium';break;\n\t\t\t\tcase 3:\n\t\t\t\t\tlevelText = 'Large';break;\n\t\t\t}\n\t\t\tvar sinceStart = moment(promise.started).fromNow();\n\t\t\tvar dueDate = moment(promise.due).format('M/D/YY');\n\t\t\tvar authorName = 'Unknown';\n\t\t\tvar authorImage = './public/img/no-user.png';\n\t\t\ttry {\n\t\t\t\tauthorName = profiles[promise.author].name;\n\t\t\t\tauthorImage = profiles[promise.author].image;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\t//<h1 class=\"title is-2\">${promise.title} <span class=\"tag is-warning\">${levelText}</span></h1>\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-2\">' + promise.title + '</h1>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + authorImage + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + authorName + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> started ' + sinceStart + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-normally-spaced\">I promise to ' + promise.description + ' by ' + dueDate + '.</p>\\n\\t\\t\\t';\n\t\t\tvar linkList = Object.keys(promise.links).map(function (key) {\n\t\t\t\tvar val = promise.links[key];\n\t\t\t\tval.key = key;\n\t\t\t\treturn val;\n\t\t\t});\n\t\t\tif (linkList.length > 0) {\n\t\t\t\thtml += '<div>';\n\t\t\t\tlinkList.forEach(function (link) {\n\t\t\t\t\thtml += '<div class=\"team-link\">' + views.getLinkItem(link).innerHTML + '</div>';\n\t\t\t\t\t//html += `<li><a href=\"${link.url}\" target=\"_blank\">${link.name}</a></li>`;\n\t\t\t\t});\n\t\t\t\thtml += '</div>';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"edit\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Edit</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"link\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-link\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"back\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-left\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Back to Promises</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-4\">Progress</h1>\\n\\t\\t\\t\\t\\t<div id=\"comments-field\">\\n\\t\\t\\t\\t\\t';\n\n\t\t\tObject.keys(promise.comments).map(function (key) {\n\t\t\t\treturn promise.comments[key];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn a.timestamp - b.timestamp;\n\t\t\t}).forEach(function (comment) {\n\t\t\t\tvar commentAuthor = {\n\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\timage: './public/img/no-user.png'\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tcommentAuthor.name = profiles[comment.author].name;\n\t\t\t\t\tcommentAuthor.image = profiles[comment.author].image;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar sinceComment = moment(comment.timestamp).format('M/D h:mm A'); //.fromNow();\n\t\t\t\tif (comment.generated) {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"generated-text\">' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t} else {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span>' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile-editable\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea data-fpb=\"textarea\" class=\"textarea\" rows=\"2\" placeholder=\"Write here...\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"comment\" class=\"button is-primary\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-comment-o\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Comment</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"complete\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa ' + (promise.completed ? 'fa-times' : 'fa-check') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>' + (promise.completed ? 'Mark as Incomplete' : 'Mark as Complete') + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar box = document.createElement('div');\n\t\t\tbox.classList.add('columns');\n\t\t\tbox.innerHTML = html;\n\t\t\treturn box;\n\t\t},\n\n\t\tgetPromiseEditor: function getPromiseEditor(model) {\n\t\t\tif (model.description === '...') {\n\t\t\t\tmodel.description = false;\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h1 data-pef=\"title\" class=\"title is-2 nlp-editable\" contenteditable=\"true\">' + (model.title ? model.title : 'Title of Promise') + '</h1>\\n\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\tI promise to <span data-pef=\"description\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.description ? model.description : '(do something for my team)') + '</span> by <span data-pef=\"due\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.due ? moment(model.due).format('M/D/YYYY') : 'MM/DD/YYYY') + '</span>.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p data-pef=\"warning\" class=\"is-danger-text\"></p>\\n\\t\\t\\t\\t<button data-pef=\"submit\" class=\"button is-primary\">Save Promise</button>\\n\\t\\t\\t';\n\t\t\tif (model.deletable) {\n\t\t\t\thtml += '<button data-pef=\"remove\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t} else {\n\t\t\t\thtml += '<button data-pef=\"cancel\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('box');\n\t\t\tdiv.classList.add('content');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleStepCard: function getRoleStepCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div data-step=\"' + model.id + '\" class=\"message ' + (model.isOpen ? '' : 'is-collapsed') + ' ' + (model.completed ? 'is-success' : 'is-primary') + '\" collapsible>\\n\\t\\t\\t\\t\\t<div class=\"message-header is-contrast\">\\n\\t\\t\\t\\t\\t\\t<div class=\"circle\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-check\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.title + '</h3>\\n\\t\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-collapsed fa-chevron-up\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-unfurled fa-chevron-down\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"message-body\">\\n\\t\\t\\t\\t\\t\\t<div class=\"step-note\" data-step=\"' + model.id + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\treturn agg + ('<p>' + val + '</p>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"save-note\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Note</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"edit-name\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Edit Name</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-up\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-up\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Up</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-down\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-down\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Down</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<hr>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"has-top-margin\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.links.reduce(function (agg, val) {\n\t\t\t\tvar linkHtml = '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\tif (model.editable) {\n\t\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-transparent-background\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"edit-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"remove-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-remove\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-primary\">' + val.type + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-warning\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\"link\" data-linkid=\"' + val.id + '\" data-step=\"' + model.id + '\" target=\"_blank\" href=\"' + val.url + '\">' + val.title + '</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\treturn agg + linkHtml;\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<button class=\"button is-primary is-outlined has-top-margin ' + (model.editable ? 'is-hidden' : '') + '\">Mark Complete</button>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"add-step-link\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-plus\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('circle-connector');\n\t\t\treturn div;\n\t\t},\n\n\t\ttagCode: function tagCode(text) {\n\t\t\tvar out = '';\n\t\t\tvar open = false;\n\t\t\tfor (var c = 0; c < text.length; c++) {\n\t\t\t\tif (text[c] === '`') {\n\t\t\t\t\tif (!open) {\n\t\t\t\t\t\tout += '<span class=\"tag is-code\">';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout += '</span>';\n\t\t\t\t\t}\n\t\t\t\t\topen = !open;\n\t\t\t\t} else {\n\t\t\t\t\tout += text[c];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (open) {\n\t\t\t\tout += '</span>';\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\n\t\tgetListCard: function getListCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h2 class=\"title is-4\">' + model.title + '</h2>\\n\\t\\t\\t\\t<ul data-textarea=\"get-' + model.field + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\tvar text = val;\n\t\t\t\tif (model.hasCode && !model.editable) {\n\t\t\t\t\ttext = views.tagCode(val);\n\t\t\t\t}\n\t\t\t\treturn agg + ('<li>' + text + '</li>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<button data-action=\"save-' + model.field + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-6');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleMapCard: function getRoleMapCard(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/rolelibrary.html?role=' + model.id;\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t<h3 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + model.icon + '\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>' + model.title + '</span>\\n\\t\\t\\t\\t\\t</h3>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t' + model.importance.split('\\n').reduce(function (agg, val) {\n\t\t\t\treturn agg + '<li>' + val + '</li>';\n\t\t\t}) + '\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined has-top-margin\">Preview Role</a>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-3');\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY2xhc3MuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL3ZpZXdzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLFdBQVcsd0JBQVMsUUFBVCxpQkFBZjs7QUFFQSxJQUFJLFNBQVMsZUFBZSxTQUFTLFFBQVQsQ0FBa0IsTUFBakMsQ0FBYjs7QUFFQSxJQUFJLFFBQVEsbUJBQVo7O0FBRUEsSUFBSSxhQUFhLE9BQU8sS0FBUCxJQUFnQixLQUFqQzs7QUFFQSxJQUFJLGNBQWMsU0FBUyxjQUFULENBQXdCLFVBQXhCLENBQWxCO0FBQ0EsSUFBSSxZQUFZLFNBQVMsY0FBVCxDQUF3QixZQUF4QixDQUFoQjtBQUNBLElBQUksa0JBQWtCLFNBQVMsY0FBVCxDQUF3QixrQkFBeEIsQ0FBdEI7QUFDQSxJQUFJLGVBQWUsU0FBUyxjQUFULENBQXdCLGVBQXhCLENBQW5CO0FBQ0EsSUFBSSxVQUFVLFNBQVMsc0JBQVQsQ0FBZ0MsYUFBaEMsQ0FBZDtBQUNBLElBQUksc0JBQXNCLFNBQVMsY0FBVCxDQUF3QixtQkFBeEIsQ0FBMUI7O0FBRUEsU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQixZQUFNO0FBQ3pCO0FBQ0EsUUFBTyxRQUFQLEdBQXFCLE9BQU8sUUFBUCxDQUFnQixNQUFyQyxtQkFBeUQsU0FBUyxRQUFULENBQWtCLE1BQTNFO0FBQ0EsQ0FIRDs7QUFLQSxTQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9COztBQUVuQixLQUFJLFlBQVksVUFBaEI7O0FBRUEsS0FBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZixTQUFPLFFBQVAsR0FBcUIsT0FBTyxRQUFQLENBQWdCLE1BQXJDLGdCQUFzRCxTQUFTLFFBQVQsQ0FBa0IsTUFBeEU7QUFDQTs7QUFFRCxhQUFZLGdCQUFaLENBQTZC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QSxPQUFJLFNBQUosQ0FBYyxHQUFkLENBQWtCLE1BQWxCO0FBQ0QsVUFBTyxHQUFQO0FBQ0E7O0FBMzFCVSxFQUFaOztBQSsxQkEsUUFBTyxLQUFQO0FBRUEsQ0FuMkJEOztRQXEyQlEsSyxHQUFBLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHtjb25maWd9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7RGF0YWJhc2V9IGZyb20gJy4vZGF0YWJhc2UnO1xuaW1wb3J0IHtWaWV3c30gZnJvbSAnLi92aWV3cyc7XG5cbmxldCBkYXRhYmFzZSA9IERhdGFiYXNlKGZpcmViYXNlLCBjb25maWcpO1xuXG5sZXQgcGFyYW1zID0gZ2V0UXVlcnlQYXJhbXMoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKTtcblxubGV0IHZpZXdzID0gVmlld3MoKTtcblxubGV0IENMQVNTX0NPREUgPSBwYXJhbXMuY2xhc3MgfHwgZmFsc2U7XG5cbmxldCBmZWVkYmFja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkYmFjaycpO1xubGV0IHRlYW1TcGFjZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLXNwYWNlJyk7XG5sZXQgaW5zdHJ1Y3RvclNwYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3RydWN0b3Itc3BhY2UnKTtcbmxldCBzdHVkZW50U3BhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3R1ZGVudC1zcGFjZScpO1xubGV0IHRhYkxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjaGFydGVyLXRhYicpO1xubGV0IGludml0ZUluc3RydWN0b3JCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52aXRlLWluc3RydWN0b3InKTtcblxuZGF0YWJhc2UuaW5pdChtYWluLCAoKSA9PiB7XG5cdC8vIE5vIHVzZXIgc2lnbmVkIGluXG5cdHdpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2xvZ2luLmh0bWwke2RvY3VtZW50LmxvY2F0aW9uLnNlYXJjaH1gO1xufSk7XG5cbmZ1bmN0aW9uIG1haW4odXNlcikge1xuXG5cdGxldCBjbGFzc0NvZGUgPSBDTEFTU19DT0RFO1xuXG5cdGlmICghY2xhc3NDb2RlKSB7XG5cdFx0d2luZG93LmxvY2F0aW9uID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vbWUuaHRtbCR7ZG9jdW1lbnQubG9jYXRpb24uc2VhcmNofWA7XG5cdH1cblxuXHRmZWVkYmFja0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0bWVzc2FnZTogJ1doYXQgZmVlZGJhY2sgZG8geW91IGhhdmUgdG8gc2hhcmUgd2l0aCB1cz8nLFxuXHRcdFx0Y2FsbGJhY2s6IChmZWVkYmFjaykgPT4ge1xuXHRcdFx0XHRpZiAoZmVlZGJhY2spIHtcblx0XHRcdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0ZGF0YWJhc2Uuc2F2ZUZlZWRiYWNrKGZhbHNlLCB1aWQsIGZlZWRiYWNrKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KCdUaGFuayB5b3UgZm9yIHlvdXIgZmVlZGJhY2ssIGl0IHJlYWxseSBoZWxwcyB1cyBhIGxvdCEnKTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0aW52aXRlSW5zdHJ1Y3RvckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0bWVzc2FnZTogJ1NlbmQgdGhlbSB0aGlzIGxpbms6Jyxcblx0XHRcdHZhbHVlOiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9tZS5odG1sP2luc3RydWN0b3I9JHtjbGFzc0NvZGV9YCxcblx0XHRcdGNhbGxiYWNrOiAoZG9uZSkgPT4ge31cblx0XHR9KTtcblx0fSk7XG5cblx0ZmlsbFRleHQoJ2ZpbGwtdXNlci1uYW1lJywgdXNlci5kaXNwbGF5TmFtZSk7XG5cdGZpbGxTcmMoJ2ZpbGwtdXNlci1pbWFnZScsIHVzZXIucGhvdG9VUkwpO1xuXG5cdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblxuXHRkYXRhYmFzZS5nZXRJbnN0cnVjdG9yQ2xhc3Nlcyh1aWQpLnRoZW4oKGNsYXNzTWFwKSA9PiB7XG5cdFx0bGV0IGNsYXNzRGF0YSA9IGNsYXNzTWFwW2NsYXNzQ29kZV0gfHwgZmFsc2U7XG5cdFx0aWYgKGNsYXNzRGF0YSkge1xuXG5cdFx0XHRmaWxsVGV4dCgnZmlsbC1jbGFzcy1uYW1lJywgY2xhc3NEYXRhLm5hbWUpO1xuXHRcdFx0bGV0IHRlYW1zID0gY2xhc3NEYXRhLnRlYW1zO1xuXG5cdFx0XHRsZXQgaW5zdHJ1Y3Rvck1hcCA9IGNsYXNzRGF0YS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0bGV0IHVzZXJQcm9taXNlcyA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgdWlkIGluIGluc3RydWN0b3JNYXApIHtcblx0XHRcdFx0bGV0IHAgPSBkYXRhYmFzZS5nZXRVc2VyKHVpZCk7XG5cdFx0XHRcdHAudWlkID0gdWlkO1xuXHRcdFx0XHR1c2VyUHJvbWlzZXMucHVzaChwKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHN0dWRlbnRNYXAgPSB7fTtcblx0XHRcdGZvciAobGV0IHRpZCBpbiBjbGFzc0RhdGEudGVhbXMpIHtcblx0XHRcdFx0bGV0IHRlYW0gPSBjbGFzc0RhdGEudGVhbXNbdGlkXTtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0ubWVtYmVycykge1xuXHRcdFx0XHRcdGxldCBwID0gZGF0YWJhc2UuZ2V0VXNlcih1aWQpO1xuXHRcdFx0XHRcdHAudWlkID0gdWlkO1xuXHRcdFx0XHRcdHVzZXJQcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdHN0dWRlbnRNYXBbdWlkXSA9IHRlYW0ubmFtZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgcHJvZmlsZU1hcCA9IHt9O1xuXG5cdFx0XHRQcm9taXNlLmFsbCh1c2VyUHJvbWlzZXMpLnRoZW4oKHVzZXJMaXN0KSA9PiB7XG5cdFx0XHRcdHVzZXJMaXN0LmZvckVhY2goKHVzZXIsIGlkeCkgPT4ge1xuXHRcdFx0XHRcdGlmICh1c2VyKSB7XG5cdFx0XHRcdFx0XHRsZXQgdWlkID0gdXNlclByb21pc2VzW2lkeF0udWlkO1xuXHRcdFx0XHRcdFx0dXNlci51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0XHRwcm9maWxlTWFwW3VpZF0gPSB1c2VyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdGluc3RydWN0b3JTcGFjZS5pbm5lckhUTUwgPSAnJztcblx0XHRcdFx0bGV0IGlDb3VudCA9IDA7XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiBpbnN0cnVjdG9yTWFwKSB7XG5cdFx0XHRcdFx0bGV0IGlucyA9IGluc3RydWN0b3JNYXBbdWlkXTtcblx0XHRcdFx0XHRpZiAoIWlucy5oaWRkZW4pIHtcblx0XHRcdFx0XHRcdGxldCBwcm9maWxlID0gcHJvZmlsZU1hcFt1aWRdO1xuXHRcdFx0XHRcdFx0aWYgKHByb2ZpbGUpIHtcblx0XHRcdFx0XHRcdFx0bGV0IHRpbGUgPSB2aWV3cy5nZXRVc2VyVGlsZSh7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogcHJvZmlsZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdGltYWdlOiBwcm9maWxlLmltYWdlLFxuXHRcdFx0XHRcdFx0XHRcdHN1YnRpdGxlOiAnSW5zdHJ1Y3Rvcidcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGluc3RydWN0b3JTcGFjZS5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHRcdFx0XHRcdFx0aUNvdW50Kys7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZpbGxUZXh0KCdmaWxsLW51bWJlci1pbnN0cnVjdG9ycycsIGAoJHtpQ291bnR9KWApO1xuXHRcdFx0XHRsZXQgc0NvdW50ID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHN0dWRlbnRNYXApIHtcblx0XHRcdFx0XHRsZXQgcHJvZmlsZSA9IHByb2ZpbGVNYXBbdWlkXTtcblx0XHRcdFx0XHRpZiAocHJvZmlsZSkge1xuXHRcdFx0XHRcdFx0bGV0IHRlYW1OYW1lID0gc3R1ZGVudE1hcFt1aWRdO1xuXHRcdFx0XHRcdFx0bGV0IHRpbGUgPSB2aWV3cy5nZXRVc2VyVGlsZSh7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IHByb2ZpbGUubmFtZSxcblx0XHRcdFx0XHRcdFx0aW1hZ2U6IHByb2ZpbGUuaW1hZ2UsXG5cdFx0XHRcdFx0XHRcdHN1YnRpdGxlOiB0ZWFtTmFtZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRzdHVkZW50U3BhY2UuYXBwZW5kQ2hpbGQodGlsZSk7XG5cdFx0XHRcdFx0XHRzQ291bnQrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsbFRleHQoJ2ZpbGwtbnVtYmVyLXN0dWRlbnRzJywgYCgke3NDb3VudH0pYCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRmb3IgKGxldCB0aWQgaW4gdGVhbXMpIHtcblx0XHRcdFx0bGV0IHAgPSBkYXRhYmFzZS5nZXRUZWFtRWRpdHModGlkKTtcblx0XHRcdFx0cC50aWQgPSB0aWQ7XG5cdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHR9XG5cblx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChlZGl0TGlzdCkgPT4ge1xuXG5cdFx0XHRcdGxldCB0ZWFtTGlzdCA9IFtdO1xuXHRcdFx0XHRlZGl0TGlzdC5mb3JFYWNoKChlZGl0TWFwLCBpZHgpID0+IHtcblx0XHRcdFx0XHRsZXQgdGlkID0gcHJvbWlzZXNbaWR4XS50aWQ7XG5cdFx0XHRcdFx0bGV0IHRlYW0gPSB0ZWFtc1t0aWRdO1xuXHRcdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRcdHRlYW0uZWRpdHMgPSBlZGl0TWFwO1xuXHRcdFx0XHRcdHRlYW0ubGFzdEFjY2VzcyA9IGdldExhc3RBY2Nlc3ModGVhbSk7XG5cdFx0XHRcdFx0dGVhbUxpc3QucHVzaCh0ZWFtKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxldCB2aWV3VGVhbXMgPSB0ZWFtTGlzdC5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGIubGFzdEFjY2VzcyAtIGEubGFzdEFjY2Vzcztcblx0XHRcdFx0fSlcblx0XHRcdFx0bGV0IHRhYmxlID0gdmlld3MuZ2V0Q2xhc3NUZWFtVGFibGUoe1xuXHRcdFx0XHRcdHRlYW1zOiB2aWV3VGVhbXNcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRlYW1TcGFjZS5pbm5lckhUTUwgPSAnJztcblx0XHRcdFx0dGVhbVNwYWNlLmFwcGVuZENoaWxkKHRhYmxlKTtcblxuXHRcdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRhYkxpc3QubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHR0YWJMaXN0W2tdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRcdG9uVGFiQ2xpY2sodGFiTGlzdCwgdGFiTGlzdFtrXSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvblRhYkNsaWNrKHRhYkxpc3QsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFydGVyLXRhYltkYXRhLXRhYj1cImNvbnRhaW5lci10ZWFtc1wiXScpWzBdKTtcblxuXHRcdFx0fSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cblx0XHR9XG5cdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG5cdGRhdGFiYXNlLmdldFByb21ldGhldXMoKS5zYXZlKHtcblx0XHR0eXBlOiAnQ0xBU1NfUEFHRScsXG5cdFx0Y2xhc3NDb2RlOiBjbGFzc0NvZGVcblx0fSk7XG5cbn1cblxuZnVuY3Rpb24gZ2V0TGFzdEFjY2Vzcyh0ZWFtKSB7XG5cdGxldCBsYXN0QWNjZXNzID0gMDtcblx0Zm9yIChsZXQgdWlkIGluIHRlYW0udXBkYXRlcykge1xuXHRcdGZvciAobGV0IHVwaWQgaW4gdGVhbS51cGRhdGVzW3VpZF0pIHtcblx0XHRcdGxldCB1cCA9IHRlYW0udXBkYXRlc1t1aWRdW3VwaWRdO1xuXHRcdFx0aWYgKHVwLnRpbWVzdGFtcCA+IGxhc3RBY2Nlc3MpIHtcblx0XHRcdFx0bGFzdEFjY2VzcyA9IHVwLnRpbWVzdGFtcDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Zm9yIChsZXQgdWlkIGluIHRlYW0ubWVtYmVycykge1xuXHRcdGxldCBqb2luZWQgPSB0ZWFtLm1lbWJlcnNbdWlkXS5qb2luZWQ7XG5cdFx0aWYgKGpvaW5lZCA+IGxhc3RBY2Nlc3MpIHtcblx0XHRcdGxhc3RBY2Nlc3MgPSBqb2luZWQ7XG5cdFx0fVxuXHR9XG5cdGZvciAobGV0IGVpZCBpbiB0ZWFtLmVkaXRzKSB7XG5cdFx0bGV0IGVkaXQgPSB0ZWFtLmVkaXRzW2VpZF07XG5cdFx0aWYgKGVkaXQudGltZXN0YW1wID4gbGFzdEFjY2Vzcykge1xuXHRcdFx0bGFzdEFjY2VzcyA9IGVkaXQudGltZXN0YW1wO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbGFzdEFjY2Vzcztcbn1cblxuZnVuY3Rpb24gb25UYWJDbGljayh0YWJHcm91cCwgdGFiKSB7XG5cdGxldCB0YWJpZCA9IHRhYi5kYXRhc2V0LnRhYjtcblx0bGV0IHNob3dUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJpZCk7XG5cdGlmIChzaG93VGFiKSB7XG5cdFx0ZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpLnNhdmUoe1xuXHRcdFx0dHlwZTogJ0NIQU5HRV9DTEFTU19UQUInLFxuXHRcdFx0Y2xhc3NDb2RlOiBDTEFTU19DT0RFLFxuXHRcdFx0dGFiOiB0YWJpZFxuXHRcdH0pO1xuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGFiR3JvdXAubGVuZ3RoOyBqKyspIHtcblx0XHRcdHRhYkdyb3VwW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuXHRcdH1cblx0XHRsZXQgb3RoZXJUYWJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGFiYmVkLWNvbnRhaW5lcicpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgb3RoZXJUYWJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRvdGhlclRhYnNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHR9XG5cdFx0c2hvd1RhYi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHR0YWIuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cdH1cblxufVxuXG5mdW5jdGlvbiByZXBvcnRFcnJvclRvVXNlcihlcnIpIHtcblx0dmV4LmRpYWxvZy5hbGVydChlcnIgKyAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7XG5cdHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7XG5cdHZhciBwYXJhbXMgPSB7fSxcblx0XHR0b2tlbnMsXG5cdFx0cmUgPSAvWz8mXT8oW149XSspPShbXiZdKikvZztcblx0d2hpbGUgKHRva2VucyA9IHJlLmV4ZWMocXMpKSB7XG5cdFx0cGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMV0pXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMl0pO1xuXHR9XG5cdHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGZpbGxUZXh0KGNsYXNzTmFtZSwgdGV4dCkge1xuXHRsZXQgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG5cdGZvciAobGV0IHMgPSAwOyBzIDwgc3BhbnMubGVuZ3RoOyBzKyspIHtcblx0XHRzcGFuc1tzXS5pbm5lclRleHQgPSB0ZXh0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpbGxTcmMoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLnNyYyA9IHRleHQ7XG5cdH1cbn1cbiIsImxldCBjb25maWcgPSB7XG5cdGFwaUtleTogXCJBSXphU3lCV2s5RVdQa2t2cWlydUc4YVluSFYwZEJQZzF6M0V0TjRcIixcblx0YXV0aERvbWFpbjogXCJjaGFydGVyLWVjYjA3LmZpcmViYXNlYXBwLmNvbVwiLFxuXHRkYXRhYmFzZVVSTDogXCJodHRwczovL2NoYXJ0ZXItZWNiMDcuZmlyZWJhc2Vpby5jb21cIixcblx0cHJvamVjdElkOiBcImNoYXJ0ZXItZWNiMDdcIixcblx0c3RvcmFnZUJ1Y2tldDogXCJcIixcblx0bWVzc2FnaW5nU2VuZGVySWQ6IFwiMTM0MjM5MzA1MTUzXCJcbn07XG5leHBvcnQge2NvbmZpZ307IiwibGV0IERhdGFiYXNlID0gKGZpcmViYXNlLCBjb25maWcpID0+IHtcblxuXHRsZXQgQ2hhcnRlckZpcmViYXNlID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcsICdDaGFydGVyIERhdGFiYXNlJyk7XG5cdGxldCBkYiA9IENoYXJ0ZXJGaXJlYmFzZS5kYXRhYmFzZSgpO1xuXHRsZXQgYXV0aCA9IENoYXJ0ZXJGaXJlYmFzZS5hdXRoKCk7XG5cdFx0Y29uZmlnLmxvY2FsaG9zdCA9IHRydWU7XG5cdFx0Y29uZmlnLm5vU2NyZWVuc2hvdHMgPSB0cnVlO1xuXHRsZXQgcHJvbWV0aGV1cyA9IFByb21ldGhldXMoY29uZmlnLCBDaGFydGVyRmlyZWJhc2UpO1xuXG4vLyBTdXBlciBEaXJ0eTogVXBkYXRlIFByb21ldGhldXMgUHJvbW9zIGFuZCBGZWF0dXJlcyBIZXJlXG4vLyBkYi5yZWYoJ3Byb21ldGhldXMvZmVhdHVyZXMvY29udHJpYnV0b3InKS5zZXQoe2luZm86IHtuYW1lOiAnQ2hhcnRlciBDb250cmlidXRvcid9LCB2YWxpZGF0ZTogJ3JldHVybiB7YWxsb3dlZDogdXNlckRhdGEuY29udHJpYnV0b3IsZGF0YTogdXNlckRhdGF9J30pXG5cbi8vZGIucmVmKCdjbGFzc2VzL21hc3Rlci90ZWFtcycpLnJlbW92ZSgpO1xuLypkYi5yZWYoJ3RlYW1zJykub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRsZXQgdGVhbU1hcCA9IHNuYXAudmFsKCkgfHwge307XG5cdGZvciAobGV0IHRpZCBpbiB0ZWFtTWFwKSB7XG5cdFx0ZGIucmVmKGBjbGFzc2VzL21hc3Rlci90ZWFtcy8ke3RpZH1gKS5zZXQoe1xuXHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0am9pbmVkOiBEYXRlLm5vdygpXG5cdFx0fSk7XG5cdH1cbn0pOyovXG5cblx0bGV0IGRhdGFiYXNlID0ge1xuXHRcdFxuXHRcdGluaXQ6IChjYWxsYmFjaywgZmFsbGJhY2spID0+IHtcblx0XHRcdGxldCBjYWxsZWQgPSBmYWxzZTtcblx0XHRcdGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG5cdFx0XHRcdGlmICh1c2VyKSB7XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLmxvZ29uKHVzZXIudWlkLCB7XG5cdFx0XHRcdFx0XHRuYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRpbWFnZTogdXNlci5waG90b1VSTCxcblx0XHRcdFx0XHRcdHVpZDogdXNlci51aWRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdGlmICghY2FsbGVkKSB7XG5cdFx0XHRcdFx0XHRjYWxsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodXNlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICghY2FsbGVkKSB7XG5cdFx0XHRcdFx0XHRjYWxsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0ZmFsbGJhY2soKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRsb2dpbjogKGNhbGxiYWNrLCBtZXRob2QpID0+IHtcblx0XHRcdC8vYXV0aC5zaWduT3V0KCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRsZXQgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcblx0XHRcdFx0aWYgKG1ldGhvZCA9PT0gJ2ZhY2Vib29rJykge1xuXHRcdFx0XHRcdHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRhdXRoLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigocmVzdWx0KSA9PiB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhyZXN1bHQpO1xuXHRcdFx0XHRcdGxldCB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuXHRcdFx0XHRcdGxldCB1c2VyID0gcmVzdWx0LnVzZXI7XG5cdFx0XHRcdFx0bGV0IHByb3ZpZGVySWQgPSAnVW5rbm93biBQcm92aWRlcic7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHByb3ZpZGVySWQgPSB1c2VyLnByb3ZpZGVyRGF0YVswXS5wcm92aWRlcklkO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0cHJvbWV0aGV1cy5sb2dvbih1c2VyLnVpZCwge1xuXHRcdFx0XHRcdFx0bmFtZTogdXNlci5kaXNwbGF5TmFtZSxcblx0XHRcdFx0XHRcdGVtYWlsOiB1c2VyLmVtYWlsLFxuXHRcdFx0XHRcdFx0aW1hZ2U6IHVzZXIucGhvdG9VUkwsXG5cdFx0XHRcdFx0XHR1aWQ6IHVzZXIudWlkLFxuXHRcdFx0XHRcdFx0cHJvdmlkZXI6IHByb3ZpZGVySWRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdGNhbGxiYWNrKHVzZXIpO1xuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRcdC8qbGV0IGVycm9yQ29kZSA9IGVycm9yLmNvZGU7XG5cdFx0XHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG5cdFx0XHRcdFx0bGV0IGVtYWlsID0gZXJyb3IuZW1haWw7XG5cdFx0XHRcdFx0bGV0IGNyZWRlbnRpYWwgPSBlcnJvci5jcmVkZW50aWFsOyovXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0Lyp9KS5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdH0pOyovXG5cdFx0fSxcblxuXHRcdGdldERCOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gZGI7XG5cdFx0fSxcblxuXHRcdGdldFByb21ldGhldXM6ICgpID0+IHtcblx0XHRcdHJldHVybiBwcm9tZXRoZXVzO1xuXHRcdH0sXG5cblx0XHRnZXRDdXJyZW50VXNlcjogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIGF1dGguY3VycmVudFVzZXIgfHwge307XG5cdFx0fSxcblxuXHRcdHNhdmVGZWVkYmFjazogKHRpZCwgdWlkLCBmZWVkYmFjaykgPT4ge1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgZmVlZGJhY2tgKS5wdXNoKHtcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHRmZWVkYmFjazogZmVlZGJhY2ssXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFVzZXI6ICh1aWQpID0+IHtcblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBwcm9tZXRoZXVzL3VzZXJzLyR7dWlkfS9wcm9maWxlYCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB1c2VyID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRyZXNvbHZlKHVzZXIpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFRlYW06ICh0aWQpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGB0ZWFtcy8ke3RpZH1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHRlYW0gPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdGlmIChPYmplY3Qua2V5cyh0ZWFtKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR0ZWFtLnRpZCA9IHRpZDtcblx0XHRcdFx0XHRcdHJlc29sdmUodGVhbSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe30pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRUZWFtRWRpdHM6ICh0aWQpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGVkaXRzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRyZXNvbHZlKGVkaXRzKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRvblRlYW1DaGFuZ2U6ICh0aWQsIGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbWVtYmVycyA9IHt9O1xuXHRcdFx0ZGIucmVmKGB0ZWFtcy8ke3RpZH1gKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRsZXQgcHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0bGV0IHRlYW0gPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRsZXQgbWVtYmVyTWFwID0gdGVhbS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gbWVtYmVyTWFwKSB7XG5cdFx0XHRcdFx0aWYgKCEodWlkIGluIG1lbWJlcnMpKSB7XG5cdFx0XHRcdFx0XHRpZiAobWVtYmVyTWFwW3VpZF0uc3RhdHVzID09PSAndGVtcGxhdGUnKSB7XG5cdFx0XHRcdFx0XHRcdG1lbWJlcnNbdWlkXSA9IHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnVW5rbm93bicsXG5cdFx0XHRcdFx0XHRcdFx0aW1hZ2U6ICcuL3B1YmxpYy9pbWcvbm8tdXNlci5wbmcnLFxuXHRcdFx0XHRcdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHRcdFx0XHRcdGVtYWlsOiAndGVhbUBvbW5pcG9pbnRtZW50LmNvbSdcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bGV0IHAgPSBkYXRhYmFzZS5nZXRVc2VyKHVpZCk7XG5cdFx0XHRcdFx0XHRcdHAudWlkID0gdWlkO1xuXHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvbWlzZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCh1c2VycykgPT4ge1xuXHRcdFx0XHRcdFx0dXNlcnMuZm9yRWFjaCgobWVtYmVyLCBpZHgpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IHVpZCA9IHByb21pc2VzW2lkeF0udWlkO1xuXHRcdFx0XHRcdFx0XHRtZW1iZXJzW3VpZF0gPSBtZW1iZXI7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlVGVhbU5hbWU6ICh0aWQsIHVpZCwgbmFtZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ25hbWUnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IG5hbWUsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbmFtZWApLnNldChuYW1lKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlUXVlc3Rpb246ICh0aWQsIHVpZCwgcXVlc3Rpb24pID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdxdWVzdGlvbicsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogcXVlc3Rpb24sXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vcXVlc3Rpb25gKS5zZXQocXVlc3Rpb24pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVFeHBlY3RhdGlvbnM6ICh0aWQsIHVpZCwgbGlzdCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2V4cGVjdGF0aW9ucycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogbGlzdCxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9leHBlY3RhdGlvbnNgKS5zZXQobGlzdCk7XG5cdFx0fSxcblxuXHRcdHN1Ym1pdFVwZGF0ZTogKHRpZCwgdWlkLCB1cGRhdGUpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1NVQk1JVF9VUERBVEUnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dXBkYXRlOiB1cGRhdGVcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS91cGRhdGVzLyR7dWlkfWApLnB1c2goe1xuXHRcdFx0XHR1cGRhdGU6IHVwZGF0ZSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkTGluazogKHRpZCwgdWlkLCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmxcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbGluaycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rc2ApLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmwsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHRhZGRlZDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUxpbms6ICh0aWQsIHVpZCwga2V5LCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGxpbmsgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybCxcblx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRhdGEua2V5ID0ga2V5O1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0bGV0IHAxID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9L25hbWVgKS5zZXQoZGF0YS5uYW1lKTtcblx0XHRcdGxldCBwMiA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fS91cmxgKS5zZXQoZGF0YS51cmwpO1xuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKFtwMSwgcDJdKTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlTGluazogKHRpZCwgdWlkLCBrZXkpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gbGluayBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnUkVNT1ZFX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbGluaycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdHJlbW92ZWQ6IHRydWUsXG5cdFx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdFx0fSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX1gKS5yZW1vdmUoKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlUm9sZTogKHRpZCwgYXV0aG9yLCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghYXV0aG9yKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBhdXRob3JpbmcgdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghZGF0YS51aWQpIHtcblx0XHRcdFx0ZGF0YS51aWQgPSBhdXRob3I7IC8vIElmIHNvbWVvbmUgaXMgZWRpdGluZyB0aGVpciBvd24gcm9sZVxuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfUk9MRScsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IGRhdGEudWlkLFxuXHRcdFx0XHRyb2xlOiBkYXRhLnJvbGUsXG5cdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiBkYXRhLnJlc3BvbnNpYmlsaXR5XG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3JvbGUnLFxuXHRcdFx0XHR1aWQ6IGF1dGhvcixcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRsZXQgcDEgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7ZGF0YS51aWR9L3JvbGVgKS5zZXQoZGF0YS5yb2xlKTtcblx0XHRcdGxldCBwMiA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHtkYXRhLnVpZH0vcmVzcG9uc2liaWxpdHlgKS5zZXQoZGF0YS5yZXNwb25zaWJpbGl0eSk7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoW3AxLCBwMl0pO1xuXHRcdH0sXG5cblx0XHRhZGRUZW1wbGF0ZVJvbGU6ICh0aWQsIGF1dGhvcikgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfVEVNUExBVEVfUk9MRScsXG5cdFx0XHRcdHRpZDogdGlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVyc2ApLnB1c2goe1xuXHRcdFx0XHRzdGF0dXM6ICd0ZW1wbGF0ZScsXG5cdFx0XHRcdHJvbGU6ICdUZWFtIE1lbWJlcicsXG5cdFx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKSxcblx0XHRcdFx0bWVtYmVyOiB0cnVlLFxuXHRcdFx0XHRpY29uOiAndXNlcidcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVSb2xlSWNvbjogKHRpZCwgYXV0aG9yLCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghYXV0aG9yKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBhdXRob3JpbmcgdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnVVBEQVRFX1JPTEVfSUNPTicsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IGRhdGEudWlkLFxuXHRcdFx0XHRpY29uOiBkYXRhLmljb25cblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGlmICghZGF0YS51aWQpIHtcblx0XHRcdFx0ZGF0YS51aWQgPSBhdXRob3I7IC8vIElmIHNvbWVvbmUgaXMgZWRpdGluZyB0aGVpciBvd24gcm9sZVxuXHRcdFx0fVxuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdyb2xlJyxcblx0XHRcdFx0dWlkOiBhdXRob3IsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHtkYXRhLnVpZH0vaWNvbmApLnNldChkYXRhLmljb24pO1xuXHRcdH0sXG5cblx0XHRqb2luVGVhbTogKHRpZCwgdWlkLCBqb2luQ29kZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4oKHRlYW0pID0+IHtcblx0XHRcdFx0XHRpZiAoam9pbkNvZGUgPT09IHRlYW0uam9pbkNvZGUgfHwgIXRlYW0uam9pbkNvZGUpIHtcblx0XHRcdFx0XHRcdGRhdGFiYXNlLmFkZE1lbWJlcih0aWQsIHVpZCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRzdWNjZXNzOiB0cnVlXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkTWVtYmVyOiAodGlkLCB1aWQpID0+IHtcblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnQUREX01FTUJFUicsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IHVpZFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHt1aWR9YCkuc2V0KHtcblx0XHRcdFx0c3RhdHVzOiAnbWVtYmVyJyxcblx0XHRcdFx0cm9sZTogJ1RlYW0gTWVtYmVyJyxcblx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRtZW1iZXI6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRyZW1vdmVNZW1iZXI6ICh0aWQsIGF1dGhvciwgdWlkKSA9PiB7XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1JFTU9WRV9NRU1CRVInLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWRcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7dWlkfWApLnJlbW92ZSgpO1xuXHRcdH0sXG5cblx0XHRnZXRBbGxUZWFtczogKHVpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHJlZiA9IGRiLnJlZihgdGVhbXNgKTtcblx0XHRcdFx0bGV0IHF1ZXJ5ID0gcmVmLm9yZGVyQnlDaGlsZChgbWVtYmVycy8ke3VpZH0vbWVtYmVyYCkuc3RhcnRBdCh0cnVlKS5lbmRBdCh0cnVlKTtcblx0XHRcdFx0cXVlcnkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0cmVzb2x2ZShub2Rlcyk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Y3JlYXRlTmV3VGVhbTogKHVpZCwgam9pbkNvZGUsIGRhdGEpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCB0ZWFtTmFtZSA9IGRhdGEubmFtZTtcblx0XHRcdFx0ZGIucmVmKCd0ZWFtcycpLnB1c2goe1xuXHRcdFx0XHRcdG5hbWU6IHRlYW1OYW1lIHx8ICdOZXcgVGVhbSBDaGFydGVyJyxcblx0XHRcdFx0XHRqb2luQ29kZTogam9pbkNvZGUsXG5cdFx0XHRcdFx0c3RhdHVzOiBkYXRhLnN0YXR1cyB8fCAncmVndWxhcidcblx0XHRcdFx0fSkudGhlbigocmVzKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHBhdGhMaXN0ID0gcmVzLnBhdGguY3Q7XG5cdFx0XHRcdFx0bGV0IHRpZCA9IHBhdGhMaXN0W3BhdGhMaXN0Lmxlbmd0aCAtIDFdO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdHR5cGU6ICdDUkVBVEVfVEVBTScsXG5cdFx0XHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0XHRcdG5hbWU6IHRlYW1OYW1lLFxuXHRcdFx0XHRcdFx0ZGF0YTogZGF0YVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvckNsYXNzZXM6ICh1aWQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCByZWYgPSBkYi5yZWYoYGNsYXNzZXNgKTtcblx0XHRcdFx0bGV0IHF1ZXJ5ID0gcmVmLm9yZGVyQnlDaGlsZChgbWVtYmVycy8ke3VpZH0vYWNjZXNzYCkuc3RhcnRBdCh0cnVlKS5lbmRBdCh0cnVlKTtcblx0XHRcdFx0cXVlcnkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhub2RlcykubWFwKChjaWQpID0+IHtcblx0XHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBub2Rlc1tjaWRdO1xuXHRcdFx0XHRcdFx0Y2xhc3NEYXRhLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdHJldHVybiBjbGFzc0RhdGE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRcdFx0XHRsaXN0LmZvckVhY2goKGNsYXNzRGF0YSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2lkID0gY2xhc3NEYXRhLmNpZDtcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgdGlkIGluIGNsYXNzRGF0YS50ZWFtcykge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBwID0gbmV3IFByb21pc2UoKHJlc29sdmVUZWFtLCByZWplY3RUZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbihyZXNvbHZlVGVhbSkuY2F0Y2gocmVqZWN0VGVhbSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cC5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigodGVhbUxpc3QpID0+IHtcblx0XHRcdFx0XHRcdFx0dGVhbUxpc3QuZm9yRWFjaCgodGVhbSwgdGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBtZXRhID0gcHJvbWlzZXNbdGlkeF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdID0gdGVhbTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKVxuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGVhbXM6IChjbGFzc0NvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCByZWYgPSBkYi5yZWYoYGNsYXNzZXMvJHtjbGFzc0NvZGV9YCk7XG5cdFx0XHRcdHJlZi5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0ge307XG5cdFx0XHRcdFx0bm9kZXNbY2xhc3NDb2RlXSA9IHZhbDtcblx0XHRcdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG5vZGVzKS5tYXAoKGNpZCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IGNsYXNzRGF0YSA9IG5vZGVzW2NpZF07XG5cdFx0XHRcdFx0XHRjbGFzc0RhdGEuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNsYXNzRGF0YTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAobGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0XHRcdGxpc3QuZm9yRWFjaCgoY2xhc3NEYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBjaWQgPSBjbGFzc0RhdGEuY2lkO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCB0aWQgaW4gY2xhc3NEYXRhLnRlYW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IHAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZVRlYW0sIHJlamVjdFRlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFiYXNlLmdldFRlYW0odGlkKS50aGVuKHJlc29sdmVUZWFtKS5jYXRjaChyZWplY3RUZWFtKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRwLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCh0ZWFtTGlzdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0ZWFtTGlzdC5mb3JFYWNoKCh0ZWFtLCB0aWR4KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IG1ldGEgPSBwcm9taXNlc1t0aWR4XTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdKXtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0gPSB0ZWFtO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUobm9kZXMpXG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHt9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkVGVhbVRvQ2xhc3M6ICh0aWQsIHVpZCwgY29kZSkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGNsYXNzRGF0YSA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0aWYgKGNsYXNzRGF0YSkge1xuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdBRERfVEVBTV9UT19DTEFTUycsXG5cdFx0XHRcdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRcdFx0XHRjbGFzc0NvZGU6IGNvZGVcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9L3RlYW1zLyR7dGlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdGFjY2VzczogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpXG5cdFx0XHRcdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChjbGFzc0RhdGEuc3BlY2lhbF90eXBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGIucmVmKGB0ZWFtcy8ke3RpZH0vc3BlY2lhbF90eXBlYCkuc2V0KGNsYXNzRGF0YS5zcGVjaWFsX3R5cGUpLnRoZW4oKGNvbmZpcm1lZCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjbGFzc0RhdGEpO1xuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjbGFzc0RhdGEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkSW5zdHJ1Y3RvclRvQ2xhc3M6ICh1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdGxldCBtZW1iZXJNYXAgPSBjbGFzc0RhdGEubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0XHRcdGlmICh1aWQgaW4gbWVtYmVyTWFwKSB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdBRERfSU5TVFJVQ1RPUl9UT19DTEFTUycsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS9tZW1iZXJzLyR7dWlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdpbnN0cnVjdG9yJyxcblx0XHRcdFx0XHRcdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0aXNBbHJlYWR5SW5zdHJ1Y3RvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc0RhdGE6IGNsYXNzRGF0YVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvcnNCeUNsYXNzOiAoY2xhc3NDb2RlKSA9PiB7XG5cblx0XHR9LFxuXG5cdFx0Z2V0VGVhbVByb21pc2VzOiAodGlkKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodmFsKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRvblRlYW1Qcm9taXNlc0NoYW5nZTogKHRpZCwgY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRjYWxsYmFjayh2YWwpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdGlmIChmYWxsYmFjaykge1xuXHRcdFx0XHRcdGZhbGxiYWNrKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0b25Qcm9taXNlQ2hhbmdlOiAodGlkLCBwcm9taXNlaWQsIGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXByb21pc2VpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcHJvbWlzZSBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3RpZH1gKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGNhbGxiYWNrKHZhbCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGlmIChmYWxsYmFjaykge1xuXHRcdFx0XHRcdGZhbGxiYWNrKGVycik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRjb21tZW50T25Qcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy50ZXh0KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZXh0IGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH1gKS5wdXNoKHtcblx0XHRcdFx0XHR0eXBlOiAnY29tbWVudCcsXG5cdFx0XHRcdFx0cHJvbWlzZWlkOiBwYXJhbXMucHJvbWlzZWlkLFxuXHRcdFx0XHRcdGF1dGhvcjogcGFyYW1zLmF1dGhvcixcblx0XHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KCksXG5cdFx0XHRcdFx0dGV4dDogcGFyYW1zLnRleHRcblx0XHRcdFx0fSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZFByb21pc2U6IChwYXJhbXMpID0+IHtcblx0XHRcdGlmICghcGFyYW1zLnRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgcGF5bG9hZCA9IHtcblx0XHRcdFx0dHlwZTogJ2VkaXQnLFxuXHRcdFx0XHRhdXRob3I6IHBhcmFtcy5hdXRob3IsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fTtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHtwYXJhbXMudGlkfWApLnB1c2gocGF5bG9hZCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdGxldCBwcm9taXNlaWQgPSBkb25lLnBhdGguY3RbMl07XG5cdFx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9LyR7cHJvbWlzZWlkfS9wcm9taXNlaWRgKS5zZXQocHJvbWlzZWlkKS50aGVuKChmaW5pc2hlZCkgPT4ge1xuXHRcdFx0XHRcdFx0cGF5bG9hZC5wcm9taXNlaWQgPSBwcm9taXNlaWQ7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0cHJvbWlzZWlkOiBwcm9taXNlaWQsXG5cdFx0XHRcdFx0XHRcdGRhdGE6IHBheWxvYWRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dW5zZXRQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHtwYXJhbXMudGlkfS8ke3BhcmFtcy5wcm9taXNlaWR9YCkucmVtb3ZlKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVByb21pc2U6IChwYXJhbXMpID0+IHtcblx0XHRcdGlmICghcGFyYW1zLnRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLnByb21pc2VpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcHJvbWlzZSBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMuYXV0aG9yKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBhdXRob3IgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGxldCB0aWQgPSBwYXJhbXMudGlkICsgJyc7XG5cdFx0XHRsZXQgZWRpdERhdGEgPSBwYXJhbXM7XG5cdFx0XHRkZWxldGUgZWRpdERhdGEudGlkO1xuXHRcdFx0ZWRpdERhdGEudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkucHVzaChlZGl0RGF0YSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZExpbmtUb1Byb21pc2U6IChwYXJhbXMpID0+IHtcblx0XHRcdGlmICghcGFyYW1zLnRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLnByb21pc2VpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcHJvbWlzZSBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMuYXV0aG9yKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBhdXRob3IgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCBoYXNMaW5rSWQgPSBwYXJhbXMubGlua2lkID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH1gKS5wdXNoKHtcblx0XHRcdFx0XHR0eXBlOiAnbGluaycsXG5cdFx0XHRcdFx0cHJvbWlzZWlkOiBwYXJhbXMucHJvbWlzZWlkLFxuXHRcdFx0XHRcdGxpbmtpZDogcGFyYW1zLmxpbmtpZCB8fCBmYWxzZSxcblx0XHRcdFx0XHRhdXRob3I6IHBhcmFtcy5hdXRob3IsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRcdG5hbWU6IHBhcmFtcy5uYW1lIHx8IGZhbHNlLFxuXHRcdFx0XHRcdHVybDogcGFyYW1zLnVybCB8fCBmYWxzZSxcblx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdGlmIChoYXNMaW5rSWQpIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoZG9uZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGxldCBsaW5raWQgPSBkb25lLnBhdGguY3RbMl07XG5cdFx0XHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH0vJHtsaW5raWR9L2xpbmtpZGApLnNldChsaW5raWQpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0Um9sZU1hcDogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMucm9sZSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcm9sZSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcm9sZV9saWJyYXJ5LyR7cGFyYW1zLnJvbGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCByb2xlTWFwID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAocm9sZU1hcCkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShyb2xlTWFwKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBObyByb2xlIGZvdW5kIGZvcjogJHtwYXJhbXMucm9sZX1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHNhdmVSb2xlTWFwOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy5yb2xlKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyByb2xlIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMuZGF0YSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcm9sZSBtYXAgZGF0YSBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcm9sZV9saWJyYXJ5LyR7cGFyYW1zLnJvbGV9YCkuc2V0KHBhcmFtcy5kYXRhKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRBbGxSb2xlTWFwczogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGByb2xlX2xpYnJhcnlgKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSh2YWwpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gZGF0YWJhc2U7XG59XG5cbmV4cG9ydCB7RGF0YWJhc2V9OyIsImxldCBWaWV3cyA9ICgpID0+IHtcblxuXHRsZXQgdmlld3MgPSB7XG5cblx0XHRnZXRSb2xlQW5kVXBkYXRlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcG9zdGVkID0gbmV3IERhdGUobW9kZWwudGltZXN0YW1wKTtcblx0XHRcdGxldCBkYXRlRm9ybWF0ID0gbW9tZW50KHBvc3RlZCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7XG5cdFx0XHRsZXQgZGlmZiA9IG1vbWVudChEYXRlLm5vdygpKS5kaWZmKG1vbWVudChtb2RlbC50aW1lc3RhbXApKTtcblx0XHRcdGxldCBkYXlzU2luY2VMYXN0VXBkYXRlID0gbW9tZW50LmR1cmF0aW9uKGRpZmYpLmFzRGF5cygpO1xuXHRcdFx0bGV0IHRhZ0NsYXNzID0gJ2lzLXN1Y2Nlc3MnO1xuXHRcdFx0aWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gNSkge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy1kYW5nZXInO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSAzKSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLXdhcm5pbmcnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDhcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWEtY29udGVudCBjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucm9sZX08L3A+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtN1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyAke3RhZ0NsYXNzfVwiPiR7ZGF0ZUZvcm1hdH08L3NwYW4+ICR7bW9kZWwudXBkYXRlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Um9sZVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yZXNwb25zaWJpbGl0eX08L3A+XG5cdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgzIGlkPVwibXktdGl0bGVcIiBjbGFzcz1cInRpdGxlIGlzLTVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdFx0PHAgaWQ9XCJteS1yZXNwb25zaWJpbGl0eVwiIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwibXktcm9sZS1zYXZlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDhcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdCR7ZWRpdFNlY3Rpb259XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Um9sZVRlbXBsYXRlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZWRpdEJ1dHRvbiA9IGBgO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgzIGRhdGEtYmluZD1cImZpZWxkLXJvbGVcIiBjbGFzcz1cInRpdGxlIGlzLTVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdFx0PHAgZGF0YS1iaW5kPVwiZmllbGQtcmVzcG9uc2liaWxpdHlcIiBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5yZXNwb25zaWJpbGl0eX08L3A+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRcdGVkaXRCdXR0b24gPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy00XCI+XG5cdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWJpbmQ9XCJidXR0b24tc2F2ZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPlNhdmUgUm9sZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIHttb2RlbC5lZGl0YWJsZSA/ICdpcy04JyA6ICdpcy0xMid9XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgZGF0YS1iaW5kPVwiZmllbGQtaWNvblwiIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDggaWNvbi1pbWFnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS0ke21vZGVsLmljb24gfHwgJ3VzZXInfVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHRcdFx0JHtlZGl0U2VjdGlvbn1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdCR7ZWRpdEJ1dHRvbn1cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlICYmIG1vZGVsLm9uU2F2ZSkge1xuXHRcdFx0XHRsZXQgYnV0dG9uID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJpbmQ9YnV0dG9uLXNhdmVdJylbMF07XG5cdFx0XHRcdGxldCByb2xlID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJpbmQ9ZmllbGQtcm9sZV0nKVswXTtcblx0XHRcdFx0bGV0IHJlc3AgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1maWVsZC1yZXNwb25zaWJpbGl0eV0nKVswXTtcblx0XHRcdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRtb2RlbC5vblNhdmUoe1xuXHRcdFx0XHRcdFx0ZTogZSxcblx0XHRcdFx0XHRcdG1vZGVsOiBtb2RlbCxcblx0XHRcdFx0XHRcdHJvbGU6IHJvbGUuaW5uZXJUZXh0LFxuXHRcdFx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IHJlc3AuaW5uZXJUZXh0XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsZXQgaWNvbkVkaXQgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1maWVsZC1pY29uXScpWzBdO1xuXHRcdFx0XHRpY29uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdFx0bW9kZWwub25JY29uRWRpdCh7XG5cdFx0XHRcdFx0XHRlOiBlLFxuXHRcdFx0XHRcdFx0bW9kZWw6IG1vZGVsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvZ3Jlc3NVcGRhdGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IHBvc3RlZCA9IG5ldyBEYXRlKG1vZGVsLnRpbWVzdGFtcCk7XG5cdFx0XHRsZXQgZGF0ZUZvcm1hdCA9IG1vbWVudChwb3N0ZWQpLmZvcm1hdCgnTS9EIGg6bW0gQScpO1xuXHRcdFx0bGV0IGRpZmYgPSBtb21lbnQoRGF0ZS5ub3coKSkuZGlmZihtb21lbnQobW9kZWwudGltZXN0YW1wKSk7XG5cdFx0XHRsZXQgZGF5c1NpbmNlTGFzdFVwZGF0ZSA9IG1vbWVudC5kdXJhdGlvbihkaWZmKS5hc0RheXMoKTtcblx0XHRcdGxldCB0YWdDbGFzcyA9ICdpcy1zdWNjZXNzJztcblx0XHRcdGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDUpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtZGFuZ2VyJztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gMykge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy13YXJuaW5nJztcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtNVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZ3MgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyAke3RhZ0NsYXNzfSBpcy1tZWRpdW1cIj4ke2RhdGVGb3JtYXR9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGltYWdlLXRhZy1yb3VuZGVkIGlzLTMyeDMyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaXMtbWVkaXVtXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQke21vZGVsLm5hbWV9XG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtN1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQke21vZGVsLnVwZGF0ZX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGlsZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldExpbmtJdGVtOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBpY29uID0gJ2ZpbGUnO1xuXHRcdFx0aWYgKG1vZGVsLnVybC5pbmRleE9mKCdkb2NzLmdvb2dsZScpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdnb29nbGUnO1xuXHRcdFx0XHRpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudCcpID4gLTEpIHtcblx0XHRcdFx0XHRpY29uID0gJ2ZpbGUtdGV4dCc7XG5cdFx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMnKSA+IC0xKSB7XG5cdFx0XHRcdFx0aWNvbiA9ICd0YWJsZSc7XG5cdFx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlLmNvbS9wcmVzZW50YXRpb24nKSA+IC0xKSB7XG5cdFx0XHRcdFx0aWNvbiA9ICdzbGlkZXNoYXJlJztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignb21uaXBvaW50bWVudC5jb20vbWVldGluZycpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdjYWxlbmRhcic7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdnaXRodWIuY29tJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2dpdGh1Yic7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCd5b3V0dWJlLmNvbScpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICd5b3V0dWJlLXBsYXknO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZigndmltZW8uY29tJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ3ZpbWVvJztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ2NvZGVzaGFyZS5pbycpID4gLTEgfHwgbW9kZWwudXJsLmluZGV4T2YoJ2NvZGVwZW4uaW8nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAnY29kZS1mb3JrJztcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHttb2RlbC51cmx9XCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7aWNvbn1cIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuPiR7bW9kZWwubmFtZX08L3NwYW4+XG5cdFx0XHRcdDwvYT5cblx0XHRcdFx0PGEgY2xhc3M9XCJpcy1kYW5nZXIgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBlZGl0LWxpbmtcIiBkYXRhLWZvcj1cIiR7bW9kZWwua2V5fVwiPlxuXHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0PC9hPlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RlYW0tbGluaycpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1UaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7bW9kZWwudGlkfWA7XG5cdFx0XHRsZXQgdGFnID0gYDxzcGFuIGNsYXNzPVwidGFnIGlzLXdhcm5pbmdcIj5UZW1wbGF0ZTwvc3Bhbj5gO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXZlcnRpY2FsXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPiR7bW9kZWwubmFtZX0gJHttb2RlbC5pc1RlbXBsYXRlID8gdGFnIDogJyd9PC9oMz5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlXCI+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgVGVhbSBDaGFydGVyPC9hPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgY2xhc3NMaW5rID0gYCR7b3JpZ2lufS9jbGFzcy5odG1sP2NsYXNzPSR7bW9kZWwuY2lkfWA7XG5cdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG1vZGVsLnRlYW1zKS5maWx0ZXIoKHRpZCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMobW9kZWwudGVhbXNbdGlkXSkubGVuZ3RoID4gMDtcblx0XHRcdH0pLm1hcCgodGlkKSA9PiB7XG5cdFx0XHRcdGxldCB0ZWFtID0gbW9kZWwudGVhbXNbdGlkXTtcblx0XHRcdFx0dGVhbS50aWQgPSB0aWQ7XG5cdFx0XHRcdHJldHVybiB0ZWFtO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgbiA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0bGV0IGl0ZW1zID0gbGlzdC5tYXAoKHRlYW0pID0+IHtcblx0XHRcdFx0bGV0IHRlYW1MaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZtZW50b3I9dHJ1ZWA7XG5cdFx0XHRcdGxldCBpdGVtSFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTRcIj5cblx0XHRcdFx0XHRcdDxhIGhyZWY9JHt0ZWFtTGlua30gY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1mdWxsd2lkdGhcIj4ke3RlYW0ubmFtZX08L2E+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHJldHVybiBpdGVtSFRNTDtcblx0XHRcdH0pO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXZlcnRpY2FsXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgYm94IGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlXCI+JHtufSB0ZWFtJHtuID09PSAxID8gJycgOiAncyd9IHwgQ29kZTogJHttb2RlbC5jaWR9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiJHtjbGFzc0xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2xhc3MgRGFzaGJvYXJkPC9hPlxuXHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0Lyo8ZGl2IGNsYXNzPVwiY29sdW1ucyBpcy1tdWx0aWxpbmVcIj5cblx0XHRcdFx0XHRcdFx0XHQke2l0ZW1zLmpvaW4oJycpfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj4qL1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdFx0Ly88YSBocmVmPVwiJHtsaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IENsYXNzIFByb2dyZXNzPC9hPlxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy00Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlclRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImltYWdlIGlzLTQ4eDQ4IGltYWdlLXRhZy1yb3VuZGVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5zdWJ0aXRsZX08L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy00Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUZWFtVGFibGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGg+VGVhbSBOYW1lPC90aD5cblx0XHRcdFx0XHRcdDx0aD5NZW1iZXJzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5DaGFydGVyIEVkaXRzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5Qcm9ncmVzcyBVcGRhdGVzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5MYXN0IEFjdGl2ZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+VmlldyBUZWFtPC90aD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bW9kZWwudGVhbXMuZm9yRWFjaCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdXBkYXRlcyA9IDA7XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiB0ZWFtLnVwZGF0ZXMpIHtcblx0XHRcdFx0XHRmb3IgKGxldCB1cGlkIGluIHRlYW0udXBkYXRlc1t1aWRdKSB7XG5cdFx0XHRcdFx0XHR1cGRhdGVzKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0vY2hhcnRlci5odG1sP3RlYW09JHt0ZWFtLnRpZH0mbWVudG9yPXRydWVgO1xuXHRcdFx0XHRsZXQgbWVtYmVycyA9IHRlYW0ubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0PHRkPiR7dGVhbS5uYW1lfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtPYmplY3Qua2V5cyhtZW1iZXJzKS5sZW5ndGh9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke09iamVjdC5rZXlzKHRlYW0uZWRpdHMpLmxlbmd0aH08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7dXBkYXRlc308L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7bW9tZW50KHRlYW0ubGFzdEFjY2VzcykuZnJvbU5vdygpfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2hhcnRlcjwvYT5cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0YDtcblx0XHRcdH0pO1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtbmFycm93Jyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLWZ1bGx3aWR0aCcpO1xuXHRcdFx0XHR0YWJsZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIHRhYmxlO1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RlYW1HcmlkOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYGA7XG5cdFx0XHRtb2RlbC50ZWFtcy5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdGxldCB1cGRhdGVzID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0udXBkYXRlcykge1xuXHRcdFx0XHRcdGZvciAobGV0IHVwaWQgaW4gdGVhbS51cGRhdGVzW3VpZF0pIHtcblx0XHRcdFx0XHRcdHVwZGF0ZXMrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZjb2RlPSR7dGVhbS5qb2luQ29kZX1gO1xuXHRcdFx0XHRsZXQgbWVtYmVycyA9IHRlYW0ubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbHVtbiBpcy02XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94IGNvbnRlbnQgaGFzLXRleHQtY2VudGVyZWRcIj5cblx0XHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtNFwiPiR7dGVhbS5uYW1lfTwvaDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbmVhdGx5LXNwYWNlZFwiPkxhc3QgYWN0aXZlICR7bW9tZW50KHRlYW0ubGFzdEFjY2VzcykuZnJvbU5vdygpfTwvcD5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+JHtPYmplY3Qua2V5cyh0ZWFtLmVkaXRzKS5sZW5ndGh9IGNoYXJ0ZXIgZWRpdHM8L3A+XG5cdFx0XHRcdGA7XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiB0ZWFtLm1lbWJlcnMpIHtcblx0XHRcdFx0XHRsZXQgcHJvZmlsZSA9IG1vZGVsLnByb2ZpbGVzW3VpZF07XG5cdFx0XHRcdFx0bGV0IHVzZXJNb2RlbCA9IHtcblx0XHRcdFx0XHRcdG5hbWU6ICdVbmtub3duIFN0dWRlbnQnLFxuXHRcdFx0XHRcdFx0aW1hZ2U6ICcuL3B1YmxpYy9pbWcvbm8tdXNlci5wbmcnLFxuXHRcdFx0XHRcdFx0c3VidGl0bGU6ICcuLi4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChwcm9maWxlLm5hbWUpIHtcblx0XHRcdFx0XHRcdHVzZXJNb2RlbC5uYW1lID0gcHJvZmlsZS5uYW1lO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAocHJvZmlsZS5pbWFnZSkge1xuXHRcdFx0XHRcdFx0dXNlck1vZGVsLmltYWdlID0gcHJvZmlsZS5pbWFnZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRlYW0ubWVtYmVyc1t1aWRdLnJvbGUpIHtcblx0XHRcdFx0XHRcdHVzZXJNb2RlbC5zdWJ0aXRsZSA9IHRlYW0ubWVtYmVyc1t1aWRdLnJvbGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxldCB1c2VyRGl2ID0gdmlld3MuZ2V0VXNlclRpbGUodXNlck1vZGVsKTtcblx0XHRcdFx0XHRodG1sICs9IHVzZXJEaXYuaW5uZXJIVE1MO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaXMtZ3JvdXBlZCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPkpvaW4gVGVhbTwvYT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdH0pO1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbHVtbiBpcy02XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94IGNvbnRlbnQgaGFzLXRleHQtY2VudGVyZWRcIj5cblx0XHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtNFwiPlN0YXJ0IE5ldyBUZWFtPC9oMiBjbGFzcz1cInRpdGxlIGlzLTRcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+RG9uJ3Qgc2VlIHlvdXIgdGVhbT88L3A+XG5cdFx0XHRgO1xuXG5cdFx0XHRsZXQgcHJvZmlsZSA9IG1vZGVsLnByb2ZpbGVzW21vZGVsLnVpZF07XG5cdFx0XHRsZXQgdXNlck1vZGVsID0ge1xuXHRcdFx0XHRuYW1lOiAnVW5rbm93biBTdHVkZW50Jyxcblx0XHRcdFx0aW1hZ2U6ICcuL3B1YmxpYy9pbWcvbm8tdXNlci5wbmcnLFxuXHRcdFx0XHRzdWJ0aXRsZTogJ1RlYW0gTWVtYmVyJ1xuXHRcdFx0fVxuXHRcdFx0aWYgKHByb2ZpbGUubmFtZSkge1xuXHRcdFx0XHR1c2VyTW9kZWwubmFtZSA9IHByb2ZpbGUubmFtZTtcblx0XHRcdH1cblx0XHRcdGlmIChwcm9maWxlLmltYWdlKSB7XG5cdFx0XHRcdHVzZXJNb2RlbC5pbWFnZSA9IHByb2ZpbGUuaW1hZ2U7XG5cdFx0XHR9XG5cdFx0XHRsZXQgdXNlckRpdiA9IHZpZXdzLmdldFVzZXJUaWxlKHVzZXJNb2RlbCk7XG5cdFx0XHRodG1sICs9IHVzZXJEaXYuaW5uZXJIVE1MO1xuXG5cdFx0XHRodG1sICs9IGBcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaXMtZ3JvdXBlZCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGlkPVwibmV3LXRlYW1cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+U3RhcnQgTmV3IFRlYW08L2E+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1ucycpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtbXVsdGlsaW5lJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWlzZVRhYmxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8dGhlYWQ+XG5cdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0PHRoPk5hbWU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPk1lbWJlcjwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+U3RhdHVzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5MYXN0IEFjdGl2ZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+VmlldzwvdGg+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0PHRib2R5PlxuXHRcdFx0YDtcblxuXHRcdFx0T2JqZWN0LmtleXMobW9kZWwucHJvbWlzZXMpLm1hcCgocGRpZCkgPT4ge1xuXHRcdFx0XHRsZXQgdmFsID0gbW9kZWwucHJvbWlzZXNbcGRpZF07XG5cdFx0XHRcdFx0dmFsLmtleSA9IHBkaWQ7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9KS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fSkuZm9yRWFjaCgocHJvbWlzZSkgPT4ge1xuXHRcdFx0XHRsZXQgYXV0aG9yTmFtZSA9ICdVbmtub3duJztcblx0XHRcdFx0bGV0IGxhc3RBY3RpdmUgPSBtb21lbnQocHJvbWlzZS5sYXN0QWN0aXZlKS5mcm9tTm93KCk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXV0aG9yTmFtZSA9IG1vZGVsLnByb2ZpbGVzW3Byb21pc2UuYXV0aG9yXS5uYW1lO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgZHVyID0gbW9tZW50LmR1cmF0aW9uKG1vbWVudChwcm9taXNlLmR1ZSkuZGlmZihtb21lbnQoRGF0ZS5ub3coKSkpKTtcblx0XHRcdFx0bGV0IGRheXNMZWZ0ID0gTWF0aC5mbG9vcihkdXIuYXNEYXlzKCkpO1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtwcm9taXNlLnRpdGxlfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHthdXRob3JOYW1lfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtwcm9taXNlLmNvbXBsZXRlZCA/ICdDb21wbGV0ZScgOiAoZGF5c0xlZnQgPCAwID8gTWF0aC5hYnMoZGF5c0xlZnQpICsgJyBkYXlzIG92ZXJkdWUnIDogZGF5c0xlZnQgKyAnIGRheXMgbGVmdCcpfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtsYXN0QWN0aXZlfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1wcm9taXNlaWQ9XCIke3Byb21pc2Uua2V5fVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3PC9idXR0b24+XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdGA7XG5cdFx0XHR9KTtcblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0YDtcblx0XHRcdGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ3RhYmxlJyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLW5hcnJvdycpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1mdWxsd2lkdGgnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtc3RyaXBlZCcpO1xuXHRcdFx0XHR0YWJsZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIHRhYmxlO1xuXHRcdH0sXG5cblx0XHRnZXRQcm9taXNlQm94OiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBwcm9taXNlID0gbW9kZWwucHJvbWlzZTtcblx0XHRcdGxldCBwcm9maWxlcyA9IG1vZGVsLnByb2ZpbGVzO1xuXHRcdFx0bGV0IGxldmVsVGV4dCA9ICdVbmtub3duJztcblx0XHRcdHN3aXRjaCAocHJvbWlzZS5sZXZlbCkge1xuXHRcdFx0XHRjYXNlIDE6IGxldmVsVGV4dCA9ICdTbWFsbCc7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDI6IGxldmVsVGV4dCA9ICdNZWRpdW0nOyBicmVhaztcblx0XHRcdFx0Y2FzZSAzOiBsZXZlbFRleHQgPSAnTGFyZ2UnOyBicmVhaztcblx0XHRcdH1cblx0XHRcdGxldCBzaW5jZVN0YXJ0ID0gbW9tZW50KHByb21pc2Uuc3RhcnRlZCkuZnJvbU5vdygpO1xuXHRcdFx0bGV0IGR1ZURhdGUgPSBtb21lbnQocHJvbWlzZS5kdWUpLmZvcm1hdCgnTS9EL1lZJyk7XG5cdFx0XHRsZXQgYXV0aG9yTmFtZSA9ICdVbmtub3duJztcblx0XHRcdGxldCBhdXRob3JJbWFnZSA9ICcuL3B1YmxpYy9pbWcvbm8tdXNlci5wbmcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXV0aG9yTmFtZSA9IHByb2ZpbGVzW3Byb21pc2UuYXV0aG9yXS5uYW1lO1xuXHRcdFx0XHRhdXRob3JJbWFnZSA9IHByb2ZpbGVzW3Byb21pc2UuYXV0aG9yXS5pbWFnZTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlKVxuXHRcdFx0fVxuXHRcdFx0Ly88aDEgY2xhc3M9XCJ0aXRsZSBpcy0yXCI+JHtwcm9taXNlLnRpdGxlfSA8c3BhbiBjbGFzcz1cInRhZyBpcy13YXJuaW5nXCI+JHtsZXZlbFRleHR9PC9zcGFuPjwvaDE+XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbHVtblwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94IGNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDEgY2xhc3M9XCJ0aXRsZSBpcy0yXCI+JHtwcm9taXNlLnRpdGxlfTwvaDE+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29tbWVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGlzLTE2eDE2IGlzLXJvdW5kZWQgaXMtaW5saW5lLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke2F1dGhvckltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGl0bGUgaXMtNlwiPiR7YXV0aG9yTmFtZX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaXMtZmFkZWRcIj4gc3RhcnRlZCAke3NpbmNlU3RhcnR9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtbm9ybWFsbHktc3BhY2VkXCI+SSBwcm9taXNlIHRvICR7cHJvbWlzZS5kZXNjcmlwdGlvbn0gYnkgJHtkdWVEYXRlfS48L3A+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGxpbmtMaXN0ID0gT2JqZWN0LmtleXMocHJvbWlzZS5saW5rcykubWFwKChrZXkpID0+IHtcblx0XHRcdFx0bGV0IHZhbCA9IHByb21pc2UubGlua3Nba2V5XTtcblx0XHRcdFx0dmFsLmtleSA9IGtleTtcblx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKGxpbmtMaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0aHRtbCArPSBgPGRpdj5gO1xuXHRcdFx0XHRsaW5rTGlzdC5mb3JFYWNoKChsaW5rKSA9PiB7XG5cdFx0XHRcdFx0aHRtbCArPSBgPGRpdiBjbGFzcz1cInRlYW0tbGlua1wiPiR7dmlld3MuZ2V0TGlua0l0ZW0obGluaykuaW5uZXJIVE1MfTwvZGl2PmA7XG5cdFx0XHRcdFx0Ly9odG1sICs9IGA8bGk+PGEgaHJlZj1cIiR7bGluay51cmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHtsaW5rLm5hbWV9PC9hPjwvbGk+YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGh0bWwgKz0gYDwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaXMtZ3JvdXBlZFwiPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImVkaXRcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPkVkaXQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1mcGI9XCJsaW5rXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtbGlua1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj5BZGQgTGluazwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImJhY2tcIiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXIgaXMtb3V0bGluZWRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1sZWZ0XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPkJhY2sgdG8gUHJvbWlzZXM8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudFwiPlxuXHRcdFx0XHRcdDxoMSBjbGFzcz1cInRpdGxlIGlzLTRcIj5Qcm9ncmVzczwvaDE+XG5cdFx0XHRcdFx0PGRpdiBpZD1cImNvbW1lbnRzLWZpZWxkXCI+XG5cdFx0XHRcdFx0YDtcblxuXHRcdFx0T2JqZWN0LmtleXMocHJvbWlzZS5jb21tZW50cykubWFwKChrZXkpID0+IHtcblx0XHRcdFx0cmV0dXJuIHByb21pc2UuY29tbWVudHNba2V5XTtcblx0XHRcdH0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7XG5cdFx0XHR9KS5mb3JFYWNoKChjb21tZW50KSA9PiB7XG5cdFx0XHRcdGxldCBjb21tZW50QXV0aG9yID0ge1xuXHRcdFx0XHRcdG5hbWU6ICdVbmtub3duJyxcblx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZydcblx0XHRcdFx0fVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbW1lbnRBdXRob3IubmFtZSA9IHByb2ZpbGVzW2NvbW1lbnQuYXV0aG9yXS5uYW1lO1xuXHRcdFx0XHRcdGNvbW1lbnRBdXRob3IuaW1hZ2UgPSBwcm9maWxlc1tjb21tZW50LmF1dGhvcl0uaW1hZ2U7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGUpXG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IHNpbmNlQ29tbWVudCA9IG1vbWVudChjb21tZW50LnRpbWVzdGFtcCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7Ly8uZnJvbU5vdygpO1xuXHRcdFx0XHRpZiAoY29tbWVudC5nZW5lcmF0ZWQpIHtcblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb21tZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaXMtMTZ4MTYgaXMtcm91bmRlZCBpcy1pbmxpbmUtaW1hZ2VcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7Y29tbWVudEF1dGhvci5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRpdGxlIGlzLTZcIj4ke2NvbW1lbnRBdXRob3IubmFtZX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaXMtZmFkZWRcIj4gJHtzaW5jZUNvbW1lbnR9OiA8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZ2VuZXJhdGVkLXRleHRcIj4ke2NvbW1lbnQudGV4dH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpbWFnZSBpcy0xNngxNiBpcy1yb3VuZGVkIGlzLWlubGluZS1pbWFnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtjb21tZW50QXV0aG9yLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGl0bGUgaXMtNlwiPiR7Y29tbWVudEF1dGhvci5uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1mYWRlZFwiPiAke3NpbmNlQ29tbWVudH06IDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+JHtjb21tZW50LnRleHR9PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZS1lZGl0YWJsZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSBkYXRhLWZwYj1cInRleHRhcmVhXCIgY2xhc3M9XCJ0ZXh0YXJlYVwiIHJvd3M9XCIyXCIgcGxhY2Vob2xkZXI9XCJXcml0ZSBoZXJlLi4uXCI+PC90ZXh0YXJlYT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImNvbW1lbnRcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1jb21tZW50LW9cIj48L2k+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj5Db21tZW50PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gZGF0YS1mcGI9XCJjb21wbGV0ZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhICR7cHJvbWlzZS5jb21wbGV0ZWQgPyAnZmEtdGltZXMnIDogJ2ZhLWNoZWNrJ31cIj48L2k+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj4ke3Byb21pc2UuY29tcGxldGVkID8gJ01hcmsgYXMgSW5jb21wbGV0ZScgOiAnTWFyayBhcyBDb21wbGV0ZSd9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRib3guY2xhc3NMaXN0LmFkZCgnY29sdW1ucycpO1xuXHRcdFx0XHRib3guaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBib3g7XG5cdFx0fSxcblxuXHRcdGdldFByb21pc2VFZGl0b3I6IChtb2RlbCkgPT4ge1xuXHRcdFx0aWYgKG1vZGVsLmRlc2NyaXB0aW9uID09PSAnLi4uJykge1xuXHRcdFx0XHRtb2RlbC5kZXNjcmlwdGlvbiA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxoMSBkYXRhLXBlZj1cInRpdGxlXCIgY2xhc3M9XCJ0aXRsZSBpcy0yIG5scC1lZGl0YWJsZVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnRpdGxlID8gbW9kZWwudGl0bGUgOiAnVGl0bGUgb2YgUHJvbWlzZSd9PC9oMT5cblx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+XG5cdFx0XHRcdFx0SSBwcm9taXNlIHRvIDxzcGFuIGRhdGEtcGVmPVwiZGVzY3JpcHRpb25cIiBjbGFzcz1cIm5scC1lZGl0YWJsZVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLmRlc2NyaXB0aW9uID8gbW9kZWwuZGVzY3JpcHRpb24gOiAnKGRvIHNvbWV0aGluZyBmb3IgbXkgdGVhbSknfTwvc3Bhbj4gYnkgPHNwYW4gZGF0YS1wZWY9XCJkdWVcIiBjbGFzcz1cIm5scC1lZGl0YWJsZVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLmR1ZSA/IG1vbWVudChtb2RlbC5kdWUpLmZvcm1hdCgnTS9EL1lZWVknKSA6J01NL0REL1lZWVknfTwvc3Bhbj4uXG5cdFx0XHRcdDwvcD5cblx0XHRcdFx0PHAgZGF0YS1wZWY9XCJ3YXJuaW5nXCIgY2xhc3M9XCJpcy1kYW5nZXItdGV4dFwiPjwvcD5cblx0XHRcdFx0PGJ1dHRvbiBkYXRhLXBlZj1cInN1Ym1pdFwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnlcIj5TYXZlIFByb21pc2U8L2J1dHRvbj5cblx0XHRcdGA7XG5cdFx0XHRpZiAobW9kZWwuZGVsZXRhYmxlKSB7XG5cdFx0XHRcdGh0bWwgKz0gYDxidXR0b24gZGF0YS1wZWY9XCJyZW1vdmVcIiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXIgaXMtb3V0bGluZWRcIj5DYW5jZWw8L2J1dHRvbj5gO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbCArPSBgPGJ1dHRvbiBkYXRhLXBlZj1cImNhbmNlbFwiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPkNhbmNlbDwvYnV0dG9uPmA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdib3gnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlU3RlcENhcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBjbGFzcz1cIm1lc3NhZ2UgJHttb2RlbC5pc09wZW4gPyBgYCA6IGBpcy1jb2xsYXBzZWRgfSAke21vZGVsLmNvbXBsZXRlZCA/IGBpcy1zdWNjZXNzYCA6IGBpcy1wcmltYXJ5YH1cIiBjb2xsYXBzaWJsZT5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1oZWFkZXIgaXMtY29udHJhc3RcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaXJjbGVcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1jaGVja1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC50aXRsZX08L2gzPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBzaG93LWNvbGxhcHNlZCBmYS1jaGV2cm9uLXVwXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgc2hvdy11bmZ1cmxlZCBmYS1jaGV2cm9uLWRvd25cIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWJvZHlcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLW5vdGVcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNvbnRlbnRlZGl0YWJsZT1cIiR7bW9kZWwuZWRpdGFibGV9XCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwucHMucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhZ2cgKyBgPHA+JHt2YWx9PC9wPmA7XG5cdFx0XHRcdFx0XHRcdH0sICcnKX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8c3BhbiBkYXRhLWFjdGlvbj1cInNhdmUtbm90ZVwiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtZGFyayBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtc2F2ZVwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPlNhdmUgTm90ZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJlZGl0LW5hbWVcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmsgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5FZGl0IE5hbWU8L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwibW92ZS1zdGVwLXVwXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbCBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy11cFwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk1vdmUgVXA8L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwibW92ZS1zdGVwLWRvd25cIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWFycm93LWRvd25cIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5Nb3ZlIERvd248L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxocj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwubGlua3MucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBsaW5rSHRtbCA9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWdzIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlua0h0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtdHJhbnNwYXJlbnQtYmFja2dyb3VuZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwiZWRpdC1saW5rXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBkYXRhLWxpbms9XCIke3ZhbC5pZH1cIiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJyZW1vdmUtbGlua1wiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgZGF0YS1saW5rPVwiJHt2YWwuaWR9XCIgY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXJlbW92ZVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdFx0fVx0XG5cdFx0XHRcdFx0XHRcdFx0bGlua0h0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtcHJpbWFyeVwiPiR7dmFsLnR5cGV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtd2FybmluZ1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxhIGNsYXNzPVwibGlua1wiIGRhdGEtbGlua2lkPVwiJHt2YWwuaWR9XCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHt2YWwudXJsfVwiPiR7dmFsLnRpdGxlfTwvYT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYWdnICsgbGlua0h0bWxcblx0XHRcdFx0XHRcdFx0fSwgJycpfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW4gJHttb2RlbC5lZGl0YWJsZSA/ICdpcy1oaWRkZW4nIDogJyd9XCI+TWFyayBDb21wbGV0ZTwvYnV0dG9uPlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8c3BhbiBkYXRhLWFjdGlvbj1cImFkZC1zdGVwLWxpbmtcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmsgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXBsdXNcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5BZGQgTGluazwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZS1jb25uZWN0b3InKTtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdHRhZ0NvZGU6ICh0ZXh0KSA9PiB7XG5cdFx0XHRsZXQgb3V0ID0gYGA7XG5cdFx0XHRsZXQgb3BlbiA9IGZhbHNlO1xuXHRcdFx0Zm9yIChsZXQgYyA9IDA7IGMgPCB0ZXh0Lmxlbmd0aDsgYysrKSB7XG5cdFx0XHRcdGlmICh0ZXh0W2NdID09PSAnYCcpIHtcblx0XHRcdFx0XHRpZiAoIW9wZW4pIHtcblx0XHRcdFx0XHRcdG91dCArPSBgPHNwYW4gY2xhc3M9XCJ0YWcgaXMtY29kZVwiPmA7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG91dCArPSBgPC9zcGFuPmA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG9wZW4gPSAhb3Blbjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRvdXQgKz0gdGV4dFtjXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKG9wZW4pIHtcblx0XHRcdFx0b3V0ICs9IGA8L3NwYW4+YDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvdXQ7XG5cdFx0fSxcblxuXHRcdGdldExpc3RDYXJkOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+JHttb2RlbC50aXRsZX08L2gyPlxuXHRcdFx0XHQ8dWwgZGF0YS10ZXh0YXJlYT1cImdldC0ke21vZGVsLmZpZWxkfVwiIGNvbnRlbnRlZGl0YWJsZT1cIiR7bW9kZWwuZWRpdGFibGV9XCI+XG5cdFx0XHRcdFx0JHttb2RlbC5wcy5yZWR1Y2UoKGFnZywgdmFsKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgdGV4dCA9IHZhbDtcblx0XHRcdFx0XHRcdGlmIChtb2RlbC5oYXNDb2RlICYmICghbW9kZWwuZWRpdGFibGUpKSB7XG5cdFx0XHRcdFx0XHRcdHRleHQgPSB2aWV3cy50YWdDb2RlKHZhbCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gYWdnICsgYDxsaT4ke3RleHR9PC9saT5gO1xuXHRcdFx0XHRcdH0sICcnKX1cblx0XHRcdFx0PC91bD5cblx0XHRcdGA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWFjdGlvbj1cInNhdmUtJHttb2RlbC5maWVsZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbCBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1zYXZlXCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTYnKTtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVNYXBDYXJkOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L3JvbGVsaWJyYXJ5Lmh0bWw/cm9sZT0ke21vZGVsLmlkfWA7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveFwiPlxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTRcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7bW9kZWwuaWNvbn1cIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj4ke21vZGVsLnRpdGxlfTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2gzPlxuXHRcdFx0XHRcdDx1bD5cblx0XHRcdFx0XHRcdCR7bW9kZWwuaW1wb3J0YW5jZS5zcGxpdCgnXFxuJykucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYCR7YWdnfTxsaT4ke3ZhbH08L2xpPmA7XG5cdFx0XHRcdFx0XHR9KX1cblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlByZXZpZXcgUm9sZTwvYT5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtMycpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiB2aWV3cztcblxufVxuXG5leHBvcnQge1ZpZXdzfTtcbiJdfQ==\n"]}