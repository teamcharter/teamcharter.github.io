{"version":3,"sources":["class.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","getLastAccess","team","lastAccess","uid","updates","upid","up","timestamp","_uid7","members","joined","eid","edits","edit","onTabClick","tabGroup","tab","tabid","dataset","showTab","document","getElementById","database","getPrometheus","save","type","classCode","CLASS_CODE","j","classList","remove","otherTabs","getElementsByClassName","style","display","add","reportErrorToUser","err","vex","dialog","alert","fillText","className","text","spans","innerText","fillSrc","src","_config","_database","_views","Database","firebase","config","params","qs","split","join","tokens","re","exec","decodeURIComponent","getQueryParams","location","search","views","Views","class","feedbackBtn","teamSpace","instructorSpace","studentSpace","tabList","inviteInstructorBtn","init","user","window","origin","addEventListener","prompt","message","callback","feedback","_uid","getCurrentUser","saveFeedback","then","done","catch","value","displayName","photoURL","getInstructorClasses","classMap","classData","name","teams","instructorMap","userPromises","_uid2","p","getUser","push","studentMap","tid","_uid3","_p","profileMap","Promise","all","userList","forEach","idx","_uid4","innerHTML","iCount","_uid5","hidden","profile","tile","getUserTile","image","subtitle","appendChild","sCount","_uid6","_profile","teamName","_tile","promises","_tid","_p2","getTeamEdits","editList","teamList","editMap","viewTeams","sort","b","table","getClassTeamTable","k","_loop","querySelectorAll","console","error","./config","./database","./views","2","Object","defineProperty","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","3","CharterFirebase","initializeApp","db","auth","localhost","noScreenshots","prometheus","Prometheus","fallback","called","onAuthStateChanged","logon","email","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","result","credential","accessToken","providerId","providerData","currentUser","ref","Date","now","resolve","reject","once","snap","val","getTeam","keys","onTeamChange","on","memberMap","status","users","member","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","updateRole","author","role","responsibility","addTemplateRole","icon","updateRoleIcon","joinTeam","joinCode","success","addMember","removeMember","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","res","pathList","path","ct","map","cid","resolveTeam","rejectTeam","tidx","meta","getClassTeams","_loop2","addTeamToClass","access","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","getTeamPromises","onTeamPromisesChange","onPromiseChange","promiseid","commentOnPromise","addPromise","payload","finished","unsetPromise","updatePromise","editData","addLinkToPromise","hasLinkId","linkid","getRoleMap","roleMap","saveRoleMap","4","getRoleAndUpdateTile","model","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","div","createElement","getRoleTile","editSection","editable","getRoleTemplateTile","editButton","onSave","button","resp","onIconEdit","getProgressUpdate","getLinkItem","indexOf","getTeamTile","link","isTemplate","getClassTile","classLink","filter","fromNow","getClassTeamGrid","profiles","_userModel","_userDiv","userModel","userDiv","getPromiseTable","pdid","promise","authorName","lastActive","dur","due","daysLeft","Math","floor","title","completed","abs","getPromiseBox","level","sinceStart","started","dueDate","authorImage","description","linkList","links","comments","comment","commentAuthor","sinceComment","generated","box","getPromiseEditor","deletable","getRoleStepCard","isOpen","id","ps","reduce","agg","linkHtml","tagCode","out","open","c","getListCard","hasCode"],"mappings":"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","file":"../class.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\n\nvar views = (0, _views.Views)();\n\nvar CLASS_CODE = params.class || false;\n\nvar feedbackBtn = document.getElementById('feedback');\nvar teamSpace = document.getElementById('team-space');\nvar instructorSpace = document.getElementById('instructor-space');\nvar studentSpace = document.getElementById('student-space');\nvar tabList = document.getElementsByClassName('charter-tab');\nvar inviteInstructorBtn = document.getElementById('invite-instructor');\n\ndatabase.init(main, function () {\n\t// No user signed in\n\twindow.location = window.location.origin + '/login.html' + document.location.search;\n});\n\nfunction main(user) {\n\n\tvar classCode = CLASS_CODE;\n\n\tif (!classCode) {\n\t\twindow.location = window.location.origin + '/me.html' + document.location.search;\n\t}\n\n\tfeedbackBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\tcallback: function callback(feedback) {\n\t\t\t\tif (feedback) {\n\t\t\t\t\tvar _uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.saveFeedback(false, _uid, feedback).then(function (done) {\n\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tinviteInstructorBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Send them this link:',\n\t\t\tvalue: window.location.origin + '/me.html?instructor=' + classCode,\n\t\t\tcallback: function callback(done) {}\n\t\t});\n\t});\n\n\tfillText('fill-user-name', user.displayName);\n\tfillSrc('fill-user-image', user.photoURL);\n\n\tvar uid = database.getCurrentUser().uid;\n\n\tdatabase.getInstructorClasses(uid).then(function (classMap) {\n\t\tvar classData = classMap[classCode] || false;\n\t\tif (classData) {\n\n\t\t\tfillText('fill-class-name', classData.name);\n\t\t\tvar teams = classData.teams;\n\n\t\t\tvar instructorMap = classData.members || {};\n\t\t\tvar userPromises = [];\n\t\t\tfor (var _uid2 in instructorMap) {\n\t\t\t\tvar p = database.getUser(_uid2);\n\t\t\t\tp.uid = _uid2;\n\t\t\t\tuserPromises.push(p);\n\t\t\t}\n\n\t\t\tvar studentMap = {};\n\t\t\tfor (var tid in classData.teams) {\n\t\t\t\tvar team = classData.teams[tid];\n\t\t\t\tfor (var _uid3 in team.members) {\n\t\t\t\t\tvar _p = database.getUser(_uid3);\n\t\t\t\t\t_p.uid = _uid3;\n\t\t\t\t\tuserPromises.push(_p);\n\t\t\t\t\tstudentMap[_uid3] = team.name;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar profileMap = {};\n\n\t\t\tPromise.all(userPromises).then(function (userList) {\n\t\t\t\tuserList.forEach(function (user, idx) {\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\tvar _uid4 = userPromises[idx].uid;\n\t\t\t\t\t\tuser.uid = _uid4;\n\t\t\t\t\t\tprofileMap[_uid4] = user;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tinstructorSpace.innerHTML = '';\n\t\t\t\tvar iCount = 0;\n\t\t\t\tfor (var _uid5 in instructorMap) {\n\t\t\t\t\tvar ins = instructorMap[_uid5];\n\t\t\t\t\tif (!ins.hidden) {\n\t\t\t\t\t\tvar profile = profileMap[_uid5];\n\t\t\t\t\t\tif (profile) {\n\t\t\t\t\t\t\tvar tile = views.getUserTile({\n\t\t\t\t\t\t\t\tname: profile.name,\n\t\t\t\t\t\t\t\timage: profile.image,\n\t\t\t\t\t\t\t\tsubtitle: 'Instructor'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tinstructorSpace.appendChild(tile);\n\t\t\t\t\t\t\tiCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfillText('fill-number-instructors', '(' + iCount + ')');\n\t\t\t\tvar sCount = 0;\n\t\t\t\tfor (var _uid6 in studentMap) {\n\t\t\t\t\tvar _profile = profileMap[_uid6];\n\t\t\t\t\tif (_profile) {\n\t\t\t\t\t\tvar teamName = studentMap[_uid6];\n\t\t\t\t\t\tvar _tile = views.getUserTile({\n\t\t\t\t\t\t\tname: _profile.name,\n\t\t\t\t\t\t\timage: _profile.image,\n\t\t\t\t\t\t\tsubtitle: teamName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstudentSpace.appendChild(_tile);\n\t\t\t\t\t\tsCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfillText('fill-number-students', '(' + sCount + ')');\n\t\t\t});\n\n\t\t\tvar promises = [];\n\t\t\tfor (var _tid in teams) {\n\t\t\t\tvar _p2 = database.getTeamEdits(_tid);\n\t\t\t\t_p2.tid = _tid;\n\t\t\t\tpromises.push(_p2);\n\t\t\t}\n\n\t\t\tPromise.all(promises).then(function (editList) {\n\n\t\t\t\tvar teamList = [];\n\t\t\t\teditList.forEach(function (editMap, idx) {\n\t\t\t\t\tvar tid = promises[idx].tid;\n\t\t\t\t\tvar team = teams[tid];\n\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\tteam.edits = editMap;\n\t\t\t\t\tteam.lastAccess = getLastAccess(team);\n\t\t\t\t\tteamList.push(team);\n\t\t\t\t});\n\t\t\t\tvar viewTeams = teamList.sort(function (a, b) {\n\t\t\t\t\treturn b.lastAccess - a.lastAccess;\n\t\t\t\t});\n\t\t\t\tvar table = views.getClassTeamTable({\n\t\t\t\t\tteams: viewTeams\n\t\t\t\t});\n\t\t\t\tteamSpace.innerHTML = '';\n\t\t\t\tteamSpace.appendChild(table);\n\n\t\t\t\tvar _loop = function _loop(k) {\n\t\t\t\t\ttabList[k].addEventListener('click', function (e) {\n\t\t\t\t\t\tonTabClick(tabList, tabList[k]);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tfor (var k = 0; k < tabList.length; k++) {\n\t\t\t\t\t_loop(k);\n\t\t\t\t}\n\n\t\t\t\tonTabClick(tabList, document.querySelectorAll('.charter-tab[data-tab=\"container-teams\"]')[0]);\n\t\t\t}).catch(console.error);\n\t\t}\n\t}).catch(console.error);\n\n\tdatabase.getPrometheus().save({\n\t\ttype: 'CLASS_PAGE',\n\t\tclassCode: classCode\n\t});\n}\n\nfunction getLastAccess(team) {\n\tvar lastAccess = 0;\n\tfor (var uid in team.updates) {\n\t\tfor (var upid in team.updates[uid]) {\n\t\t\tvar up = team.updates[uid][upid];\n\t\t\tif (up.timestamp > lastAccess) {\n\t\t\t\tlastAccess = up.timestamp;\n\t\t\t}\n\t\t}\n\t}\n\tfor (var _uid7 in team.members) {\n\t\tvar joined = team.members[_uid7].joined;\n\t\tif (joined > lastAccess) {\n\t\t\tlastAccess = joined;\n\t\t}\n\t}\n\tfor (var eid in team.edits) {\n\t\tvar edit = team.edits[eid];\n\t\tif (edit.timestamp > lastAccess) {\n\t\t\tlastAccess = edit.timestamp;\n\t\t}\n\t}\n\treturn lastAccess;\n}\n\nfunction onTabClick(tabGroup, tab) {\n\tvar tabid = tab.dataset.tab;\n\tvar showTab = document.getElementById(tabid);\n\tif (showTab) {\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHANGE_CLASS_TAB',\n\t\t\tclassCode: CLASS_CODE,\n\t\t\ttab: tabid\n\t\t});\n\t\tfor (var j = 0; j < tabGroup.length; j++) {\n\t\t\ttabGroup[j].classList.remove('is-active');\n\t\t}\n\t\tvar otherTabs = document.getElementsByClassName('tabbed-container');\n\t\tfor (var i = 0; i < otherTabs.length; i++) {\n\t\t\totherTabs[i].style.display = 'none';\n\t\t}\n\t\tshowTab.style.display = 'block';\n\t\ttab.classList.add('is-active');\n\t}\n}\n\nfunction reportErrorToUser(err) {\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\n},{\"./config\":2,\"./database\":3,\"./views\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\t// Super Dirty: Update Prometheus Promos and Features Here\n\t// db.ref('prometheus/features/contributor').set({info: {name: 'Charter Contributor'}, validate: 'return {allowed: userData.contributor,data: userData}'})\n\n\t//db.ref('classes/master/teams').remove();\n\t/*db.ref('teams').once('value', (snap) => {\n \tlet teamMap = snap.val() || {};\n \tfor (let tid in teamMap) {\n \t\tdb.ref(`classes/master/teams/${tid}`).set({\n \t\t\taccess: true,\n \t\t\tjoined: Date.now()\n \t\t});\n \t}\n });*/\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tif (memberMap[uid].status === 'template') {\n\t\t\t\t\t\t\tmembers[uid] = {\n\t\t\t\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\t\t\tuid: uid,\n\t\t\t\t\t\t\t\temail: 'team@omnipointment.com'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + data.uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + data.uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\taddTemplateRole: function addTemplateRole(tid, author) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_TEMPLATE_ROLE',\n\t\t\t\ttid: tid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members').push({\n\t\t\t\tstatus: 'template',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true,\n\t\t\t\ticon: 'user'\n\t\t\t});\n\t\t},\n\n\t\tupdateRoleIcon: function updateRoleIcon(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE_ICON',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\ticon: data.icon\n\t\t\t});\n\t\t\t//\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/members/' + data.uid + '/icon').set(data.icon);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tremoveMember: function removeMember(tid, author, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).remove();\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, data) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar teamName = data.name;\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode,\n\t\t\t\t\tstatus: data.status || 'regular'\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetClassTeams: function getClassTeams(classCode) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes/' + classCode);\n\t\t\t\tref.once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val() || {};\n\t\t\t\t\tvar nodes = {};\n\t\t\t\t\tnodes[classCode] = val;\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop2 = function _loop2(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop2(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {},\n\n\t\tgetTeamPromises: function getTeamPromises(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamPromisesChange: function onTeamPromisesChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonPromiseChange: function onPromiseChange(tid, promiseid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tcommentOnPromise: function commentOnPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tif (!params.text) {\n\t\t\t\tthrow Error('No text given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'comment',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\ttext: params.text\n\t\t\t\t}).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddPromise: function addPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar payload = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tauthor: params.author,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push(payload).then(function (done) {\n\t\t\t\t\tvar promiseid = done.path.ct[2];\n\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + promiseid + '/promiseid').set(promiseid).then(function (finished) {\n\t\t\t\t\t\tpayload.promiseid = promiseid;\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tpromiseid: promiseid,\n\t\t\t\t\t\t\tdata: payload\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tunsetPromise: function unsetPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid + '/' + params.promiseid).remove().then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tupdatePromise: function updatePromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar tid = params.tid + '';\n\t\t\tvar editData = params;\n\t\t\tdelete editData.tid;\n\t\t\teditData.timestamp = Date.now();\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).push(editData).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddLinkToPromise: function addLinkToPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar hasLinkId = params.linkid ? true : false;\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tlinkid: params.linkid || false,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tname: params.name || false,\n\t\t\t\t\turl: params.url || false\n\t\t\t\t}).then(function (done) {\n\t\t\t\t\tif (hasLinkId) {\n\t\t\t\t\t\tresolve(done);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar linkid = done.path.ct[2];\n\t\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + linkid + '/linkid').set(linkid).then(resolve).catch(reject);\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetRoleMap: function getRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).once('value', function (snap) {\n\t\t\t\t\tvar roleMap = snap.val();\n\t\t\t\t\tif (roleMap) {\n\t\t\t\t\t\tresolve(roleMap);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('No role found for: ' + params.role);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tsaveRoleMap: function saveRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\tif (!params.data) {\n\t\t\t\tthrow Error('No role map data given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).set(params.data).then(function (done) {\n\t\t\t\t\tresolve(true);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTemplateTile: function getRoleTemplateTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tvar editButton = '';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 data-bind=\"field-role\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p data-bind=\"field-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t</div>';\n\t\t\t\teditButton = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-4\">\\n\\t\\t\\t\\t\\t<button data-bind=\"button-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical {model.editable ? \\'is-8\\' : \\'is-12\\'}\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"field-icon\" class=\"image is-48x48 icon-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + (model.icon || 'user') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t' + editButton + '\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\tif (model.editable && model.onSave) {\n\t\t\t\tvar button = div.querySelectorAll('[data-bind=button-save]')[0];\n\t\t\t\tvar role = div.querySelectorAll('[data-bind=field-role]')[0];\n\t\t\t\tvar resp = div.querySelectorAll('[data-bind=field-responsibility]')[0];\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onSave({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\trole: role.innerText,\n\t\t\t\t\t\tresponsibility: resp.innerText\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tvar iconEdit = div.querySelectorAll('[data-bind=field-icon]')[0];\n\t\t\t\ticonEdit.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onIconEdit({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t\tif (model.url.indexOf('docs.google.com/document') > -1) {\n\t\t\t\t\ticon = 'file-text';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/spreadsheets') > -1) {\n\t\t\t\t\ticon = 'table';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/presentation') > -1) {\n\t\t\t\t\ticon = 'slideshare';\n\t\t\t\t}\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t} else if (model.url.indexOf('github.com') > -1) {\n\t\t\t\ticon = 'github';\n\t\t\t} else if (model.url.indexOf('youtube.com') > -1) {\n\t\t\t\ticon = 'youtube-play';\n\t\t\t} else if (model.url.indexOf('vimeo.com') > -1) {\n\t\t\t\ticon = 'vimeo';\n\t\t\t} else if (model.url.indexOf('codeshare.io') > -1 || model.url.indexOf('codepen.io') > -1) {\n\t\t\t\ticon = 'code-fork';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar tag = '<span class=\"tag is-warning\">Template</span>';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + ' ' + (model.isTemplate ? tag : '') + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetClassTeamGrid: function getClassTeamGrid(model) {\n\t\t\tvar html = '';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&code=' + team.joinCode;\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">' + team.name + '</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Last active ' + moment(team.lastAccess).fromNow() + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">' + Object.keys(team.edits).length + ' charter edits</p>\\n\\t\\t\\t\\t';\n\t\t\t\tfor (var _uid in team.members) {\n\t\t\t\t\tvar _profile = model.profiles[_uid];\n\t\t\t\t\tvar _userModel = {\n\t\t\t\t\t\tname: 'Unknown Student',\n\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\tsubtitle: '...'\n\t\t\t\t\t};\n\t\t\t\t\tif (_profile.name) {\n\t\t\t\t\t\t_userModel.name = _profile.name;\n\t\t\t\t\t}\n\t\t\t\t\tif (_profile.image) {\n\t\t\t\t\t\t_userModel.image = _profile.image;\n\t\t\t\t\t}\n\t\t\t\t\tif (team.members[_uid].role) {\n\t\t\t\t\t\t_userModel.subtitle = team.members[_uid].role;\n\t\t\t\t\t}\n\t\t\t\t\tvar _userDiv = views.getUserTile(_userModel);\n\t\t\t\t\thtml += _userDiv.innerHTML;\n\t\t\t\t}\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">Join Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">Start New Team</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Don\\'t see your team?</p>\\n\\t\\t\\t';\n\n\t\t\tvar profile = model.profiles[model.uid];\n\t\t\tvar userModel = {\n\t\t\t\tname: 'Unknown Student',\n\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\tsubtitle: 'Team Member'\n\t\t\t};\n\t\t\tif (profile.name) {\n\t\t\t\tuserModel.name = profile.name;\n\t\t\t}\n\t\t\tif (profile.image) {\n\t\t\t\tuserModel.image = profile.image;\n\t\t\t}\n\t\t\tvar userDiv = views.getUserTile(userModel);\n\t\t\thtml += userDiv.innerHTML;\n\n\t\t\thtml += '\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a id=\"new-team\" class=\"button is-primary is-outlined\">Start New Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('columns');\n\t\t\tdiv.classList.add('is-multiline');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetPromiseTable: function getPromiseTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Member</th>\\n\\t\\t\\t\\t\\t\\t<th>Status</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\n\t\t\tObject.keys(model.promises).map(function (pdid) {\n\t\t\t\tvar val = model.promises[pdid];\n\t\t\t\tval.key = pdid;\n\t\t\t\treturn val;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn 0;\n\t\t\t}).forEach(function (promise) {\n\t\t\t\tvar authorName = 'Unknown';\n\t\t\t\tvar lastActive = moment(promise.lastActive).fromNow();\n\t\t\t\ttry {\n\t\t\t\t\tauthorName = model.profiles[promise.author].name;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar dur = moment.duration(moment(promise.due).diff(moment(Date.now())));\n\t\t\t\tvar daysLeft = Math.floor(dur.asDays());\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + promise.title + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + authorName + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + (promise.completed ? 'Complete' : daysLeft < 0 ? Math.abs(daysLeft) + ' days overdue' : daysLeft + ' days left') + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + lastActive + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<button data-promiseid=\"' + promise.key + '\" class=\"button is-primary is-outlined\">View</button>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.classList.add('is-striped');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetPromiseBox: function getPromiseBox(model) {\n\t\t\tvar promise = model.promise;\n\t\t\tvar profiles = model.profiles;\n\t\t\tvar levelText = 'Unknown';\n\t\t\tswitch (promise.level) {\n\t\t\t\tcase 1:\n\t\t\t\t\tlevelText = 'Small';break;\n\t\t\t\tcase 2:\n\t\t\t\t\tlevelText = 'Medium';break;\n\t\t\t\tcase 3:\n\t\t\t\t\tlevelText = 'Large';break;\n\t\t\t}\n\t\t\tvar sinceStart = moment(promise.started).fromNow();\n\t\t\tvar dueDate = moment(promise.due).format('M/D/YY');\n\t\t\tvar authorName = 'Unknown';\n\t\t\tvar authorImage = './public/img/no-user.png';\n\t\t\ttry {\n\t\t\t\tauthorName = profiles[promise.author].name;\n\t\t\t\tauthorImage = profiles[promise.author].image;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\t//<h1 class=\"title is-2\">${promise.title} <span class=\"tag is-warning\">${levelText}</span></h1>\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-2\">' + promise.title + '</h1>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + authorImage + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + authorName + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> started ' + sinceStart + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-normally-spaced\">I promise to ' + promise.description + ' by ' + dueDate + '.</p>\\n\\t\\t\\t';\n\t\t\tvar linkList = Object.keys(promise.links).map(function (key) {\n\t\t\t\tvar val = promise.links[key];\n\t\t\t\tval.key = key;\n\t\t\t\treturn val;\n\t\t\t});\n\t\t\tif (linkList.length > 0) {\n\t\t\t\thtml += '<div>';\n\t\t\t\tlinkList.forEach(function (link) {\n\t\t\t\t\thtml += '<div class=\"team-link\">' + views.getLinkItem(link).innerHTML + '</div>';\n\t\t\t\t\t//html += `<li><a href=\"${link.url}\" target=\"_blank\">${link.name}</a></li>`;\n\t\t\t\t});\n\t\t\t\thtml += '</div>';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"edit\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Edit</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"link\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-link\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"back\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-left\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Back to Promises</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-4\">Progress</h1>\\n\\t\\t\\t\\t\\t<div id=\"comments-field\">\\n\\t\\t\\t\\t\\t';\n\n\t\t\tObject.keys(promise.comments).map(function (key) {\n\t\t\t\treturn promise.comments[key];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn a.timestamp - b.timestamp;\n\t\t\t}).forEach(function (comment) {\n\t\t\t\tvar commentAuthor = {\n\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\timage: './public/img/no-user.png'\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tcommentAuthor.name = profiles[comment.author].name;\n\t\t\t\t\tcommentAuthor.image = profiles[comment.author].image;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar sinceComment = moment(comment.timestamp).format('M/D h:mm A'); //.fromNow();\n\t\t\t\tif (comment.generated) {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"generated-text\">' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t} else {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span>' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile-editable\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea data-fpb=\"textarea\" class=\"textarea\" rows=\"2\" placeholder=\"Write here...\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"comment\" class=\"button is-primary\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-comment-o\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Comment</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"complete\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa ' + (promise.completed ? 'fa-times' : 'fa-check') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>' + (promise.completed ? 'Mark as Incomplete' : 'Mark as Complete') + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar box = document.createElement('div');\n\t\t\tbox.classList.add('columns');\n\t\t\tbox.innerHTML = html;\n\t\t\treturn box;\n\t\t},\n\n\t\tgetPromiseEditor: function getPromiseEditor(model) {\n\t\t\tif (model.description === '...') {\n\t\t\t\tmodel.description = false;\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h1 data-pef=\"title\" class=\"title is-2 nlp-editable\" contenteditable=\"true\">' + (model.title ? model.title : 'Title of Promise') + '</h1>\\n\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\tI promise to <span data-pef=\"description\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.description ? model.description : '(do something for my team)') + '</span> by <span data-pef=\"due\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.due ? moment(model.due).format('M/D/YYYY') : 'MM/DD/YYYY') + '</span>.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p data-pef=\"warning\" class=\"is-danger-text\"></p>\\n\\t\\t\\t\\t<button data-pef=\"submit\" class=\"button is-primary\">Save Promise</button>\\n\\t\\t\\t';\n\t\t\tif (model.deletable) {\n\t\t\t\thtml += '<button data-pef=\"remove\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t} else {\n\t\t\t\thtml += '<button data-pef=\"cancel\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('box');\n\t\t\tdiv.classList.add('content');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleStepCard: function getRoleStepCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"message ' + (model.isOpen ? '' : 'is-collapsed') + ' ' + (model.completed ? 'is-success' : 'is-primary') + '\" collapsible>\\n\\t\\t\\t\\t\\t<div class=\"message-header is-contrast\">\\n\\t\\t\\t\\t\\t\\t<div class=\"circle\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-check\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.title + '</h3>\\n\\t\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-collapsed fa-chevron-up\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-unfurled fa-chevron-down\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"message-body\">\\n\\t\\t\\t\\t\\t\\t<div class=\"step-note\" data-step=\"' + model.id + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\treturn agg + ('<p>' + val + '</p>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"save-note\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Note</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"edit-name\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Edit Name</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-up\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-up\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Up</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-down\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-down\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Down</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<hr>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"has-top-margin\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.links.reduce(function (agg, val) {\n\t\t\t\tvar linkHtml = '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\tif (model.editable) {\n\t\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-transparent-background\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"edit-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"remove-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-remove\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-primary\">' + val.type + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-warning\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\"link\" data-linkid=\"' + val.id + '\" target=\"_blank\" href=\"' + val.url + '\">' + val.title + '</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\treturn agg + linkHtml;\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<button class=\"button is-primary is-outlined has-top-margin ' + (model.editable ? 'is-hidden' : '') + '\">Mark Complete</button>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"add-step-link\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-plus\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('circle-connector');\n\t\t\treturn div;\n\t\t},\n\n\t\ttagCode: function tagCode(text) {\n\t\t\tvar out = '';\n\t\t\tvar open = false;\n\t\t\tfor (var c = 0; c < text.length; c++) {\n\t\t\t\tif (text[c] === '`') {\n\t\t\t\t\tif (!open) {\n\t\t\t\t\t\tout += '<span class=\"tag is-code\">';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout += '</span>';\n\t\t\t\t\t}\n\t\t\t\t\topen = !open;\n\t\t\t\t} else {\n\t\t\t\t\tout += text[c];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (open) {\n\t\t\t\tout += '</span>';\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\n\t\tgetListCard: function getListCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h2 class=\"title is-4\">' + model.title + '</h2>\\n\\t\\t\\t\\t<ul data-textarea=\"get-' + model.field + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\tvar text = val;\n\t\t\t\tif (model.hasCode && !model.editable) {\n\t\t\t\t\ttext = views.tagCode(val);\n\t\t\t\t}\n\t\t\t\treturn agg + ('<li>' + text + '</li>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<button data-action=\"save-' + model.field + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-6');\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY2xhc3MuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL3ZpZXdzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLFdBQVcsd0JBQVMsUUFBVCxpQkFBZjs7QUFFQSxJQUFJLFNBQVMsZUFBZSxTQUFTLFFBQVQsQ0FBa0IsTUFBakMsQ0FBYjs7QUFFQSxJQUFJLFFBQVEsbUJBQVo7O0FBRUEsSUFBSSxhQUFhLE9BQU8sS0FBUCxJQUFnQixLQUFqQzs7QUFFQSxJQUFJLGNBQWMsU0FBUyxjQUFULENBQXdCLFVBQXhCLENBQWxCO0FBQ0EsSUFBSSxZQUFZLFNBQVMsY0FBVCxDQUF3QixZQUF4QixDQUFoQjtBQUNBLElBQUksa0JBQWtCLFNBQVMsY0FBVCxDQUF3QixrQkFBeEIsQ0FBdEI7QUFDQSxJQUFJLGVBQWUsU0FBUyxjQUFULENBQXdCLGVBQXhCLENBQW5CO0FBQ0EsSUFBSSxVQUFVLFNBQVMsc0JBQVQsQ0FBZ0MsYUFBaEMsQ0FBZDtBQUNBLElBQUksc0JBQXNCLFNBQVMsY0FBVCxDQUF3QixtQkFBeEIsQ0FBMUI7O0FBRUEsU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQixZQUFNO0FBQ3pCO0FBQ0EsUUFBTyxRQUFQLEdBQXFCLE9BQU8sUUFBUCxDQUFnQixNQUFyQyxtQkFBeUQsU0FBUyxRQUFULENBQWtCLE1BQTNFO0FBQ0EsQ0FIRDs7QUFLQSxTQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9COztBQUVuQixLQUFJLFlBQVksVUFBaEI7O0FBRUEsS0FBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZixTQUFPLFFBQVAsR0FBcUIsT0FBTyxRQUFQLENBQWdCLE1BQXJDLGdCQUFzRCxTQUFTLFFBQVQsQ0FBa0IsTUFBeEU7QUFDQTs7QUFFRCxhQUFZLGdCQUFaLENBQTZC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cTBCQSxRQUFPLEtBQVA7QUFFQSxDQXowQkQ7O1FBMjBCUSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQge2NvbmZpZ30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHtEYXRhYmFzZX0gZnJvbSAnLi9kYXRhYmFzZSc7XG5pbXBvcnQge1ZpZXdzfSBmcm9tICcuL3ZpZXdzJztcblxubGV0IGRhdGFiYXNlID0gRGF0YWJhc2UoZmlyZWJhc2UsIGNvbmZpZyk7XG5cbmxldCBwYXJhbXMgPSBnZXRRdWVyeVBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO1xuXG5sZXQgdmlld3MgPSBWaWV3cygpO1xuXG5sZXQgQ0xBU1NfQ09ERSA9IHBhcmFtcy5jbGFzcyB8fCBmYWxzZTtcblxubGV0IGZlZWRiYWNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrJyk7XG5sZXQgdGVhbVNwYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tc3BhY2UnKTtcbmxldCBpbnN0cnVjdG9yU3BhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zdHJ1Y3Rvci1zcGFjZScpO1xubGV0IHN0dWRlbnRTcGFjZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHVkZW50LXNwYWNlJyk7XG5sZXQgdGFiTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NoYXJ0ZXItdGFiJyk7XG5sZXQgaW52aXRlSW5zdHJ1Y3RvckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZpdGUtaW5zdHJ1Y3RvcicpO1xuXG5kYXRhYmFzZS5pbml0KG1haW4sICgpID0+IHtcblx0Ly8gTm8gdXNlciBzaWduZWQgaW5cblx0d2luZG93LmxvY2F0aW9uID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vbG9naW4uaHRtbCR7ZG9jdW1lbnQubG9jYXRpb24uc2VhcmNofWA7XG59KTtcblxuZnVuY3Rpb24gbWFpbih1c2VyKSB7XG5cblx0bGV0IGNsYXNzQ29kZSA9IENMQVNTX0NPREU7XG5cblx0aWYgKCFjbGFzc0NvZGUpIHtcblx0XHR3aW5kb3cubG9jYXRpb24gPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9tZS5odG1sJHtkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2h9YDtcblx0fVxuXG5cdGZlZWRiYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnV2hhdCBmZWVkYmFjayBkbyB5b3UgaGF2ZSB0byBzaGFyZSB3aXRoIHVzPycsXG5cdFx0XHRjYWxsYmFjazogKGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRcdGlmIChmZWVkYmFjaykge1xuXHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRkYXRhYmFzZS5zYXZlRmVlZGJhY2soZmFsc2UsIHVpZCwgZmVlZGJhY2spLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjaywgaXQgcmVhbGx5IGhlbHBzIHVzIGEgbG90IScpO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRpbnZpdGVJbnN0cnVjdG9yQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnU2VuZCB0aGVtIHRoaXMgbGluazonLFxuXHRcdFx0dmFsdWU6IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L21lLmh0bWw/aW5zdHJ1Y3Rvcj0ke2NsYXNzQ29kZX1gLFxuXHRcdFx0Y2FsbGJhY2s6IChkb25lKSA9PiB7fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRmaWxsVGV4dCgnZmlsbC11c2VyLW5hbWUnLCB1c2VyLmRpc3BsYXlOYW1lKTtcblx0ZmlsbFNyYygnZmlsbC11c2VyLWltYWdlJywgdXNlci5waG90b1VSTCk7XG5cblx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXG5cdGRhdGFiYXNlLmdldEluc3RydWN0b3JDbGFzc2VzKHVpZCkudGhlbigoY2xhc3NNYXApID0+IHtcblx0XHRsZXQgY2xhc3NEYXRhID0gY2xhc3NNYXBbY2xhc3NDb2RlXSB8fCBmYWxzZTtcblx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cblx0XHRcdGZpbGxUZXh0KCdmaWxsLWNsYXNzLW5hbWUnLCBjbGFzc0RhdGEubmFtZSk7XG5cdFx0XHRsZXQgdGVhbXMgPSBjbGFzc0RhdGEudGVhbXM7XG5cblx0XHRcdGxldCBpbnN0cnVjdG9yTWFwID0gY2xhc3NEYXRhLm1lbWJlcnMgfHwge307XG5cdFx0XHRsZXQgdXNlclByb21pc2VzID0gW107XG5cdFx0XHRmb3IgKGxldCB1aWQgaW4gaW5zdHJ1Y3Rvck1hcCkge1xuXHRcdFx0XHRsZXQgcCA9IGRhdGFiYXNlLmdldFVzZXIodWlkKTtcblx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdHVzZXJQcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgc3R1ZGVudE1hcCA9IHt9O1xuXHRcdFx0Zm9yIChsZXQgdGlkIGluIGNsYXNzRGF0YS50ZWFtcykge1xuXHRcdFx0XHRsZXQgdGVhbSA9IGNsYXNzRGF0YS50ZWFtc1t0aWRdO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbS5tZW1iZXJzKSB7XG5cdFx0XHRcdFx0bGV0IHAgPSBkYXRhYmFzZS5nZXRVc2VyKHVpZCk7XG5cdFx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0dXNlclByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0c3R1ZGVudE1hcFt1aWRdID0gdGVhbS5uYW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGxldCBwcm9maWxlTWFwID0ge307XG5cblx0XHRcdFByb21pc2UuYWxsKHVzZXJQcm9taXNlcykudGhlbigodXNlckxpc3QpID0+IHtcblx0XHRcdFx0dXNlckxpc3QuZm9yRWFjaCgodXNlciwgaWR4KSA9PiB7XG5cdFx0XHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0XHRcdGxldCB1aWQgPSB1c2VyUHJvbWlzZXNbaWR4XS51aWQ7XG5cdFx0XHRcdFx0XHR1c2VyLnVpZCA9IHVpZDtcblx0XHRcdFx0XHRcdHByb2ZpbGVNYXBbdWlkXSA9IHVzZXI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aW5zdHJ1Y3RvclNwYWNlLmlubmVySFRNTCA9ICcnO1xuXHRcdFx0XHRsZXQgaUNvdW50ID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIGluc3RydWN0b3JNYXApIHtcblx0XHRcdFx0XHRsZXQgaW5zID0gaW5zdHJ1Y3Rvck1hcFt1aWRdO1xuXHRcdFx0XHRcdGlmICghaW5zLmhpZGRlbikge1xuXHRcdFx0XHRcdFx0bGV0IHByb2ZpbGUgPSBwcm9maWxlTWFwW3VpZF07XG5cdFx0XHRcdFx0XHRpZiAocHJvZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFVzZXJUaWxlKHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBwcm9maWxlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0aW1hZ2U6IHByb2ZpbGUuaW1hZ2UsXG5cdFx0XHRcdFx0XHRcdFx0c3VidGl0bGU6ICdJbnN0cnVjdG9yJ1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0aW5zdHJ1Y3RvclNwYWNlLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdFx0XHRcdFx0XHRpQ291bnQrKztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsbFRleHQoJ2ZpbGwtbnVtYmVyLWluc3RydWN0b3JzJywgYCgke2lDb3VudH0pYCk7XG5cdFx0XHRcdGxldCBzQ291bnQgPSAwO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gc3R1ZGVudE1hcCkge1xuXHRcdFx0XHRcdGxldCBwcm9maWxlID0gcHJvZmlsZU1hcFt1aWRdO1xuXHRcdFx0XHRcdGlmIChwcm9maWxlKSB7XG5cdFx0XHRcdFx0XHRsZXQgdGVhbU5hbWUgPSBzdHVkZW50TWFwW3VpZF07XG5cdFx0XHRcdFx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFVzZXJUaWxlKHtcblx0XHRcdFx0XHRcdFx0bmFtZTogcHJvZmlsZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRpbWFnZTogcHJvZmlsZS5pbWFnZSxcblx0XHRcdFx0XHRcdFx0c3VidGl0bGU6IHRlYW1OYW1lXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHN0dWRlbnRTcGFjZS5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHRcdFx0XHRcdHNDb3VudCsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmaWxsVGV4dCgnZmlsbC1udW1iZXItc3R1ZGVudHMnLCBgKCR7c0NvdW50fSlgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRsZXQgcHJvbWlzZXMgPSBbXTtcblx0XHRcdGZvciAobGV0IHRpZCBpbiB0ZWFtcykge1xuXHRcdFx0XHRsZXQgcCA9IGRhdGFiYXNlLmdldFRlYW1FZGl0cyh0aWQpO1xuXHRcdFx0XHRwLnRpZCA9IHRpZDtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdH1cblxuXHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKGVkaXRMaXN0KSA9PiB7XG5cblx0XHRcdFx0bGV0IHRlYW1MaXN0ID0gW107XG5cdFx0XHRcdGVkaXRMaXN0LmZvckVhY2goKGVkaXRNYXAsIGlkeCkgPT4ge1xuXHRcdFx0XHRcdGxldCB0aWQgPSBwcm9taXNlc1tpZHhdLnRpZDtcblx0XHRcdFx0XHRsZXQgdGVhbSA9IHRlYW1zW3RpZF07XG5cdFx0XHRcdFx0dGVhbS50aWQgPSB0aWQ7XG5cdFx0XHRcdFx0dGVhbS5lZGl0cyA9IGVkaXRNYXA7XG5cdFx0XHRcdFx0dGVhbS5sYXN0QWNjZXNzID0gZ2V0TGFzdEFjY2Vzcyh0ZWFtKTtcblx0XHRcdFx0XHR0ZWFtTGlzdC5wdXNoKHRlYW0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGV0IHZpZXdUZWFtcyA9IHRlYW1MaXN0LnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gYi5sYXN0QWNjZXNzIC0gYS5sYXN0QWNjZXNzO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHRsZXQgdGFibGUgPSB2aWV3cy5nZXRDbGFzc1RlYW1UYWJsZSh7XG5cdFx0XHRcdFx0dGVhbXM6IHZpZXdUZWFtc1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dGVhbVNwYWNlLmlubmVySFRNTCA9ICcnO1xuXHRcdFx0XHR0ZWFtU3BhY2UuYXBwZW5kQ2hpbGQodGFibGUpO1xuXG5cdFx0XHRcdGZvciAobGV0IGsgPSAwOyBrIDwgdGFiTGlzdC5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdHRhYkxpc3Rba10uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdFx0b25UYWJDbGljayh0YWJMaXN0LCB0YWJMaXN0W2tdKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9uVGFiQ2xpY2sodGFiTGlzdCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJ0ZXItdGFiW2RhdGEtdGFiPVwiY29udGFpbmVyLXRlYW1zXCJdJylbMF0pO1xuXG5cdFx0XHR9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuXHRcdH1cblx0fSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cblx0ZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpLnNhdmUoe1xuXHRcdHR5cGU6ICdDTEFTU19QQUdFJyxcblx0XHRjbGFzc0NvZGU6IGNsYXNzQ29kZVxuXHR9KTtcblxufVxuXG5mdW5jdGlvbiBnZXRMYXN0QWNjZXNzKHRlYW0pIHtcblx0bGV0IGxhc3RBY2Nlc3MgPSAwO1xuXHRmb3IgKGxldCB1aWQgaW4gdGVhbS51cGRhdGVzKSB7XG5cdFx0Zm9yIChsZXQgdXBpZCBpbiB0ZWFtLnVwZGF0ZXNbdWlkXSkge1xuXHRcdFx0bGV0IHVwID0gdGVhbS51cGRhdGVzW3VpZF1bdXBpZF07XG5cdFx0XHRpZiAodXAudGltZXN0YW1wID4gbGFzdEFjY2Vzcykge1xuXHRcdFx0XHRsYXN0QWNjZXNzID0gdXAudGltZXN0YW1wO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmb3IgKGxldCB1aWQgaW4gdGVhbS5tZW1iZXJzKSB7XG5cdFx0bGV0IGpvaW5lZCA9IHRlYW0ubWVtYmVyc1t1aWRdLmpvaW5lZDtcblx0XHRpZiAoam9pbmVkID4gbGFzdEFjY2Vzcykge1xuXHRcdFx0bGFzdEFjY2VzcyA9IGpvaW5lZDtcblx0XHR9XG5cdH1cblx0Zm9yIChsZXQgZWlkIGluIHRlYW0uZWRpdHMpIHtcblx0XHRsZXQgZWRpdCA9IHRlYW0uZWRpdHNbZWlkXTtcblx0XHRpZiAoZWRpdC50aW1lc3RhbXAgPiBsYXN0QWNjZXNzKSB7XG5cdFx0XHRsYXN0QWNjZXNzID0gZWRpdC50aW1lc3RhbXA7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsYXN0QWNjZXNzO1xufVxuXG5mdW5jdGlvbiBvblRhYkNsaWNrKHRhYkdyb3VwLCB0YWIpIHtcblx0bGV0IHRhYmlkID0gdGFiLmRhdGFzZXQudGFiO1xuXHRsZXQgc2hvd1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmlkKTtcblx0aWYgKHNob3dUYWIpIHtcblx0XHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuc2F2ZSh7XG5cdFx0XHR0eXBlOiAnQ0hBTkdFX0NMQVNTX1RBQicsXG5cdFx0XHRjbGFzc0NvZGU6IENMQVNTX0NPREUsXG5cdFx0XHR0YWI6IHRhYmlkXG5cdFx0fSk7XG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCB0YWJHcm91cC5sZW5ndGg7IGorKykge1xuXHRcdFx0dGFiR3JvdXBbal0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG5cdFx0fVxuXHRcdGxldCBvdGhlclRhYnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YWJiZWQtY29udGFpbmVyJyk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBvdGhlclRhYnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdG90aGVyVGFic1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH1cblx0XHRzaG93VGFiLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdHRhYi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcblx0fVxuXG59XG5cbmZ1bmN0aW9uIHJlcG9ydEVycm9yVG9Vc2VyKGVycikge1xuXHR2ZXguZGlhbG9nLmFsZXJ0KGVyciArICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocXMpIHtcblx0cXMgPSBxcy5zcGxpdCgnKycpLmpvaW4oJyAnKTtcblx0dmFyIHBhcmFtcyA9IHt9LFxuXHRcdHRva2Vucyxcblx0XHRyZSA9IC9bPyZdPyhbXj1dKyk9KFteJl0qKS9nO1xuXHR3aGlsZSAodG9rZW5zID0gcmUuZXhlYyhxcykpIHtcblx0XHRwYXJhbXNbZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1sxXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1syXSk7XG5cdH1cblx0cmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gZmlsbFRleHQoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLmlubmVyVGV4dCA9IHRleHQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gZmlsbFNyYyhjbGFzc05hbWUsIHRleHQpIHtcblx0bGV0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuXHRmb3IgKGxldCBzID0gMDsgcyA8IHNwYW5zLmxlbmd0aDsgcysrKSB7XG5cdFx0c3BhbnNbc10uc3JjID0gdGV4dDtcblx0fVxufVxuIiwibGV0IGNvbmZpZyA9IHtcblx0YXBpS2V5OiBcIkFJemFTeUJXazlFV1Bra3ZxaXJ1RzhhWW5IVjBkQlBnMXozRXRONFwiLFxuXHRhdXRoRG9tYWluOiBcImNoYXJ0ZXItZWNiMDcuZmlyZWJhc2VhcHAuY29tXCIsXG5cdGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vY2hhcnRlci1lY2IwNy5maXJlYmFzZWlvLmNvbVwiLFxuXHRwcm9qZWN0SWQ6IFwiY2hhcnRlci1lY2IwN1wiLFxuXHRzdG9yYWdlQnVja2V0OiBcIlwiLFxuXHRtZXNzYWdpbmdTZW5kZXJJZDogXCIxMzQyMzkzMDUxNTNcIlxufTtcbmV4cG9ydCB7Y29uZmlnfTsiLCJsZXQgRGF0YWJhc2UgPSAoZmlyZWJhc2UsIGNvbmZpZykgPT4ge1xuXG5cdGxldCBDaGFydGVyRmlyZWJhc2UgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZywgJ0NoYXJ0ZXIgRGF0YWJhc2UnKTtcblx0bGV0IGRiID0gQ2hhcnRlckZpcmViYXNlLmRhdGFiYXNlKCk7XG5cdGxldCBhdXRoID0gQ2hhcnRlckZpcmViYXNlLmF1dGgoKTtcblx0XHRjb25maWcubG9jYWxob3N0ID0gdHJ1ZTtcblx0XHRjb25maWcubm9TY3JlZW5zaG90cyA9IHRydWU7XG5cdGxldCBwcm9tZXRoZXVzID0gUHJvbWV0aGV1cyhjb25maWcsIENoYXJ0ZXJGaXJlYmFzZSk7XG5cbi8vIFN1cGVyIERpcnR5OiBVcGRhdGUgUHJvbWV0aGV1cyBQcm9tb3MgYW5kIEZlYXR1cmVzIEhlcmVcbi8vIGRiLnJlZigncHJvbWV0aGV1cy9mZWF0dXJlcy9jb250cmlidXRvcicpLnNldCh7aW5mbzoge25hbWU6ICdDaGFydGVyIENvbnRyaWJ1dG9yJ30sIHZhbGlkYXRlOiAncmV0dXJuIHthbGxvd2VkOiB1c2VyRGF0YS5jb250cmlidXRvcixkYXRhOiB1c2VyRGF0YX0nfSlcblxuLy9kYi5yZWYoJ2NsYXNzZXMvbWFzdGVyL3RlYW1zJykucmVtb3ZlKCk7XG4vKmRiLnJlZigndGVhbXMnKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdGxldCB0ZWFtTWFwID0gc25hcC52YWwoKSB8fCB7fTtcblx0Zm9yIChsZXQgdGlkIGluIHRlYW1NYXApIHtcblx0XHRkYi5yZWYoYGNsYXNzZXMvbWFzdGVyL3RlYW1zLyR7dGlkfWApLnNldCh7XG5cdFx0XHRhY2Nlc3M6IHRydWUsXG5cdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHR9KTtcblx0fVxufSk7Ki9cblxuXHRsZXQgZGF0YWJhc2UgPSB7XG5cdFx0XG5cdFx0aW5pdDogKGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0bGV0IGNhbGxlZCA9IGZhbHNlO1xuXHRcdFx0YXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXIpID0+IHtcblx0XHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMubG9nb24odXNlci51aWQsIHtcblx0XHRcdFx0XHRcdG5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcblx0XHRcdFx0XHRcdGltYWdlOiB1c2VyLnBob3RvVVJMLFxuXHRcdFx0XHRcdFx0dWlkOiB1c2VyLnVpZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh1c2VyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRmYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGxvZ2luOiAoY2FsbGJhY2ssIG1ldGhvZCkgPT4ge1xuXHRcdFx0Ly9hdXRoLnNpZ25PdXQoKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXHRcdFx0XHRpZiAobWV0aG9kID09PSAnZmFjZWJvb2snKSB7XG5cdFx0XHRcdFx0cHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0bGV0IHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcblx0XHRcdFx0XHRsZXQgcHJvdmlkZXJJZCA9ICdVbmtub3duIFByb3ZpZGVyJztcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJZCA9IHVzZXIucHJvdmlkZXJEYXRhWzBdLnByb3ZpZGVySWQ7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLmxvZ29uKHVzZXIudWlkLCB7XG5cdFx0XHRcdFx0XHRuYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRpbWFnZTogdXNlci5waG90b1VSTCxcblx0XHRcdFx0XHRcdHVpZDogdXNlci51aWQsXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogcHJvdmlkZXJJZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Y2FsbGJhY2sodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdFx0LypsZXQgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcblx0XHRcdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdFx0XHRsZXQgZW1haWwgPSBlcnJvci5lbWFpbDtcblx0XHRcdFx0XHRsZXQgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7Ki9cblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvKn0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fSk7Ki9cblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWV0aGV1czogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHByb21ldGhldXM7XG5cdFx0fSxcblxuXHRcdGdldEN1cnJlbnRVc2VyOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gYXV0aC5jdXJyZW50VXNlciB8fCB7fTtcblx0XHR9LFxuXG5cdFx0c2F2ZUZlZWRiYWNrOiAodGlkLCB1aWQsIGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGBmZWVkYmFja2ApLnB1c2goe1xuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGZlZWRiYWNrOiBmZWVkYmFjayxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlcjogKHVpZCkgPT4ge1xuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21ldGhldXMvdXNlcnMvJHt1aWR9L3Byb2ZpbGVgKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbTogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0ZWFtKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1FZGl0czogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgZWRpdHMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdHJlc29sdmUoZWRpdHMpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdG9uVGVhbUNoYW5nZTogKHRpZCwgY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGxldCBtZW1iZXJzID0ge307XG5cdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdGxldCBtZW1iZXJNYXAgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiBtZW1iZXJNYXApIHtcblx0XHRcdFx0XHRpZiAoISh1aWQgaW4gbWVtYmVycykpIHtcblx0XHRcdFx0XHRcdGlmIChtZW1iZXJNYXBbdWlkXS5zdGF0dXMgPT09ICd0ZW1wbGF0ZScpIHtcblx0XHRcdFx0XHRcdFx0bWVtYmVyc1t1aWRdID0ge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdVbmtub3duJyxcblx0XHRcdFx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdFx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdFx0XHRcdFx0ZW1haWw6ICd0ZWFtQG9tbmlwb2ludG1lbnQuY29tJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRsZXQgcCA9IGRhdGFiYXNlLmdldFVzZXIodWlkKTtcblx0XHRcdFx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHVzZXJzKSA9PiB7XG5cdFx0XHRcdFx0XHR1c2Vycy5mb3JFYWNoKChtZW1iZXIsIGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgdWlkID0gcHJvbWlzZXNbaWR4XS51aWQ7XG5cdFx0XHRcdFx0XHRcdG1lbWJlcnNbdWlkXSA9IG1lbWJlcjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVUZWFtTmFtZTogKHRpZCwgdWlkLCBuYW1lKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbmFtZScsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9uYW1lYCkuc2V0KG5hbWUpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVRdWVzdGlvbjogKHRpZCwgdWlkLCBxdWVzdGlvbikgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3F1ZXN0aW9uJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBxdWVzdGlvbixcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9xdWVzdGlvbmApLnNldChxdWVzdGlvbik7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUV4cGVjdGF0aW9uczogKHRpZCwgdWlkLCBsaXN0KSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnZXhwZWN0YXRpb25zJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBsaXN0LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2V4cGVjdGF0aW9uc2ApLnNldChsaXN0KTtcblx0XHR9LFxuXG5cdFx0c3VibWl0VXBkYXRlOiAodGlkLCB1aWQsIHVwZGF0ZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnU1VCTUlUX1VQREFURScsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1cGRhdGU6IHVwZGF0ZVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L3VwZGF0ZXMvJHt1aWR9YCkucHVzaCh7XG5cdFx0XHRcdHVwZGF0ZTogdXBkYXRlLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rOiAodGlkLCB1aWQsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzYCkucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGFkZGVkOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlTGluazogKHRpZCwgdWlkLCBrZXksIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gbGluayBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnVVBEQVRFX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGF0YS5rZXkgPSBrZXk7XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2xpbmsnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRsZXQgcDEgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX0vbmFtZWApLnNldChkYXRhLm5hbWUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9L3VybGApLnNldChkYXRhLnVybCk7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoW3AxLCBwMl0pO1xuXHRcdH0sXG5cblx0XHRyZW1vdmVMaW5rOiAodGlkLCB1aWQsIGtleSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBsaW5rIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdSRU1PVkVfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0cmVtb3ZlZDogdHJ1ZSxcblx0XHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fWApLnJlbW92ZSgpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVSb2xlOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdHJvbGU6IGRhdGEucm9sZSxcblx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IGRhdGEucmVzcG9uc2liaWxpdHlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAncm9sZScsXG5cdFx0XHRcdHVpZDogYXV0aG9yLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdGxldCBwMSA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHtkYXRhLnVpZH0vcm9sZWApLnNldChkYXRhLnJvbGUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9yZXNwb25zaWJpbGl0eWApLnNldChkYXRhLnJlc3BvbnNpYmlsaXR5KTtcblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChbcDEsIHAyXSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlbXBsYXRlUm9sZTogKHRpZCwgYXV0aG9yKSA9PiB7XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9URU1QTEFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzYCkucHVzaCh7XG5cdFx0XHRcdHN0YXR1czogJ3RlbXBsYXRlJyxcblx0XHRcdFx0cm9sZTogJ1RlYW0gTWVtYmVyJyxcblx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRtZW1iZXI6IHRydWUsXG5cdFx0XHRcdGljb246ICd1c2VyJ1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVJvbGVJY29uOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfUk9MRV9JQ09OJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdGljb246IGRhdGEuaWNvblxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3JvbGUnLFxuXHRcdFx0XHR1aWQ6IGF1dGhvcixcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9pY29uYCkuc2V0KGRhdGEuaWNvbik7XG5cdFx0fSxcblxuXHRcdGpvaW5UZWFtOiAodGlkLCB1aWQsIGpvaW5Db2RlKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbigodGVhbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChqb2luQ29kZSA9PT0gdGVhbS5qb2luQ29kZSB8fCAhdGVhbS5qb2luQ29kZSkge1xuXHRcdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRNZW1iZXI6ICh0aWQsIHVpZCkgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTUVNQkVSJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRzdGF0dXM6ICdtZW1iZXInLFxuXHRcdFx0XHRyb2xlOiAnVGVhbSBNZW1iZXInLFxuXHRcdFx0XHRqb2luZWQ6IERhdGUubm93KCksXG5cdFx0XHRcdG1lbWJlcjogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZU1lbWJlcjogKHRpZCwgYXV0aG9yLCB1aWQpID0+IHtcblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnUkVNT1ZFX01FTUJFUicsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IHVpZFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHt1aWR9YCkucmVtb3ZlKCk7XG5cdFx0fSxcblxuXHRcdGdldEFsbFRlYW1zOiAodWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGB0ZWFtc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9tZW1iZXJgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRjcmVhdGVOZXdUZWFtOiAodWlkLCBqb2luQ29kZSwgZGF0YSkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHRlYW1OYW1lID0gZGF0YS5uYW1lO1xuXHRcdFx0XHRkYi5yZWYoJ3RlYW1zJykucHVzaCh7XG5cdFx0XHRcdFx0bmFtZTogdGVhbU5hbWUgfHwgJ05ldyBUZWFtIENoYXJ0ZXInLFxuXHRcdFx0XHRcdGpvaW5Db2RlOiBqb2luQ29kZSxcblx0XHRcdFx0XHRzdGF0dXM6IGRhdGEuc3RhdHVzIHx8ICdyZWd1bGFyJ1xuXHRcdFx0XHR9KS50aGVuKChyZXMpID0+IHtcblx0XHRcdFx0XHRsZXQgcGF0aExpc3QgPSByZXMucGF0aC5jdDtcblx0XHRcdFx0XHRsZXQgdGlkID0gcGF0aExpc3RbcGF0aExpc3QubGVuZ3RoIC0gMV07XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0dHlwZTogJ0NSRUFURV9URUFNJyxcblx0XHRcdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRcdFx0bmFtZTogdGVhbU5hbWUsXG5cdFx0XHRcdFx0XHRkYXRhOiBkYXRhXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRkYXRhYmFzZS5hZGRNZW1iZXIodGlkLCB1aWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHR0aWQ6IHRpZFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRJbnN0cnVjdG9yQ2xhc3NlczogKHVpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHJlZiA9IGRiLnJlZihgY2xhc3Nlc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9hY2Nlc3NgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG5vZGVzKS5tYXAoKGNpZCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IGNsYXNzRGF0YSA9IG5vZGVzW2NpZF07XG5cdFx0XHRcdFx0XHRjbGFzc0RhdGEuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNsYXNzRGF0YTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAobGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0XHRcdGxpc3QuZm9yRWFjaCgoY2xhc3NEYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBjaWQgPSBjbGFzc0RhdGEuY2lkO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCB0aWQgaW4gY2xhc3NEYXRhLnRlYW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IHAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZVRlYW0sIHJlamVjdFRlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFiYXNlLmdldFRlYW0odGlkKS50aGVuKHJlc29sdmVUZWFtKS5jYXRjaChyZWplY3RUZWFtKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRwLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCh0ZWFtTGlzdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0ZWFtTGlzdC5mb3JFYWNoKCh0ZWFtLCB0aWR4KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IG1ldGEgPSBwcm9taXNlc1t0aWR4XTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdKXtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0gPSB0ZWFtO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUobm9kZXMpXG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHt9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUZWFtczogKGNsYXNzQ29kZSkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IHJlZiA9IGRiLnJlZihgY2xhc3Nlcy8ke2NsYXNzQ29kZX1gKTtcblx0XHRcdFx0cmVmLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRsZXQgbm9kZXMgPSB7fTtcblx0XHRcdFx0XHRub2Rlc1tjbGFzc0NvZGVdID0gdmFsO1xuXHRcdFx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobm9kZXMpLm1hcCgoY2lkKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gbm9kZXNbY2lkXTtcblx0XHRcdFx0XHRcdGNsYXNzRGF0YS5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xhc3NEYXRhO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRcdFx0bGlzdC5mb3JFYWNoKChjbGFzc0RhdGEpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IGNpZCA9IGNsYXNzRGF0YS5jaWQ7XG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IHRpZCBpbiBjbGFzc0RhdGEudGVhbXMpIHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlVGVhbSwgcmVqZWN0VGVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4ocmVzb2x2ZVRlYW0pLmNhdGNoKHJlamVjdFRlYW0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdHAuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHRlYW1MaXN0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRlYW1MaXN0LmZvckVhY2goKHRlYW0sIHRpZHgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgbWV0YSA9IHByb21pc2VzW3RpZHhdO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0pe1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSA9IHRlYW07XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShub2Rlcylcblx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe30pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRUZWFtVG9DbGFzczogKHRpZCwgdWlkLCBjb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ0FERF9URUFNX1RPX0NMQVNTJyxcblx0XHRcdFx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdFx0XHRcdGNsYXNzQ29kZTogY29kZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX0vdGVhbXMvJHt0aWR9YCkuc2V0KHtcblx0XHRcdFx0XHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjbGFzc0RhdGEpO1xuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZEluc3RydWN0b3JUb0NsYXNzOiAodWlkLCBjb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWVtYmVyTWFwID0gY2xhc3NEYXRhLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdFx0XHRpZiAodWlkIGluIG1lbWJlck1hcCkge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRpc0FscmVhZHlJbnN0cnVjdG9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzRGF0YTogY2xhc3NEYXRhXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX0lOU1RSVUNUT1JfVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzQ29kZTogY29kZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRcdGFjY2VzczogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnaW5zdHJ1Y3RvcicsXG5cdFx0XHRcdFx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpXG5cdFx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldEluc3RydWN0b3JzQnlDbGFzczogKGNsYXNzQ29kZSkgPT4ge1xuXG5cdFx0fSxcblxuXHRcdGdldFRlYW1Qcm9taXNlczogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRyZXNvbHZlKHZhbCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0b25UZWFtUHJvbWlzZXNDaGFuZ2U6ICh0aWQsIGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodmFsKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdG9uUHJvbWlzZUNoYW5nZTogKHRpZCwgcHJvbWlzZWlkLCBjYWxsYmFjaywgZmFsbGJhY2spID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRjYWxsYmFjayh2YWwpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0Y29tbWVudE9uUHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMudGV4dCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGV4dCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2NvbW1lbnQnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRhdXRob3I6IHBhcmFtcy5hdXRob3IsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0XG5cdFx0XHRcdH0pLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHBheWxvYWQgPSB7XG5cdFx0XHRcdHR5cGU6ICdlZGl0Jyxcblx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH1gKS5wdXNoKHBheWxvYWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRsZXQgcHJvbWlzZWlkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHtwYXJhbXMudGlkfS8ke3Byb21pc2VpZH0vcHJvbWlzZWlkYCkuc2V0KHByb21pc2VpZCkudGhlbigoZmluaXNoZWQpID0+IHtcblx0XHRcdFx0XHRcdHBheWxvYWQucHJvbWlzZWlkID0gcHJvbWlzZWlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VpZDogcHJvbWlzZWlkLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiBwYXlsb2FkXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVuc2V0UHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH0vJHtwYXJhbXMucHJvbWlzZWlkfWApLnJlbW92ZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgdGlkID0gcGFyYW1zLnRpZCArICcnO1xuXHRcdFx0bGV0IGVkaXREYXRhID0gcGFyYW1zO1xuXHRcdFx0ZGVsZXRlIGVkaXREYXRhLnRpZDtcblx0XHRcdGVkaXREYXRhLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLnB1c2goZWRpdERhdGEpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rVG9Qcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgaGFzTGlua0lkID0gcGFyYW1zLmxpbmtpZCA/IHRydWUgOiBmYWxzZTtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2xpbmsnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRsaW5raWQ6IHBhcmFtcy5saW5raWQgfHwgZmFsc2UsXG5cdFx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcblx0XHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSB8fCBmYWxzZSxcblx0XHRcdFx0XHR1cmw6IHBhcmFtcy51cmwgfHwgZmFsc2UsXG5cdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRpZiAoaGFzTGlua0lkKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRvbmUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsZXQgbGlua2lkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9LyR7bGlua2lkfS9saW5raWRgKS5zZXQobGlua2lkKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVNYXA6IChwYXJhbXMpID0+IHtcblx0XHRcdGlmICghcGFyYW1zLnJvbGUpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHJvbGUgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHJvbGVfbGlicmFyeS8ke3BhcmFtcy5yb2xlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgcm9sZU1hcCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0aWYgKHJvbGVNYXApIHtcblx0XHRcdFx0XHRcdHJlc29sdmUocm9sZU1hcCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlamVjdChgTm8gcm9sZSBmb3VuZCBmb3I6ICR7cGFyYW1zLnJvbGV9YCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRzYXZlUm9sZU1hcDogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMucm9sZSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcm9sZSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmRhdGEpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHJvbGUgbWFwIGRhdGEgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHJvbGVfbGlicmFyeS8ke3BhcmFtcy5yb2xlfWApLnNldChwYXJhbXMuZGF0YSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdHJlc29sdmUodHJ1ZSk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBkYXRhYmFzZTtcbn1cblxuZXhwb3J0IHtEYXRhYmFzZX07IiwibGV0IFZpZXdzID0gKCkgPT4ge1xuXG5cdGxldCB2aWV3cyA9IHtcblxuXHRcdGdldFJvbGVBbmRVcGRhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBwb3N0ZWQgPSBuZXcgRGF0ZShtb2RlbC50aW1lc3RhbXApO1xuXHRcdFx0bGV0IGRhdGVGb3JtYXQgPSBtb21lbnQocG9zdGVkKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTtcblx0XHRcdGxldCBkaWZmID0gbW9tZW50KERhdGUubm93KCkpLmRpZmYobW9tZW50KG1vZGVsLnRpbWVzdGFtcCkpO1xuXHRcdFx0bGV0IGRheXNTaW5jZUxhc3RVcGRhdGUgPSBtb21lbnQuZHVyYXRpb24oZGlmZikuYXNEYXlzKCk7XG5cdFx0XHRsZXQgdGFnQ2xhc3MgPSAnaXMtc3VjY2Vzcyc7XG5cdFx0XHRpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSA1KSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLWRhbmdlcic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDMpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtd2FybmluZyc7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYS1jb250ZW50IGNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yb2xlfTwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9XCI+JHtkYXRlRm9ybWF0fTwvc3Bhbj4gJHttb2RlbC51cGRhdGV9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdDwvZGl2PmA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgaWQ9XCJteS10aXRsZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBpZD1cIm15LXJlc3BvbnNpYmlsaXR5XCIgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0XHRcdDxidXR0b24gaWQ9XCJteS1yb2xlLXNhdmVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5TYXZlIFJvbGU8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTdcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0JHtlZGl0U2VjdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGVtcGxhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBlZGl0QnV0dG9uID0gYGA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgZGF0YS1iaW5kPVwiZmllbGQtcm9sZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBkYXRhLWJpbmQ9XCJmaWVsZC1yZXNwb25zaWJpbGl0eVwiIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdFx0ZWRpdEJ1dHRvbiA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTRcIj5cblx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtYmluZD1cImJ1dHRvbi1zYXZlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwge21vZGVsLmVkaXRhYmxlID8gJ2lzLTgnIDogJ2lzLTEyJ31cIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBkYXRhLWJpbmQ9XCJmaWVsZC1pY29uXCIgY2xhc3M9XCJpbWFnZSBpcy00OHg0OCBpY29uLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7bW9kZWwuaWNvbiB8fCAndXNlcid9XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdFx0XHQke2VkaXRTZWN0aW9ufVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0JHtlZGl0QnV0dG9ufVxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUgJiYgbW9kZWwub25TYXZlKSB7XG5cdFx0XHRcdGxldCBidXR0b24gPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1idXR0b24tc2F2ZV0nKVswXTtcblx0XHRcdFx0bGV0IHJvbGUgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1maWVsZC1yb2xlXScpWzBdO1xuXHRcdFx0XHRsZXQgcmVzcCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLXJlc3BvbnNpYmlsaXR5XScpWzBdO1xuXHRcdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdG1vZGVsLm9uU2F2ZSh7XG5cdFx0XHRcdFx0XHRlOiBlLFxuXHRcdFx0XHRcdFx0bW9kZWw6IG1vZGVsLFxuXHRcdFx0XHRcdFx0cm9sZTogcm9sZS5pbm5lclRleHQsXG5cdFx0XHRcdFx0XHRyZXNwb25zaWJpbGl0eTogcmVzcC5pbm5lclRleHRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxldCBpY29uRWRpdCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLWljb25dJylbMF07XG5cdFx0XHRcdGljb25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRtb2RlbC5vbkljb25FZGl0KHtcblx0XHRcdFx0XHRcdGU6IGUsXG5cdFx0XHRcdFx0XHRtb2RlbDogbW9kZWxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9ncmVzc1VwZGF0ZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcG9zdGVkID0gbmV3IERhdGUobW9kZWwudGltZXN0YW1wKTtcblx0XHRcdGxldCBkYXRlRm9ybWF0ID0gbW9tZW50KHBvc3RlZCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7XG5cdFx0XHRsZXQgZGlmZiA9IG1vbWVudChEYXRlLm5vdygpKS5kaWZmKG1vbWVudChtb2RlbC50aW1lc3RhbXApKTtcblx0XHRcdGxldCBkYXlzU2luY2VMYXN0VXBkYXRlID0gbW9tZW50LmR1cmF0aW9uKGRpZmYpLmFzRGF5cygpO1xuXHRcdFx0bGV0IHRhZ0NsYXNzID0gJ2lzLXN1Y2Nlc3MnO1xuXHRcdFx0aWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gNSkge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy1kYW5nZXInO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSAzKSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLXdhcm5pbmcnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFncyBoYXMtYWRkb25zXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9IGlzLW1lZGl1bVwiPiR7ZGF0ZUZvcm1hdH08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaW1hZ2UtdGFnLXJvdW5kZWQgaXMtMzJ4MzJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1tZWRpdW1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdCR7bW9kZWwubmFtZX1cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwudXBkYXRlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0TGlua0l0ZW06IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGljb24gPSAnZmlsZSc7XG5cdFx0XHRpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2dvb2dsZSc7XG5cdFx0XHRcdGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL2RvY3VtZW50JykgPiAtMSkge1xuXHRcdFx0XHRcdGljb24gPSAnZmlsZS10ZXh0Jztcblx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cycpID4gLTEpIHtcblx0XHRcdFx0XHRpY29uID0gJ3RhYmxlJztcblx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL3ByZXNlbnRhdGlvbicpID4gLTEpIHtcblx0XHRcdFx0XHRpY29uID0gJ3NsaWRlc2hhcmUnO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdvbW5pcG9pbnRtZW50LmNvbS9tZWV0aW5nJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2NhbGVuZGFyJztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ2dpdGh1Yi5jb20nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAnZ2l0aHViJztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ3lvdXR1YmUuY29tJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ3lvdXR1YmUtcGxheSc7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCd2aW1lby5jb20nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAndmltZW8nO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignY29kZXNoYXJlLmlvJykgPiAtMSB8fCBtb2RlbC51cmwuaW5kZXhPZignY29kZXBlbi5pbycpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdjb2RlLWZvcmsnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke21vZGVsLnVybH1cIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtJHtpY29ufVwiPjwvaT5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4+JHttb2RlbC5uYW1lfTwvc3Bhbj5cblx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8YSBjbGFzcz1cImlzLWRhbmdlciBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGVkaXQtbGlua1wiIGRhdGEtZm9yPVwiJHttb2RlbC5rZXl9XCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHQ8L2E+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGVhbS1saW5rJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0vY2hhcnRlci5odG1sP3RlYW09JHttb2RlbC50aWR9YDtcblx0XHRcdGxldCB0YWcgPSBgPHNwYW4gY2xhc3M9XCJ0YWcgaXMtd2FybmluZ1wiPlRlbXBsYXRlPC9zcGFuPmA7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtdmVydGljYWxcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlXCI+JHttb2RlbC5uYW1lfSAke21vZGVsLmlzVGVtcGxhdGUgPyB0YWcgOiAnJ308L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBUZWFtIENoYXJ0ZXI8L2E+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdGxldCBjbGFzc0xpbmsgPSBgJHtvcmlnaW59L2NsYXNzLmh0bWw/Y2xhc3M9JHttb2RlbC5jaWR9YDtcblx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobW9kZWwudGVhbXMpLmZpbHRlcigodGlkKSA9PiB7XG5cdFx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhtb2RlbC50ZWFtc1t0aWRdKS5sZW5ndGggPiAwO1xuXHRcdFx0fSkubWFwKCh0aWQpID0+IHtcblx0XHRcdFx0bGV0IHRlYW0gPSBtb2RlbC50ZWFtc1t0aWRdO1xuXHRcdFx0XHR0ZWFtLnRpZCA9IHRpZDtcblx0XHRcdFx0cmV0dXJuIHRlYW07XG5cdFx0XHR9KTtcblx0XHRcdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRsZXQgaXRlbXMgPSBsaXN0Lm1hcCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdGVhbUxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9Jm1lbnRvcj10cnVlYDtcblx0XHRcdFx0bGV0IGl0ZW1IVE1MID0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNFwiPlxuXHRcdFx0XHRcdFx0PGEgaHJlZj0ke3RlYW1MaW5rfSBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWZ1bGx3aWR0aFwiPiR7dGVhbS5uYW1lfTwvYT5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdFx0cmV0dXJuIGl0ZW1IVE1MO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtdmVydGljYWxcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBib3ggaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlXCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGVcIj4ke259IHRlYW0ke24gPT09IDEgPyAnJyA6ICdzJ30gfCBDb2RlOiAke21vZGVsLmNpZH08L3A+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2NsYXNzTGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDbGFzcyBEYXNoYm9hcmQ8L2E+XG5cdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHQvKjxkaXYgY2xhc3M9XCJjb2x1bW5zIGlzLW11bHRpbGluZVwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7aXRlbXMuam9pbignJyl9XG5cdFx0XHRcdFx0XHRcdDwvZGl2PiovXG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0XHQvLzxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2xhc3MgUHJvZ3Jlc3M8L2E+XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRVc2VyVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDggaW1hZ2UtdGFnLXJvdW5kZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnN1YnRpdGxlfTwvcD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RlYW1UYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PHRoZWFkPlxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0aD5UZWFtIE5hbWU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPk1lbWJlcnM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkNoYXJ0ZXIgRWRpdHM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlByb2dyZXNzIFVwZGF0ZXM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkxhc3QgQWN0aXZlPC90aD5cblx0XHRcdFx0XHRcdDx0aD5WaWV3IFRlYW08L3RoPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdDx0Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRtb2RlbC50ZWFtcy5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdGxldCB1cGRhdGVzID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0udXBkYXRlcykge1xuXHRcdFx0XHRcdGZvciAobGV0IHVwaWQgaW4gdGVhbS51cGRhdGVzW3VpZF0pIHtcblx0XHRcdFx0XHRcdHVwZGF0ZXMrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZtZW50b3I9dHJ1ZWA7XG5cdFx0XHRcdGxldCBtZW1iZXJzID0gdGVhbS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLm5hbWV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke09iamVjdC5rZXlzKG1lbWJlcnMpLmxlbmd0aH08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7T2JqZWN0LmtleXModGVhbS5lZGl0cykubGVuZ3RofTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHt1cGRhdGVzfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHttb21lbnQodGVhbS5sYXN0QWNjZXNzKS5mcm9tTm93KCl9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDaGFydGVyPC9hPlxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0PC90Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1uYXJyb3cnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtZnVsbHdpZHRoJyk7XG5cdFx0XHRcdHRhYmxlLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGVhbUdyaWQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgYDtcblx0XHRcdG1vZGVsLnRlYW1zLmZvckVhY2goKHRlYW0pID0+IHtcblx0XHRcdFx0bGV0IHVwZGF0ZXMgPSAwO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbS51cGRhdGVzKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgdXBpZCBpbiB0ZWFtLnVwZGF0ZXNbdWlkXSkge1xuXHRcdFx0XHRcdFx0dXBkYXRlcysrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9JmNvZGU9JHt0ZWFtLmpvaW5Db2RlfWA7XG5cdFx0XHRcdGxldCBtZW1iZXJzID0gdGVhbS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+JHt0ZWFtLm5hbWV9PC9oMiBjbGFzcz1cInRpdGxlIGlzLTRcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+TGFzdCBhY3RpdmUgJHttb21lbnQodGVhbS5sYXN0QWNjZXNzKS5mcm9tTm93KCl9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj4ke09iamVjdC5rZXlzKHRlYW0uZWRpdHMpLmxlbmd0aH0gY2hhcnRlciBlZGl0czwvcD5cblx0XHRcdFx0YDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0ubWVtYmVycykge1xuXHRcdFx0XHRcdGxldCBwcm9maWxlID0gbW9kZWwucHJvZmlsZXNbdWlkXTtcblx0XHRcdFx0XHRsZXQgdXNlck1vZGVsID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogJ1Vua25vd24gU3R1ZGVudCcsXG5cdFx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdFx0XHRzdWJ0aXRsZTogJy4uLidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHByb2ZpbGUubmFtZSkge1xuXHRcdFx0XHRcdFx0dXNlck1vZGVsLm5hbWUgPSBwcm9maWxlLm5hbWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChwcm9maWxlLmltYWdlKSB7XG5cdFx0XHRcdFx0XHR1c2VyTW9kZWwuaW1hZ2UgPSBwcm9maWxlLmltYWdlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGVhbS5tZW1iZXJzW3VpZF0ucm9sZSkge1xuXHRcdFx0XHRcdFx0dXNlck1vZGVsLnN1YnRpdGxlID0gdGVhbS5tZW1iZXJzW3VpZF0ucm9sZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IHVzZXJEaXYgPSB2aWV3cy5nZXRVc2VyVGlsZSh1c2VyTW9kZWwpO1xuXHRcdFx0XHRcdGh0bWwgKz0gdXNlckRpdi5pbm5lckhUTUw7XG5cdFx0XHRcdH1cblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkIGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+Sm9pbiBUZWFtPC9hPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+U3RhcnQgTmV3IFRlYW08L2gyIGNsYXNzPVwidGl0bGUgaXMtNFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5Eb24ndCBzZWUgeW91ciB0ZWFtPzwvcD5cblx0XHRcdGA7XG5cblx0XHRcdGxldCBwcm9maWxlID0gbW9kZWwucHJvZmlsZXNbbW9kZWwudWlkXTtcblx0XHRcdGxldCB1c2VyTW9kZWwgPSB7XG5cdFx0XHRcdG5hbWU6ICdVbmtub3duIFN0dWRlbnQnLFxuXHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdHN1YnRpdGxlOiAnVGVhbSBNZW1iZXInXG5cdFx0XHR9XG5cdFx0XHRpZiAocHJvZmlsZS5uYW1lKSB7XG5cdFx0XHRcdHVzZXJNb2RlbC5uYW1lID0gcHJvZmlsZS5uYW1lO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHByb2ZpbGUuaW1hZ2UpIHtcblx0XHRcdFx0dXNlck1vZGVsLmltYWdlID0gcHJvZmlsZS5pbWFnZTtcblx0XHRcdH1cblx0XHRcdGxldCB1c2VyRGl2ID0gdmlld3MuZ2V0VXNlclRpbGUodXNlck1vZGVsKTtcblx0XHRcdGh0bWwgKz0gdXNlckRpdi5pbm5lckhUTUw7XG5cblx0XHRcdGh0bWwgKz0gYFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkIGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaWQ9XCJuZXctdGVhbVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5TdGFydCBOZXcgVGVhbTwvYT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW5zJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy1tdWx0aWxpbmUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9taXNlVGFibGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGg+TmFtZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+TWVtYmVyPC90aD5cblx0XHRcdFx0XHRcdDx0aD5TdGF0dXM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkxhc3QgQWN0aXZlPC90aD5cblx0XHRcdFx0XHRcdDx0aD5WaWV3PC90aD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRgO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhtb2RlbC5wcm9taXNlcykubWFwKChwZGlkKSA9PiB7XG5cdFx0XHRcdGxldCB2YWwgPSBtb2RlbC5wcm9taXNlc1twZGlkXTtcblx0XHRcdFx0XHR2YWwua2V5ID0gcGRpZDtcblx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdH0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9KS5mb3JFYWNoKChwcm9taXNlKSA9PiB7XG5cdFx0XHRcdGxldCBhdXRob3JOYW1lID0gJ1Vua25vd24nO1xuXHRcdFx0XHRsZXQgbGFzdEFjdGl2ZSA9IG1vbWVudChwcm9taXNlLmxhc3RBY3RpdmUpLmZyb21Ob3coKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhdXRob3JOYW1lID0gbW9kZWwucHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBkdXIgPSBtb21lbnQuZHVyYXRpb24obW9tZW50KHByb21pc2UuZHVlKS5kaWZmKG1vbWVudChEYXRlLm5vdygpKSkpO1xuXHRcdFx0XHRsZXQgZGF5c0xlZnQgPSBNYXRoLmZsb29yKGR1ci5hc0RheXMoKSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0ZD4ke3Byb21pc2UudGl0bGV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke2F1dGhvck5hbWV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke3Byb21pc2UuY29tcGxldGVkID8gJ0NvbXBsZXRlJyA6IChkYXlzTGVmdCA8IDAgPyBNYXRoLmFicyhkYXlzTGVmdCkgKyAnIGRheXMgb3ZlcmR1ZScgOiBkYXlzTGVmdCArICcgZGF5cyBsZWZ0Jyl9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke2xhc3RBY3RpdmV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLXByb21pc2VpZD1cIiR7cHJvbWlzZS5rZXl9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXc8L2J1dHRvbj5cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0YDtcblx0XHRcdH0pO1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtbmFycm93Jyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLWZ1bGx3aWR0aCcpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1zdHJpcGVkJyk7XG5cdFx0XHRcdHRhYmxlLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fSxcblxuXHRcdGdldFByb21pc2VCb3g6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IHByb21pc2UgPSBtb2RlbC5wcm9taXNlO1xuXHRcdFx0bGV0IHByb2ZpbGVzID0gbW9kZWwucHJvZmlsZXM7XG5cdFx0XHRsZXQgbGV2ZWxUZXh0ID0gJ1Vua25vd24nO1xuXHRcdFx0c3dpdGNoIChwcm9taXNlLmxldmVsKSB7XG5cdFx0XHRcdGNhc2UgMTogbGV2ZWxUZXh0ID0gJ1NtYWxsJzsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMjogbGV2ZWxUZXh0ID0gJ01lZGl1bSc7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDM6IGxldmVsVGV4dCA9ICdMYXJnZSc7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHNpbmNlU3RhcnQgPSBtb21lbnQocHJvbWlzZS5zdGFydGVkKS5mcm9tTm93KCk7XG5cdFx0XHRsZXQgZHVlRGF0ZSA9IG1vbWVudChwcm9taXNlLmR1ZSkuZm9ybWF0KCdNL0QvWVknKTtcblx0XHRcdGxldCBhdXRob3JOYW1lID0gJ1Vua25vd24nO1xuXHRcdFx0bGV0IGF1dGhvckltYWdlID0gJy4vcHVibGljL2ltZy9uby11c2VyLnBuZyc7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhdXRob3JOYW1lID0gcHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdGF1dGhvckltYWdlID0gcHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLmltYWdlO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpXG5cdFx0XHR9XG5cdFx0XHQvLzxoMSBjbGFzcz1cInRpdGxlIGlzLTJcIj4ke3Byb21pc2UudGl0bGV9IDxzcGFuIGNsYXNzPVwidGFnIGlzLXdhcm5pbmdcIj4ke2xldmVsVGV4dH08L3NwYW4+PC9oMT5cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudFwiPlxuXHRcdFx0XHRcdDxoMSBjbGFzcz1cInRpdGxlIGlzLTJcIj4ke3Byb21pc2UudGl0bGV9PC9oMT5cblx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb21tZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaXMtMTZ4MTYgaXMtcm91bmRlZCBpcy1pbmxpbmUtaW1hZ2VcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7YXV0aG9ySW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aXRsZSBpcy02XCI+JHthdXRob3JOYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1mYWRlZFwiPiBzdGFydGVkICR7c2luY2VTdGFydH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1ub3JtYWxseS1zcGFjZWRcIj5JIHByb21pc2UgdG8gJHtwcm9taXNlLmRlc2NyaXB0aW9ufSBieSAke2R1ZURhdGV9LjwvcD5cblx0XHRcdGA7XG5cdFx0XHRsZXQgbGlua0xpc3QgPSBPYmplY3Qua2V5cyhwcm9taXNlLmxpbmtzKS5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRsZXQgdmFsID0gcHJvbWlzZS5saW5rc1trZXldO1xuXHRcdFx0XHR2YWwua2V5ID0ga2V5O1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAobGlua0xpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRodG1sICs9IGA8ZGl2PmA7XG5cdFx0XHRcdGxpbmtMaXN0LmZvckVhY2goKGxpbmspID0+IHtcblx0XHRcdFx0XHRodG1sICs9IGA8ZGl2IGNsYXNzPVwidGVhbS1saW5rXCI+JHt2aWV3cy5nZXRMaW5rSXRlbShsaW5rKS5pbm5lckhUTUx9PC9kaXY+YDtcblx0XHRcdFx0XHQvL2h0bWwgKz0gYDxsaT48YSBocmVmPVwiJHtsaW5rLnVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke2xpbmsubmFtZX08L2E+PC9saT5gO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aHRtbCArPSBgPC9kaXY+YDtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkXCI+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiZWRpdFwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+RWRpdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImxpbmtcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1saW5rXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPkFkZCBMaW5rPC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiYmFja1wiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+QmFjayB0byBQcm9taXNlczwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveCBjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgxIGNsYXNzPVwidGl0bGUgaXMtNFwiPlByb2dyZXNzPC9oMT5cblx0XHRcdFx0XHQ8ZGl2IGlkPVwiY29tbWVudHMtZmllbGRcIj5cblx0XHRcdFx0XHRgO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhwcm9taXNlLmNvbW1lbnRzKS5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcHJvbWlzZS5jb21tZW50c1trZXldO1xuXHRcdFx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcblx0XHRcdH0pLmZvckVhY2goKGNvbW1lbnQpID0+IHtcblx0XHRcdFx0bGV0IGNvbW1lbnRBdXRob3IgPSB7XG5cdFx0XHRcdFx0bmFtZTogJ1Vua25vd24nLFxuXHRcdFx0XHRcdGltYWdlOiAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJ1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29tbWVudEF1dGhvci5uYW1lID0gcHJvZmlsZXNbY29tbWVudC5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdFx0Y29tbWVudEF1dGhvci5pbWFnZSA9IHByb2ZpbGVzW2NvbW1lbnQuYXV0aG9yXS5pbWFnZTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSlcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgc2luY2VDb21tZW50ID0gbW9tZW50KGNvbW1lbnQudGltZXN0YW1wKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTsvLy5mcm9tTm93KCk7XG5cdFx0XHRcdGlmIChjb21tZW50LmdlbmVyYXRlZCkge1xuXHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpbWFnZSBpcy0xNngxNiBpcy1yb3VuZGVkIGlzLWlubGluZS1pbWFnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtjb21tZW50QXV0aG9yLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGl0bGUgaXMtNlwiPiR7Y29tbWVudEF1dGhvci5uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1mYWRlZFwiPiAke3NpbmNlQ29tbWVudH06IDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJnZW5lcmF0ZWQtdGV4dFwiPiR7Y29tbWVudC50ZXh0fTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdGA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29tbWVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGlzLTE2eDE2IGlzLXJvdW5kZWQgaXMtaW5saW5lLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke2NvbW1lbnRBdXRob3IuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aXRsZSBpcy02XCI+JHtjb21tZW50QXV0aG9yLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlzLWZhZGVkXCI+ICR7c2luY2VDb21tZW50fTogPC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj4ke2NvbW1lbnQudGV4dH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlLWVkaXRhYmxlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIGRhdGEtZnBiPVwidGV4dGFyZWFcIiBjbGFzcz1cInRleHRhcmVhXCIgcm93cz1cIjJcIiBwbGFjZWhvbGRlcj1cIldyaXRlIGhlcmUuLi5cIj48L3RleHRhcmVhPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWdyb3VwZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiY29tbWVudFwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWNvbW1lbnQtb1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPkNvbW1lbnQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImNvbXBsZXRlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgJHtwcm9taXNlLmNvbXBsZXRlZCA/ICdmYS10aW1lcycgOiAnZmEtY2hlY2snfVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiR7cHJvbWlzZS5jb21wbGV0ZWQgPyAnTWFyayBhcyBJbmNvbXBsZXRlJyA6ICdNYXJrIGFzIENvbXBsZXRlJ308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGJveC5jbGFzc0xpc3QuYWRkKCdjb2x1bW5zJyk7XG5cdFx0XHRcdGJveC5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGJveDtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWlzZUVkaXRvcjogKG1vZGVsKSA9PiB7XG5cdFx0XHRpZiAobW9kZWwuZGVzY3JpcHRpb24gPT09ICcuLi4nKSB7XG5cdFx0XHRcdG1vZGVsLmRlc2NyaXB0aW9uID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGgxIGRhdGEtcGVmPVwidGl0bGVcIiBjbGFzcz1cInRpdGxlIGlzLTIgbmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwudGl0bGUgPyBtb2RlbC50aXRsZSA6ICdUaXRsZSBvZiBQcm9taXNlJ308L2gxPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5cblx0XHRcdFx0XHRJIHByb21pc2UgdG8gPHNwYW4gZGF0YS1wZWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwibmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwuZGVzY3JpcHRpb24gPyBtb2RlbC5kZXNjcmlwdGlvbiA6ICcoZG8gc29tZXRoaW5nIGZvciBteSB0ZWFtKSd9PC9zcGFuPiBieSA8c3BhbiBkYXRhLXBlZj1cImR1ZVwiIGNsYXNzPVwibmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwuZHVlID8gbW9tZW50KG1vZGVsLmR1ZSkuZm9ybWF0KCdNL0QvWVlZWScpIDonTU0vREQvWVlZWSd9PC9zcGFuPi5cblx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8cCBkYXRhLXBlZj1cIndhcm5pbmdcIiBjbGFzcz1cImlzLWRhbmdlci10ZXh0XCI+PC9wPlxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtcGVmPVwic3VibWl0XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeVwiPlNhdmUgUHJvbWlzZTwvYnV0dG9uPlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5kZWxldGFibGUpIHtcblx0XHRcdFx0aHRtbCArPSBgPGJ1dHRvbiBkYXRhLXBlZj1cInJlbW92ZVwiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPkNhbmNlbDwvYnV0dG9uPmA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRodG1sICs9IGA8YnV0dG9uIGRhdGEtcGVmPVwiY2FuY2VsXCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyIGlzLW91dGxpbmVkXCI+Q2FuY2VsPC9idXR0b24+YDtcblx0XHRcdH1cblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2JveCcpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29udGVudCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVTdGVwQ2FyZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UgJHttb2RlbC5pc09wZW4gPyBgYCA6IGBpcy1jb2xsYXBzZWRgfSAke21vZGVsLmNvbXBsZXRlZCA/IGBpcy1zdWNjZXNzYCA6IGBpcy1wcmltYXJ5YH1cIiBjb2xsYXBzaWJsZT5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1oZWFkZXIgaXMtY29udHJhc3RcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaXJjbGVcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1jaGVja1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC50aXRsZX08L2gzPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBzaG93LWNvbGxhcHNlZCBmYS1jaGV2cm9uLXVwXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgc2hvdy11bmZ1cmxlZCBmYS1jaGV2cm9uLWRvd25cIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWJvZHlcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLW5vdGVcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNvbnRlbnRlZGl0YWJsZT1cIiR7bW9kZWwuZWRpdGFibGV9XCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwucHMucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhZ2cgKyBgPHA+JHt2YWx9PC9wPmA7XG5cdFx0XHRcdFx0XHRcdH0sICcnKX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8c3BhbiBkYXRhLWFjdGlvbj1cInNhdmUtbm90ZVwiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtZGFyayBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtc2F2ZVwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPlNhdmUgTm90ZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJlZGl0LW5hbWVcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmsgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5FZGl0IE5hbWU8L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwibW92ZS1zdGVwLXVwXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbCBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy11cFwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk1vdmUgVXA8L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwibW92ZS1zdGVwLWRvd25cIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWFycm93LWRvd25cIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5Nb3ZlIERvd248L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxocj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwubGlua3MucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBsaW5rSHRtbCA9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWdzIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlua0h0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtdHJhbnNwYXJlbnQtYmFja2dyb3VuZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwiZWRpdC1saW5rXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBkYXRhLWxpbms9XCIke3ZhbC5pZH1cIiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJyZW1vdmUtbGlua1wiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgZGF0YS1saW5rPVwiJHt2YWwuaWR9XCIgY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXJlbW92ZVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdFx0fVx0XG5cdFx0XHRcdFx0XHRcdFx0bGlua0h0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtcHJpbWFyeVwiPiR7dmFsLnR5cGV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW0gaXMtd2FybmluZ1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxhIGNsYXNzPVwibGlua1wiIGRhdGEtbGlua2lkPVwiJHt2YWwuaWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7dmFsLnVybH1cIj4ke3ZhbC50aXRsZX08L2E+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFnZyArIGxpbmtIdG1sXG5cdFx0XHRcdFx0XHRcdH0sICcnKX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luICR7bW9kZWwuZWRpdGFibGUgPyAnaXMtaGlkZGVuJyA6ICcnfVwiPk1hcmsgQ29tcGxldGU8L2J1dHRvbj5cblx0XHRcdGA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJhZGQtc3RlcC1saW5rXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbCBpcy1kYXJrIGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1wbHVzXCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+QWRkIExpbms8L3NwYW4+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjaXJjbGUtY29ubmVjdG9yJyk7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHR0YWdDb2RlOiAodGV4dCkgPT4ge1xuXHRcdFx0bGV0IG91dCA9IGBgO1xuXHRcdFx0bGV0IG9wZW4gPSBmYWxzZTtcblx0XHRcdGZvciAobGV0IGMgPSAwOyBjIDwgdGV4dC5sZW5ndGg7IGMrKykge1xuXHRcdFx0XHRpZiAodGV4dFtjXSA9PT0gJ2AnKSB7XG5cdFx0XHRcdFx0aWYgKCFvcGVuKSB7XG5cdFx0XHRcdFx0XHRvdXQgKz0gYDxzcGFuIGNsYXNzPVwidGFnIGlzLWNvZGVcIj5gO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRvdXQgKz0gYDwvc3Bhbj5gO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRvcGVuID0gIW9wZW47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3V0ICs9IHRleHRbY107XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChvcGVuKSB7XG5cdFx0XHRcdG91dCArPSBgPC9zcGFuPmA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3V0O1xuXHRcdH0sXG5cblx0XHRnZXRMaXN0Q2FyZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtNFwiPiR7bW9kZWwudGl0bGV9PC9oMj5cblx0XHRcdFx0PHVsIGRhdGEtdGV4dGFyZWE9XCJnZXQtJHttb2RlbC5maWVsZH1cIiBjb250ZW50ZWRpdGFibGU9XCIke21vZGVsLmVkaXRhYmxlfVwiPlxuXHRcdFx0XHRcdCR7bW9kZWwucHMucmVkdWNlKChhZ2csIHZhbCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IHRleHQgPSB2YWw7XG5cdFx0XHRcdFx0XHRpZiAobW9kZWwuaGFzQ29kZSAmJiAoIW1vZGVsLmVkaXRhYmxlKSkge1xuXHRcdFx0XHRcdFx0XHR0ZXh0ID0gdmlld3MudGFnQ29kZSh2YWwpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIGFnZyArIGA8bGk+JHt0ZXh0fTwvbGk+YDtcblx0XHRcdFx0XHR9LCAnJyl9XG5cdFx0XHRcdDwvdWw+XG5cdFx0XHRgO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxidXR0b24gZGF0YS1hY3Rpb249XCJzYXZlLSR7bW9kZWwuZmllbGR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtc2F2ZVwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPlNhdmU8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy02Jyk7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHZpZXdzO1xuXG59XG5cbmV4cG9ydCB7Vmlld3N9O1xuIl19\n"]}