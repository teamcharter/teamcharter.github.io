{"version":3,"sources":["role-library.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","Database","firebase","CharterFirebase","initializeApp","db","database","auth","localhost","noScreenshots","prometheus","Prometheus","init","callback","fallback","called","onAuthStateChanged","user","logon","uid","name","displayName","email","image","photoURL","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","then","result","credential","accessToken","providerId","providerData","console","error","catch","getDB","getPrometheus","getCurrentUser","currentUser","saveFeedback","tid","feedback","ref","push","timestamp","Date","now","getUser","Promise","resolve","reject","once","snap","val","getTeam","team","keys","getTeamEdits","edits","onTeamChange","members","on","promises","memberMap","status","p","all","users","forEach","member","idx","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","save","type","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","remove","updateRole","author","role","responsibility","addTemplateRole","joined","icon","updateRoleIcon","joinTeam","joinCode","success","addMember","done","removeMember","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","teamName","res","pathList","path","ct","getInstructorClasses","map","cid","classData","teams","resolveTeam","rejectTeam","_loop","teamList","tidx","meta","getClassTeams","classCode","_loop2","addTeamToClass","access","special_type","confirmed","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","getTeamPromises","onTeamPromisesChange","err","onPromiseChange","promiseid","commentOnPromise","params","text","addPromise","payload","finished","unsetPromise","updatePromise","editData","addLinkToPromise","hasLinkId","linkid","getRoleMap","roleMap","saveRoleMap","getAllRoleMaps","3","initRoleViewer","ROLE","dataMap","sectionLoader","classList","add","sectionRole","getDefaultRoleMap","editBtn","document","getElementById","addModBtn","can","divName","addEventListener","editName","EDIT","vex","dialog","prompt","message","title","removeEventListener","mainTab","divIcon","editIcon","divDesc","editDesc","description","size","steps","newstepid","order","note","innerText","alert","reportErrorToUser","editable","roleData","transformRoleData","cardOut","innerHTML","model","isOpen","views","getRoleStepCard","div","appendChild","detailsOut","importanceView","getListCard","ps","importance","codebaseView","codebase","hasCode","Array","from","querySelectorAll","querySelector","contains","step","dataset","log","learned","link","action","stepData","newlinkid","links","getStepLinkDetails","swap","_switchWith","id","target","switchWith","ogLink","fillText","className","spans","getElementsByClassName","fillSrc","src","thisMap","inMap","JSON","parse","stringify","split","stepid","linkList","linkKey","sort","b","filter","_callback","_config","_database","_views","qs","join","tokens","re","exec","decodeURIComponent","getQueryParams","location","search","Views","feedbackBtn","sectionAll","roleOut","rid","getRoleMapCard","create_role","exists","window","origin","./config","./database","./views","4","getRoleAndUpdateTile","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","createElement","getRoleTile","editSection","getRoleTemplateTile","editButton","onSave","button","resp","onIconEdit","getProgressUpdate","getLinkItem","indexOf","getTeamTile","isTemplate","getClassTile","classLink","getUserTile","subtitle","getClassTeamTable","updates","upid","lastAccess","fromNow","table","getClassTeamGrid","_uid","_profile","profiles","_userModel","_userDiv","profile","userModel","userDiv","getPromiseTable","pdid","promise","authorName","lastActive","dur","due","daysLeft","Math","floor","completed","abs","getPromiseBox","level","sinceStart","started","dueDate","authorImage","comments","comment","commentAuthor","sinceComment","generated","box","getPromiseEditor","deletable","reduce","agg","linkHtml","tagCode","out","open","c"],"mappings":"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","file":"../role-library.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\t// Super Dirty: Update Prometheus Promos and Features Here\n\t// db.ref('prometheus/features/contributor').set({info: {name: 'Charter Contributor'}, validate: 'return {allowed: userData.contributor,data: userData}'})\n\n\t//db.ref('classes/master/teams').remove();\n\t/*db.ref('teams').once('value', (snap) => {\n \tlet teamMap = snap.val() || {};\n \tfor (let tid in teamMap) {\n \t\tdb.ref(`classes/master/teams/${tid}`).set({\n \t\t\taccess: true,\n \t\t\tjoined: Date.now()\n \t\t});\n \t}\n });*/\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetDB: function getDB() {\n\t\t\treturn db;\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tif (memberMap[uid].status === 'template') {\n\t\t\t\t\t\t\tmembers[uid] = {\n\t\t\t\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\t\t\tuid: uid,\n\t\t\t\t\t\t\t\temail: 'team@omnipointment.com'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + data.uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + data.uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\taddTemplateRole: function addTemplateRole(tid, author) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_TEMPLATE_ROLE',\n\t\t\t\ttid: tid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members').push({\n\t\t\t\tstatus: 'template',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true,\n\t\t\t\ticon: 'user'\n\t\t\t});\n\t\t},\n\n\t\tupdateRoleIcon: function updateRoleIcon(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE_ICON',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\ticon: data.icon\n\t\t\t});\n\t\t\t//\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/members/' + data.uid + '/icon').set(data.icon);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tremoveMember: function removeMember(tid, author, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).remove();\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, data) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar teamName = data.name;\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode,\n\t\t\t\t\tstatus: data.status || 'regular'\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName,\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetClassTeams: function getClassTeams(classCode) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes/' + classCode);\n\t\t\t\tref.once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val() || {};\n\t\t\t\t\tvar nodes = {};\n\t\t\t\t\tnodes[classCode] = val;\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop2 = function _loop2(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop2(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tif (classData.special_type) {\n\t\t\t\t\t\t\t\tdb.ref('teams/' + tid + '/special_type').set(classData.special_type).then(function (confirmed) {\n\t\t\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {},\n\n\t\tgetTeamPromises: function getTeamPromises(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamPromisesChange: function onTeamPromisesChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonPromiseChange: function onPromiseChange(tid, promiseid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdb.ref('promises/' + tid).on('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tcallback(val);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tif (fallback) {\n\t\t\t\t\tfallback(err);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tcommentOnPromise: function commentOnPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tif (!params.text) {\n\t\t\t\tthrow Error('No text given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'comment',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\ttext: params.text\n\t\t\t\t}).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddPromise: function addPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar payload = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tauthor: params.author,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid).push(payload).then(function (done) {\n\t\t\t\t\tvar promiseid = done.path.ct[2];\n\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + promiseid + '/promiseid').set(promiseid).then(function (finished) {\n\t\t\t\t\t\tpayload.promiseid = promiseid;\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tpromiseid: promiseid,\n\t\t\t\t\t\t\tdata: payload\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tunsetPromise: function unsetPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + params.tid + '/' + params.promiseid).remove().then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tupdatePromise: function updatePromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\tvar tid = params.tid + '';\n\t\t\tvar editData = params;\n\t\t\tdelete editData.tid;\n\t\t\teditData.timestamp = Date.now();\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('promises/' + tid).push(editData).then(resolve).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddLinkToPromise: function addLinkToPromise(params) {\n\t\t\tif (!params.tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!params.promiseid) {\n\t\t\t\tthrow Error('No promise id given');\n\t\t\t}\n\t\t\tif (!params.author) {\n\t\t\t\tthrow Error('No author id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar hasLinkId = params.linkid ? true : false;\n\t\t\t\tdb.ref('promises/' + params.tid).push({\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tpromiseid: params.promiseid,\n\t\t\t\t\tlinkid: params.linkid || false,\n\t\t\t\t\tauthor: params.author,\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tname: params.name || false,\n\t\t\t\t\turl: params.url || false\n\t\t\t\t}).then(function (done) {\n\t\t\t\t\tif (hasLinkId) {\n\t\t\t\t\t\tresolve(done);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar linkid = done.path.ct[2];\n\t\t\t\t\t\tdb.ref('promises/' + params.tid + '/' + linkid + '/linkid').set(linkid).then(resolve).catch(reject);\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetRoleMap: function getRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).once('value', function (snap) {\n\t\t\t\t\tvar roleMap = snap.val();\n\t\t\t\t\tif (roleMap) {\n\t\t\t\t\t\tresolve(roleMap);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('No role found for: ' + params.role);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tsaveRoleMap: function saveRoleMap(params) {\n\t\t\tif (!params.role) {\n\t\t\t\tthrow Error('No role id given.');\n\t\t\t}\n\t\t\tif (!params.data) {\n\t\t\t\tthrow Error('No role map data given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library/' + params.role).set(params.data).then(function (done) {\n\t\t\t\t\tresolve(true);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetAllRoleMaps: function getAllRoleMaps() {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('role_library').once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tresolve(val);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\nvar ROLE = params.role || false;\nvar EDIT = false;\n\nvar views = (0, _views.Views)();\n\nvar loginBtn = document.getElementById('login');\nvar feedbackBtn = document.getElementById('feedback');\nvar sectionLoader = document.getElementById('section-loader');\nvar sectionRole = document.getElementById('section-role');\nvar sectionAll = document.getElementById('section-all');\n\ndatabase.init(main, function () {\n\t// No user signed in\n\tif (ROLE) {\n\t\twindow.location = window.location.origin + '/login.html?ref=rolelibrary&role=' + ROLE;\n\t} else {\n\t\twindow.location = window.location.origin + '/login.html?ref=rolelibrary';\n\t}\n});\n\nfunction main(user) {\n\n\tif (!ROLE) {\n\t\t//window.location = `${window.location.origin}/me.html`;\n\t\tdatabase.getAllRoleMaps().then(function (map) {\n\t\t\tsectionLoader.classList.add('is-hidden');\n\t\t\tsectionAll.classList.remove('is-hidden');\n\t\t\tvar roleOut = document.getElementById('role-out');\n\t\t\troleOut.innerHTML = '';\n\t\t\tfor (var rid in map) {\n\t\t\t\tvar data = map[rid];\n\t\t\t\tdata.id = rid;\n\t\t\t\tvar div = views.getRoleMapCard(data);\n\t\t\t\troleOut.appendChild(div);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (params.create_role) {\n\t\tdatabase.saveRoleMap({\n\t\t\trole: params.create_role,\n\t\t\tdata: {\n\t\t\t\texists: true\n\t\t\t}\n\t\t}).then(function (done) {\n\t\t\twindow.location = window.location.origin + '/rolelibrary.html?role=' + params.create_role;\n\t\t}).catch(reportErrorToUser);\n\t}\n\n\tconsole.log('What makes working at Omnipointment better than, say, Google?');\n\n\tfillText('fill-user-name', user.displayName);\n\tfillSrc('fill-user-image', user.photoURL);\n\n\tvar prometheus = database.getPrometheus();\n\n\tfeedbackBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\tcallback: function callback(feedback) {\n\t\t\t\tif (feedback) {\n\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.saveFeedback(false, uid, feedback).then(function (done) {\n\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\t/*let roleMap = {\n \tlinks: {\n \t\ta: {\n \t\t\ttitle: `99Lime: You Only Need 10 HTML Tags`,\n \t\t\tstep: `a`,\n \t\t\turl: `http://www.99lime.com/_bak/topics/you-only-need-10-tags/`,\n \t\t\ttype: `Tutorial`\n \t\t},\n \t\tb: {\n \t\t\ttitle: `W3Schools: CSS Reference`,\n \t\t\tstep: `b`,\n \t\t\turl: `https://www.w3schools.com/css/css_intro.asp`,\n \t\t\ttype: `Reference`\n \t\t},\n \t\tc: {\n \t\t\ttitle: `Mozilla: Introduction to the DOM`,\n \t\t\tstep: `c`,\n \t\t\turl: `https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction`,\n \t\t\ttype: `Tutorial`\n \t\t},\n \t\td: {\n \t\t\ttitle: `W3Schools: Event Listeners`,\n \t\t\tstep: `d`,\n \t\t\turl: `https://www.w3schools.com/js/js_htmldom_eventlistener.asp`,\n \t\t\ttype: `Tutorial`\n \t\t},\n \t\te: {\n \t\t\ttitle: `Mozilla: Events Reference`,\n \t\t\tstep: `d`,\n \t\t\turl: `https://developer.mozilla.org/en-US/docs/Web/Events`,\n \t\t\ttype: `Reference`\n \t\t},\n \t\tf: {\n \t\t\ttitle: `W3Schools: Introduction to the W3.CSS framework`,\n \t\t\tstep: `e`,\n \t\t\turl: `https://www.w3schools.com/w3css/default.asp`,\n \t\t\ttype: `Tutorial`\n \t\t},\n \t\tg: {\n \t\t\ttitle: `Mozilla: How to debug HTML`,\n \t\t\tstep: `f`,\n \t\t\turl: `https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML`,\n \t\t\ttype: `Tutorial`\n \t\t}\n \t},\n \tsteps: {\n \t\ta: {\n \t\t\ttitle: 'Introduction to HTML',\n \t\t\torder: 0,\n \t\t\tnote: `As a frontend engineer, you will use HTML to design layouts and pages for your team's web application. You don't have to memorize HTML tags: specifics can always be found online! The rest of your team is just getting started, so focus on learning HTML tags that are used for structure and content. Later, elements like forms will come into play.\\n<p>To learn how to give your pages structure, check out these 10 basic HTML tags.`\n \t\t},\n \t\tb: {\n \t\t\ttitle: 'Introduction to CSS',\n \t\t\torder: 1,\n \t\t\tnote: `To style your web application, you will use CSS. Don't worry about making the web application look beautiful right away. There will be plenty of time over the course of this project to experiment with styles. Again, no need to memorize: the W3Schools CSS reference is a place you can always look to for help.\\nTo learn how to give your pages style, explore the W3Schools CSS reference. At least read up to and including the section about the Box Model.`\n \t\t},\n \t\tc: {\n \t\t\ttitle: 'DOM: The Document Object Model',\n \t\t\torder: 2,\n \t\t\tnote: `With HTML, you can create layouts, with CSS you can style them. JavaScript will allow you to interact with your pages. To help out your team's application engineer, you will need to get information from page forms and display new content that the application code gives you. The Document Object Model (DOM) makes this easy.\\nTo make your pages more than just fixed content, learn about the DOM.`\n \t\t},\n \t\td: {\n \t\t\ttitle: `JavaScript: Event Listeners`,\n \t\t\torder: 3,\n \t\t\tnote: `The application engineer on your team will want user actions like clicks and hovers to trigger certain parts of their code. Event listeners are the way your frontend work hooks up with the application layer! If you do no other JavaScript in this project, make sure you master event listeners.\\nTo integrate better with your application code, learn the basics of event listeners.`\n \t\t},\n \t\te: {\n \t\t\ttitle: `CSS Framework: W3.CSS`,\n \t\t\torder: 4,\n \t\t\tnote: `As a frontend engineer, you are not expected to write all of the styling for your web app from scratch. Many professional teams use a CSS framework, which provides reusable classes for formatting the layout of a page.\\nTo save development time, learn W3.CSS: a simple CSS framework for responsive websites. If you are curious, you can check out other CSS frameworks like Bootstrap, Bulma, or Semantic UI.`\n \t\t},\n \t\tf: {\n \t\t\ttitle: `Debugging HTML`,\n \t\t\torder: 5,\n \t\t\tnote: `Sometimes your pages will display content in an unexpected way, or you'll be stuck trying to get an element styled just right. These situations happen to even the best frontend engineers. Every engineer on this team must learn how to overcome tricky bugs: frontend engineer is no different!\\nTo deal with pages that don't seem to be working correctly, learn how to debug HTML.`\n \t\t}\n \t},\n \timportance: `Takes ownership of interface and experience design\\nHooks up application code to the site.\\nHelps QA engineer understand the webpage structure.`,\n \tcodebase: 'Create HTML pages in `/(root)`\\nCreate CSS styles in `/public/css`\\nContribute to JS in `/public/js`',\n \ttitle: `Frontend Designer`,\n \ticon: `desktop`,\n \tdescription: `Design the interface for your team's web application and hook up to the application code.`\n };*/\n\n\tif (ROLE) {\n\t\tinitRoleViewer(ROLE, user);\n\t}\n\n\tdatabase.getPrometheus().save({\n\t\ttype: 'ROLE_LIBRARY',\n\t\trole: ROLE\n\t});\n}\n\nfunction initRoleViewer(ROLE, user) {\n\n\tdatabase.getRoleMap({\n\t\trole: ROLE\n\t}).then(function (dataMap) {\n\n\t\tsectionLoader.classList.add('is-hidden');\n\t\tsectionRole.classList.remove('is-hidden');\n\n\t\tvar roleMap = getDefaultRoleMap(dataMap);\n\n\t\tvar editBtn = document.getElementById('toggle-edit');\n\t\tvar addModBtn = document.getElementById('add-module');\n\n\t\tdatabase.getPrometheus().can('contributor', function (data) {\n\t\t\teditBtn.classList.remove('is-hidden');\n\t\t});\n\n\t\tvar divName = document.getElementById('role-name');\n\t\tvar editName = function editName(e) {\n\t\t\tif (EDIT) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'Edit Title',\n\t\t\t\t\tvalue: roleMap.title,\n\t\t\t\t\tcallback: function callback(res) {\n\t\t\t\t\t\tdivName.removeEventListener('click', editName);\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\troleMap.title = res;\n\t\t\t\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tdivName.addEventListener('click', editName);\n\n\t\tvar divIcon = document.getElementById('role-icon');\n\t\tvar editIcon = function editIcon(e) {\n\t\t\tif (EDIT) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'Edit Icon',\n\t\t\t\t\tvalue: roleMap.icon,\n\t\t\t\t\tcallback: function callback(res) {\n\t\t\t\t\t\tdivIcon.removeEventListener('click', editIcon);\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\troleMap.icon = res;\n\t\t\t\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tdivIcon.addEventListener('click', editIcon);\n\n\t\tvar divDesc = document.getElementById('role-desc');\n\t\tvar editDesc = function editDesc(e) {\n\t\t\tif (EDIT) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'Edit Description',\n\t\t\t\t\tvalue: roleMap.description,\n\t\t\t\t\tcallback: function callback(res) {\n\t\t\t\t\t\tdivDesc.removeEventListener('click', editDesc);\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\troleMap.description = res;\n\t\t\t\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tdivDesc.addEventListener('click', editDesc);\n\n\t\tvar addModFn = function addModFn(e) {\n\t\t\tif (EDIT) {\n\t\t\t\t//addModBtn.removeEventListener('click', addModFn);\n\t\t\t\tvar size = Object.keys(roleMap.steps).length - 1;\n\t\t\t\tvar newstepid = 'step-' + size;\n\t\t\t\troleMap.steps[newstepid] = {\n\t\t\t\t\ttitle: 'Untitled Module',\n\t\t\t\t\torder: size,\n\t\t\t\t\tnote: '...'\n\t\t\t\t};\n\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t}\n\t\t};\n\t\taddModBtn.addEventListener('click', addModFn);\n\n\t\teditBtn.addEventListener('click', function (e) {\n\t\t\tEDIT = !EDIT;\n\t\t\tif (EDIT) {\n\t\t\t\teditBtn.innerText = 'Publish Role';\n\t\t\t\teditBtn.classList.add('is-success');\n\t\t\t\teditBtn.classList.remove('is-warning');\n\t\t\t\taddModBtn.classList.remove('is-hidden');\n\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t} else {\n\t\t\t\teditBtn.innerText = 'Edit Role';\n\t\t\t\teditBtn.classList.remove('is-success');\n\t\t\t\teditBtn.classList.add('is-warning');\n\t\t\t\teditBtn.classList.add('is-loading');\n\t\t\t\taddModBtn.classList.add('is-hidden');\n\t\t\t\tdatabase.saveRoleMap({\n\t\t\t\t\trole: ROLE,\n\t\t\t\t\tdata: roleMap\n\t\t\t\t}).then(function (done) {\n\t\t\t\t\tvex.dialog.alert('Saved Role: ' + roleMap.title);\n\t\t\t\t\tmainTab(user, roleMap, EDIT);\n\t\t\t\t\teditBtn.classList.remove('is-loading');\n\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t}\n\t\t});\n\n\t\tif (EDIT) {\n\t\t\teditBtn.innerText = 'Publish Role';\n\t\t\teditBtn.classList.add('is-success');\n\t\t\teditBtn.classList.remove('is-warning');\n\t\t\taddModBtn.classList.remove('is-hidden');\n\t\t} else {\n\t\t\teditBtn.innerText = 'Edit Role';\n\t\t\teditBtn.classList.remove('is-success');\n\t\t\teditBtn.classList.add('is-warning');\n\t\t\taddModBtn.classList.add('is-hidden');\n\t\t}\n\t\tmainTab(user, roleMap, EDIT);\n\t}).catch(reportErrorToUser);\n}\n\nfunction mainTab(user, roleMap, editable) {\n\n\tvar roleData = transformRoleData(roleMap);\n\n\tdocument.getElementById('role-name').innerText = roleData.title;\n\tdocument.getElementById('role-icon').classList.add('fa-' + roleData.icon);\n\tdocument.getElementById('role-desc').innerText = roleData.description;\n\n\tvar cardOut = document.getElementById('card-out');\n\tcardOut.innerHTML = '';\n\troleData.steps.map(function (model) {\n\t\tmodel.editable = editable;\n\t\tmodel.isOpen = editable;\n\t\treturn model;\n\t}).map(function (model) {\n\t\treturn views.getRoleStepCard(model);\n\t}).forEach(function (div) {\n\t\tcardOut.appendChild(div);\n\t});\n\n\tvar detailsOut = document.getElementById('details-out');\n\tdetailsOut.innerHTML = '';\n\n\tvar importanceView = views.getListCard({\n\t\ttitle: 'Importance to Team',\n\t\tfield: 'importance',\n\t\tps: roleData.importance,\n\t\teditable: editable\n\t});\n\tdetailsOut.appendChild(importanceView);\n\n\tvar codebaseView = views.getListCard({\n\t\ttitle: 'Role in Codebase',\n\t\tfield: 'codebase',\n\t\tps: roleData.codebase,\n\t\thasCode: true,\n\t\teditable: editable\n\t});\n\tdetailsOut.appendChild(codebaseView);\n\n\tArray.from(document.querySelectorAll('[collapsible]')).forEach(function (div) {\n\t\tdiv.querySelector('.message-header').addEventListener('click', function (e) {\n\t\t\tif (div.classList.contains('is-collapsed')) {\n\t\t\t\tdiv.classList.remove('is-collapsed');\n\t\t\t} else {\n\t\t\t\tdiv.classList.add('is-collapsed');\n\t\t\t}\n\t\t});\n\t\tdiv.querySelector('.message-body button').addEventListener('click', function (e) {\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'What did you learn?',\n\t\t\t\tcallback: function callback(data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tvar step = div.dataset.step;\n\t\t\t\t\t\tconsole.log(user.uid + ' learned: ' + data);\n\t\t\t\t\t\tdatabase.getDB().ref('role_browsing').push({\n\t\t\t\t\t\t\tuid: user.uid,\n\t\t\t\t\t\t\trole: ROLE,\n\t\t\t\t\t\t\tstep: step,\n\t\t\t\t\t\t\ttype: 'learning',\n\t\t\t\t\t\t\tlearned: data,\n\t\t\t\t\t\t\ttimestamp: Date.now()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (data && div.classList.contains('is-primary')) {\n\t\t\t\t\t\tdiv.classList.remove('is-primary');\n\t\t\t\t\t\tdiv.classList.add('is-success');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n\n\tif (!editable) {\n\t\tArray.from(document.querySelectorAll('[data-linkid]')).forEach(function (link) {\n\t\t\tlink.addEventListener('click', function (e) {\n\t\t\t\tvar linkid = link.dataset.linkid;\n\t\t\t\tvar step = link.dataset.step;\n\t\t\t\tconsole.log(user.uid + ' clicked: ' + linkid);\n\t\t\t\tdatabase.getDB().ref('role_browsing').push({\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\trole: ROLE,\n\t\t\t\t\tstep: step,\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tlinkid: linkid,\n\t\t\t\t\ttimestamp: Date.now()\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tArray.from(document.querySelectorAll('[data-action]')).forEach(function (div) {\n\t\t//console.log(div.dataset.action, div.dataset);\n\t\tdiv.addEventListener('click', function (e) {\n\t\t\tvar action = div.dataset.action;\n\t\t\tvar step = false;\n\t\t\tvar linkid = false;\n\t\t\tvar order = 0;\n\t\t\tvar idx = -1;\n\t\t\tvar field = false;\n\t\t\tswitch (action) {\n\t\t\t\tcase 'save-note':\n\t\t\t\t\tstep = div.dataset.step;\n\t\t\t\t\tfield = cardOut.querySelector('.step-note[data-step=\"' + step + '\"]');\n\t\t\t\t\troleMap.steps[step].note = field.innerText;\n\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'edit-name':\n\t\t\t\t\tstep = div.dataset.step;\n\t\t\t\t\tvar stepData = roleMap.steps[step];\n\t\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\t\tmessage: 'Rename Module',\n\t\t\t\t\t\tvalue: stepData.title,\n\t\t\t\t\t\tcallback: function callback(title) {\n\t\t\t\t\t\t\tif (title) {\n\t\t\t\t\t\t\t\troleMap.steps[step].title = title;\n\t\t\t\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'save-importance':\n\t\t\t\t\tfield = document.querySelector('[data-textarea=\"get-importance\"]');\n\t\t\t\t\troleMap.importance = field.innerText;\n\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'save-codebase':\n\t\t\t\t\tfield = document.querySelector('[data-textarea=\"get-codebase\"]');\n\t\t\t\t\troleMap.codebase = field.innerText;\n\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'add-step-link':\n\t\t\t\t\tstep = div.dataset.step;\n\t\t\t\t\tvar size = Object.keys(roleMap.links).length - 1;\n\t\t\t\t\tvar newlinkid = 'link' + (size + 1);\n\t\t\t\t\tgetStepLinkDetails({\n\t\t\t\t\t\tstep: step\n\t\t\t\t\t}, function (res) {\n\t\t\t\t\t\troleMap.links[newlinkid] = {\n\t\t\t\t\t\t\ttitle: res.title,\n\t\t\t\t\t\t\tstep: res.step,\n\t\t\t\t\t\t\turl: res.url,\n\t\t\t\t\t\t\ttype: res.type\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'move-step-up':\n\t\t\t\t\tstep = div.dataset.step;\n\t\t\t\t\torder = roleMap.steps[step].order;\n\t\t\t\t\tidx = -1;\n\t\t\t\t\troleData.steps.forEach(function (s, i) {\n\t\t\t\t\t\tif (s.order === order) {\n\t\t\t\t\t\t\tidx = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar swap = roleData.steps[idx - 1];\n\t\t\t\t\tif (swap) {\n\t\t\t\t\t\tvar _switchWith = swap.id;\n\t\t\t\t\t\troleMap.steps[_switchWith].order = order;\n\t\t\t\t\t\troleMap.steps[step].order = order - 1;\n\t\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'move-step-down':\n\t\t\t\t\tstep = div.dataset.step;\n\t\t\t\t\torder = roleMap.steps[step].order;\n\t\t\t\t\tidx = -1;\n\t\t\t\t\troleData.steps.forEach(function (s, i) {\n\t\t\t\t\t\tif (s.order === order) {\n\t\t\t\t\t\t\tidx = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (order < Object.keys(roleMap.steps).length - 1) {\n\t\t\t\t\t\tvar target = roleData.steps[idx + 1];\n\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\tswitchWith = target.id;\n\t\t\t\t\t\t\troleMap.steps[switchWith].order = order;\n\t\t\t\t\t\t\troleMap.steps[step].order = order + 1;\n\t\t\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'edit-link':\n\t\t\t\t\tlinkid = div.dataset.link;\n\t\t\t\t\tvar ogLink = roleMap.links[linkid];\n\t\t\t\t\tstep = ogLink.step;\n\t\t\t\t\tgetStepLinkDetails(ogLink, function (res) {\n\t\t\t\t\t\troleMap.links[linkid] = {\n\t\t\t\t\t\t\ttitle: res.title,\n\t\t\t\t\t\t\tstep: res.step,\n\t\t\t\t\t\t\turl: res.url,\n\t\t\t\t\t\t\ttype: res.type\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'remove-link':\n\t\t\t\t\tlinkid = div.dataset.link;\n\t\t\t\t\troleMap.links[linkid].removed = true;\n\t\t\t\t\tmainTab(user, roleMap, editable);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(action, div.dataset);\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction reportErrorToUser(err) {\n\tconsole.error(err);\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\nfunction getDefaultRoleMap(roleMap) {\n\t// Set defaults\n\troleMap.links = roleMap.links || {};\n\troleMap.steps = roleMap.steps || {};\n\troleMap.title = roleMap.title || 'Untitled Role';\n\troleMap.description = roleMap.description || 'Edit...';\n\troleMap.icon = roleMap.icon || 'user';\n\troleMap.importance = roleMap.importance || 'Edit...';\n\troleMap.codebase = roleMap.codebase || 'Edit...';\n\treturn roleMap;\n}\n\nfunction transformRoleData(thisMap) {\n\tvar inMap = getDefaultRoleMap(thisMap);\n\tvar roleMap = JSON.parse(JSON.stringify(inMap));\n\t// Start transformation\n\tvar roleData = {};\n\troleData.importance = roleMap.importance.split('\\n');\n\troleData.codebase = roleMap.codebase.split('\\n');\n\troleData.steps = {};\n\tfor (var stepid in roleMap.steps) {\n\t\troleData.steps[stepid] = roleMap.steps[stepid];\n\t}\n\tfor (var linkid in roleMap.links) {\n\t\tvar data = roleMap.links[linkid];\n\t\tdata.id = linkid;\n\t\tif (!roleData.steps[data.step].links) {\n\t\t\troleData.steps[data.step].links = {};\n\t\t}\n\t\troleData.steps[data.step].links[linkid] = data;\n\t}\n\tvar list = Object.keys(roleData.steps).map(function (key) {\n\t\tvar stepData = roleData.steps[key];\n\t\tstepData.id = key;\n\t\tif (!stepData.links) {\n\t\t\tstepData.links = {};\n\t\t}\n\t\tvar linkList = Object.keys(stepData.links).map(function (linkKey) {\n\t\t\treturn stepData.links[linkKey];\n\t\t}).sort(function (a, b) {\n\t\t\treturn a.order - b.order;\n\t\t}).filter(function (l) {\n\t\t\treturn !l.removed;\n\t\t});\n\t\tstepData.ps = stepData.note.split('\\n');\n\t\tstepData.links = linkList;\n\t\treturn stepData;\n\t}).sort(function (a, b) {\n\t\treturn a.order - b.order;\n\t});\n\troleData.steps = list;\n\troleData.title = roleMap.title;\n\troleData.description = roleMap.description;\n\troleData.icon = roleMap.icon;\n\treturn roleData;\n}\n\nfunction getStepLinkDetails(data, _callback) {\n\tvex.dialog.prompt({\n\t\tmessage: 'Link URL',\n\t\tvalue: data.url,\n\t\tcallback: function callback(url) {\n\t\t\tif (url) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'Link Title',\n\t\t\t\t\tvalue: data.title,\n\t\t\t\t\tcallback: function callback(title) {\n\t\t\t\t\t\tif (title) {\n\t\t\t\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\t\t\t\tmessage: 'Link Type',\n\t\t\t\t\t\t\t\tvalue: data.type,\n\t\t\t\t\t\t\t\tcallback: function callback(type) {\n\t\t\t\t\t\t\t\t\tif (type) {\n\t\t\t\t\t\t\t\t\t\t_callback({\n\t\t\t\t\t\t\t\t\t\t\tstep: data.step,\n\t\t\t\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\t\t\ttype: type\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n},{\"./config\":1,\"./database\":2,\"./views\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTemplateTile: function getRoleTemplateTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tvar editButton = '';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 data-bind=\"field-role\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p data-bind=\"field-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t</div>';\n\t\t\t\teditButton = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-4\">\\n\\t\\t\\t\\t\\t<button data-bind=\"button-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical {model.editable ? \\'is-8\\' : \\'is-12\\'}\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"field-icon\" class=\"image is-48x48 icon-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + (model.icon || 'user') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t' + editButton + '\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\tif (model.editable && model.onSave) {\n\t\t\t\tvar button = div.querySelectorAll('[data-bind=button-save]')[0];\n\t\t\t\tvar role = div.querySelectorAll('[data-bind=field-role]')[0];\n\t\t\t\tvar resp = div.querySelectorAll('[data-bind=field-responsibility]')[0];\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onSave({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\trole: role.innerText,\n\t\t\t\t\t\tresponsibility: resp.innerText\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tvar iconEdit = div.querySelectorAll('[data-bind=field-icon]')[0];\n\t\t\t\ticonEdit.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onIconEdit({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t\tif (model.url.indexOf('docs.google.com/document') > -1) {\n\t\t\t\t\ticon = 'file-text';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/spreadsheets') > -1) {\n\t\t\t\t\ticon = 'table';\n\t\t\t\t} else if (model.url.indexOf('docs.google.com/presentation') > -1) {\n\t\t\t\t\ticon = 'slideshare';\n\t\t\t\t}\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t} else if (model.url.indexOf('github.com') > -1) {\n\t\t\t\ticon = 'github';\n\t\t\t} else if (model.url.indexOf('youtube.com') > -1) {\n\t\t\t\ticon = 'youtube-play';\n\t\t\t} else if (model.url.indexOf('vimeo.com') > -1) {\n\t\t\t\ticon = 'vimeo';\n\t\t\t} else if (model.url.indexOf('codeshare.io') > -1 || model.url.indexOf('codepen.io') > -1) {\n\t\t\t\ticon = 'code-fork';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar tag = '<span class=\"tag is-warning\">Template</span>';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + ' ' + (model.isTemplate ? tag : '') + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetClassTeamGrid: function getClassTeamGrid(model) {\n\t\t\tvar html = '';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar origin = window.location.origin;\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&code=' + team.joinCode;\n\t\t\t\tvar members = team.members || {};\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">' + team.name + '</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Last active ' + moment(team.lastAccess).fromNow() + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">' + Object.keys(team.edits).length + ' charter edits</p>\\n\\t\\t\\t\\t';\n\t\t\t\tfor (var _uid in team.members) {\n\t\t\t\t\tvar _profile = model.profiles[_uid];\n\t\t\t\t\tvar _userModel = {\n\t\t\t\t\t\tname: 'Unknown Student',\n\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\tsubtitle: '...'\n\t\t\t\t\t};\n\t\t\t\t\tif (_profile.name) {\n\t\t\t\t\t\t_userModel.name = _profile.name;\n\t\t\t\t\t}\n\t\t\t\t\tif (_profile.image) {\n\t\t\t\t\t\t_userModel.image = _profile.image;\n\t\t\t\t\t}\n\t\t\t\t\tif (team.members[_uid].role) {\n\t\t\t\t\t\t_userModel.subtitle = team.members[_uid].role;\n\t\t\t\t\t}\n\t\t\t\t\tvar _userDiv = views.getUserTile(_userModel);\n\t\t\t\t\thtml += _userDiv.innerHTML;\n\t\t\t\t}\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">Join Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"column is-6\">\\n\\t\\t\\t\\t\\t\\t<div class=\"box content has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\"title is-4\">Start New Team</h2 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">Don\\'t see your team?</p>\\n\\t\\t\\t';\n\n\t\t\tvar profile = model.profiles[model.uid];\n\t\t\tvar userModel = {\n\t\t\t\tname: 'Unknown Student',\n\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\tsubtitle: 'Team Member'\n\t\t\t};\n\t\t\tif (profile.name) {\n\t\t\t\tuserModel.name = profile.name;\n\t\t\t}\n\t\t\tif (profile.image) {\n\t\t\t\tuserModel.image = profile.image;\n\t\t\t}\n\t\t\tvar userDiv = views.getUserTile(userModel);\n\t\t\thtml += userDiv.innerHTML;\n\n\t\t\thtml += '\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped has-text-centered\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a id=\"new-team\" class=\"button is-primary is-outlined\">Start New Team</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('columns');\n\t\t\tdiv.classList.add('is-multiline');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetPromiseTable: function getPromiseTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Member</th>\\n\\t\\t\\t\\t\\t\\t<th>Status</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\n\t\t\tObject.keys(model.promises).map(function (pdid) {\n\t\t\t\tvar val = model.promises[pdid];\n\t\t\t\tval.key = pdid;\n\t\t\t\treturn val;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn 0;\n\t\t\t}).forEach(function (promise) {\n\t\t\t\tvar authorName = 'Unknown';\n\t\t\t\tvar lastActive = moment(promise.lastActive).fromNow();\n\t\t\t\ttry {\n\t\t\t\t\tauthorName = model.profiles[promise.author].name;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar dur = moment.duration(moment(promise.due).diff(moment(Date.now())));\n\t\t\t\tvar daysLeft = Math.floor(dur.asDays());\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + promise.title + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + authorName + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + (promise.completed ? 'Complete' : daysLeft < 0 ? Math.abs(daysLeft) + ' days overdue' : daysLeft + ' days left') + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + lastActive + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<button data-promiseid=\"' + promise.key + '\" class=\"button is-primary is-outlined\">View</button>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.classList.add('is-striped');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t},\n\n\t\tgetPromiseBox: function getPromiseBox(model) {\n\t\t\tvar promise = model.promise;\n\t\t\tvar profiles = model.profiles;\n\t\t\tvar levelText = 'Unknown';\n\t\t\tswitch (promise.level) {\n\t\t\t\tcase 1:\n\t\t\t\t\tlevelText = 'Small';break;\n\t\t\t\tcase 2:\n\t\t\t\t\tlevelText = 'Medium';break;\n\t\t\t\tcase 3:\n\t\t\t\t\tlevelText = 'Large';break;\n\t\t\t}\n\t\t\tvar sinceStart = moment(promise.started).fromNow();\n\t\t\tvar dueDate = moment(promise.due).format('M/D/YY');\n\t\t\tvar authorName = 'Unknown';\n\t\t\tvar authorImage = './public/img/no-user.png';\n\t\t\ttry {\n\t\t\t\tauthorName = profiles[promise.author].name;\n\t\t\t\tauthorImage = profiles[promise.author].image;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\t//<h1 class=\"title is-2\">${promise.title} <span class=\"tag is-warning\">${levelText}</span></h1>\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-2\">' + promise.title + '</h1>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + authorImage + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + authorName + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> started ' + sinceStart + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t<p class=\"subtitle is-normally-spaced\">I promise to ' + promise.description + ' by ' + dueDate + '.</p>\\n\\t\\t\\t';\n\t\t\tvar linkList = Object.keys(promise.links).map(function (key) {\n\t\t\t\tvar val = promise.links[key];\n\t\t\t\tval.key = key;\n\t\t\t\treturn val;\n\t\t\t});\n\t\t\tif (linkList.length > 0) {\n\t\t\t\thtml += '<div>';\n\t\t\t\tlinkList.forEach(function (link) {\n\t\t\t\t\thtml += '<div class=\"team-link\">' + views.getLinkItem(link).innerHTML + '</div>';\n\t\t\t\t\t//html += `<li><a href=\"${link.url}\" target=\"_blank\">${link.name}</a></li>`;\n\t\t\t\t});\n\t\t\t\thtml += '</div>';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"edit\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Edit</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"link\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-link\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<button data-fpb=\"back\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-left\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span>Back to Promises</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"column\">\\n\\t\\t\\t\\t<div class=\"box content\">\\n\\t\\t\\t\\t\\t<h1 class=\"title is-4\">Progress</h1>\\n\\t\\t\\t\\t\\t<div id=\"comments-field\">\\n\\t\\t\\t\\t\\t';\n\n\t\t\tObject.keys(promise.comments).map(function (key) {\n\t\t\t\treturn promise.comments[key];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn a.timestamp - b.timestamp;\n\t\t\t}).forEach(function (comment) {\n\t\t\t\tvar commentAuthor = {\n\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\timage: './public/img/no-user.png'\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tcommentAuthor.name = profiles[comment.author].name;\n\t\t\t\t\tcommentAuthor.image = profiles[comment.author].image;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tvar sinceComment = moment(comment.timestamp).format('M/D h:mm A'); //.fromNow();\n\t\t\t\tif (comment.generated) {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"generated-text\">' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t} else {\n\t\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"comment\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"image is-16x16 is-rounded is-inline-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + commentAuthor.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"title is-6\">' + commentAuthor.name + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"is-faded\"> ' + sinceComment + ': </span>\\n\\t\\t\\t\\t\\t\\t\\t<span>' + comment.text + '</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile-editable\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea data-fpb=\"textarea\" class=\"textarea\" rows=\"2\" placeholder=\"Write here...\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"is-grouped\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"comment\" class=\"button is-primary\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-comment-o\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>Comment</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-fpb=\"complete\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa ' + (promise.completed ? 'fa-times' : 'fa-check') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>' + (promise.completed ? 'Mark as Incomplete' : 'Mark as Complete') + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar box = document.createElement('div');\n\t\t\tbox.classList.add('columns');\n\t\t\tbox.innerHTML = html;\n\t\t\treturn box;\n\t\t},\n\n\t\tgetPromiseEditor: function getPromiseEditor(model) {\n\t\t\tif (model.description === '...') {\n\t\t\t\tmodel.description = false;\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h1 data-pef=\"title\" class=\"title is-2 nlp-editable\" contenteditable=\"true\">' + (model.title ? model.title : 'Title of Promise') + '</h1>\\n\\t\\t\\t\\t<p class=\"subtitle is-neatly-spaced\">\\n\\t\\t\\t\\t\\tI promise to <span data-pef=\"description\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.description ? model.description : '(do something for my team)') + '</span> by <span data-pef=\"due\" class=\"nlp-editable\" contenteditable=\"true\">' + (model.due ? moment(model.due).format('M/D/YYYY') : 'MM/DD/YYYY') + '</span>.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p data-pef=\"warning\" class=\"is-danger-text\"></p>\\n\\t\\t\\t\\t<button data-pef=\"submit\" class=\"button is-primary\">Save Promise</button>\\n\\t\\t\\t';\n\t\t\tif (model.deletable) {\n\t\t\t\thtml += '<button data-pef=\"remove\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t} else {\n\t\t\t\thtml += '<button data-pef=\"cancel\" class=\"button is-danger is-outlined\">Cancel</button>';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('box');\n\t\t\tdiv.classList.add('content');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleStepCard: function getRoleStepCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div data-step=\"' + model.id + '\" class=\"message ' + (model.isOpen ? '' : 'is-collapsed') + ' ' + (model.completed ? 'is-success' : 'is-primary') + '\" collapsible>\\n\\t\\t\\t\\t\\t<div class=\"message-header is-contrast\">\\n\\t\\t\\t\\t\\t\\t<div class=\"circle\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-check\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.title + '</h3>\\n\\t\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-collapsed fa-chevron-up\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa show-unfurled fa-chevron-down\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"message-body\">\\n\\t\\t\\t\\t\\t\\t<div class=\"step-note\" data-step=\"' + model.id + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\treturn agg + ('<p>' + val + '</p>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"save-note\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Note</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"edit-name\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Edit Name</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-up\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-up\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Up</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span data-action=\"move-step-down\" data-step=\"' + model.id + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-arrow-down\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Move Down</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<hr>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t<div class=\"has-top-margin\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.links.reduce(function (agg, val) {\n\t\t\t\tvar linkHtml = '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\tif (model.editable) {\n\t\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-transparent-background\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"edit-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-action=\"remove-link\" data-step=\"' + model.id + '\" data-link=\"' + val.id + '\" class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-remove\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\t}\n\t\t\t\tlinkHtml += '\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-primary\">' + val.type + '</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium is-warning\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a class=\"link\" data-linkid=\"' + val.id + '\" data-step=\"' + model.id + '\" target=\"_blank\" href=\"' + val.url + '\">' + val.title + '</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t';\n\t\t\t\treturn agg + linkHtml;\n\t\t\t}, '') + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<button class=\"button is-primary is-outlined has-top-margin ' + (model.editable ? 'is-hidden' : '') + '\">Mark Complete</button>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<span data-action=\"add-step-link\" data-step=\"' + model.id + '\" class=\"button is-small is-dark is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-plus\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Add Link</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('circle-connector');\n\t\t\treturn div;\n\t\t},\n\n\t\ttagCode: function tagCode(text) {\n\t\t\tvar out = '';\n\t\t\tvar open = false;\n\t\t\tfor (var c = 0; c < text.length; c++) {\n\t\t\t\tif (text[c] === '`') {\n\t\t\t\t\tif (!open) {\n\t\t\t\t\t\tout += '<span class=\"tag is-code\">';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout += '</span>';\n\t\t\t\t\t}\n\t\t\t\t\topen = !open;\n\t\t\t\t} else {\n\t\t\t\t\tout += text[c];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (open) {\n\t\t\t\tout += '</span>';\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\n\t\tgetListCard: function getListCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<h2 class=\"title is-4\">' + model.title + '</h2>\\n\\t\\t\\t\\t<ul data-textarea=\"get-' + model.field + '\" contenteditable=\"' + model.editable + '\">\\n\\t\\t\\t\\t\\t' + model.ps.reduce(function (agg, val) {\n\t\t\t\tvar text = val;\n\t\t\t\tif (model.hasCode && !model.editable) {\n\t\t\t\t\ttext = views.tagCode(val);\n\t\t\t\t}\n\t\t\t\treturn agg + ('<li>' + text + '</li>');\n\t\t\t}, '') + '\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t';\n\t\t\tif (model.editable) {\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<button data-action=\"save-' + model.field + '\" class=\"button is-small is-primary is-outlined has-top-margin\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon is-small\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-save\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-6');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleMapCard: function getRoleMapCard(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/rolelibrary.html?role=' + model.id;\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t<h3 class=\"title is-4\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + model.icon + '\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>' + model.title + '</span>\\n\\t\\t\\t\\t\\t</h3>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t' + model.importance.split('\\n').reduce(function (agg, val) {\n\t\t\t\treturn agg + '<li>' + val + '</li>';\n\t\t\t}) + '\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined has-top-margin\">Preview Role</a>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-3');\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL3JvbGUtbGlicmFyeS5qcyIsInNyYy9qcy92aWV3cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FDQUEsSUFBSSxTQUFTO0FBQ1osU0FBUSx5Q0FESTtBQUVaLGFBQVksK0JBRkE7QUFHWixjQUFhLHNDQUhEO0FBSVosWUFBVyxlQUpDO0FBS1osZ0JBQWUsRUFMSDtBQU1aLG9CQUFtQjtBQU5QLENBQWI7UUFRUSxNLEdBQUEsTTs7Ozs7Ozs7QUNSUixJQUFJLFdBQVcsU0FBWCxRQUFXLENBQUMsUUFBRCxFQUFXLE1BQVgsRUFBc0I7O0FBRXBDLEtBQUksa0JBQWtCLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQixrQkFBL0IsQ0FBdEI7QUFDQSxLQUFJLEtBQUssZ0JBQWdCLFFBQWhCLEVBQVQ7QUFDQSxLQUFJLE9BQU8sZ0JBQWdCLElBQWhCLEVBQVg7QUFDQyxRQUFPLFNBQVAsR0FBbUIsSUFBbkI7QUFDQSxRQUFPLGFBQVAsR0FBdUIsSUFBdkI7QUFDRCxLQUFJLGFBQWEsV0FBVyxNQUFYLEVBQW1CLGVBQW5CLENBQWpCOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7OztBQVVDLEtBQUksV0FBVzs7QUFFZCxRQUFNLGNBQUMsUUFBRCxFQUFXLFFBQVgsRUFBd0I7QUFDN0IsT0FBSSxTQUFTLEtBQWI7QUFDQSxRQUFLLGtCQUFMLENBQXdCLFVBQUMsSUFBRCxFQUFVO0FBQ2pDLFFBQUksSUFBSixFQUFVO0FBQ1Q7QUFDQSxnQkFBVyxLQUFYLENBQWlCLEtBQUssR0FBdEIsRUFBMkI7QUFDMUIsWUFBTSxLQUFLLFdBRGU7QUFFMUIsYUFBTyxLQUFLLEtBRmM7QUFHMUIsYUFBTyxLQUFLLFFBSGM7QUFJMUIsV0FBSyxLQUFLO0FBSmdCLE1BQTNCO0FBTUE7QUFDQSxT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TSxFQUFwRDtBQUNBLE9BQUksMklBSWtCLE1BQU0sSUFKeEIsdURBTU8sTUFBTSxLQU5iLDhEQVNDLE1BQU0sVUFBTixDQUFpQixLQUFqQixDQUF1QixJQUF2QixFQUE2QixNQUE3QixDQUFvQyxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDbkQsV0FBVSxHQUFWLFlBQW9CLEdBQXBCO0FBQ0EsSUFGQyxDQVRELDhDQWFTLElBYlQsb0dBQUo7QUFnQkEsT0FBSSxNQUFNLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0MsT0FBSSxTQUFKLEdBQWdCLElBQWhCO0FBQ0EsT0FBSSxTQUFKLENBQWMsR0FBZCxDQUFrQixRQUFsQjtBQUNBLE9BQUksU0FBSixDQUFjLEdBQWQsQ0FBa0IsTUFBbEI7QUFDRCxVQUFPLEdBQVA7QUFDQTs7QUEzMUJVLEVBQVo7O0FBKzFCQSxRQUFPLEtBQVA7QUFFQSxDQW4yQkQ7O1FBcTJCUSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJsZXQgY29uZmlnID0ge1xuXHRhcGlLZXk6IFwiQUl6YVN5QldrOUVXUGtrdnFpcnVHOGFZbkhWMGRCUGcxejNFdE40XCIsXG5cdGF1dGhEb21haW46IFwiY2hhcnRlci1lY2IwNy5maXJlYmFzZWFwcC5jb21cIixcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jaGFydGVyLWVjYjA3LmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJjaGFydGVyLWVjYjA3XCIsXG5cdHN0b3JhZ2VCdWNrZXQ6IFwiXCIsXG5cdG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEzNDIzOTMwNTE1M1wiXG59O1xuZXhwb3J0IHtjb25maWd9OyIsImxldCBEYXRhYmFzZSA9IChmaXJlYmFzZSwgY29uZmlnKSA9PiB7XG5cblx0bGV0IENoYXJ0ZXJGaXJlYmFzZSA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCAnQ2hhcnRlciBEYXRhYmFzZScpO1xuXHRsZXQgZGIgPSBDaGFydGVyRmlyZWJhc2UuZGF0YWJhc2UoKTtcblx0bGV0IGF1dGggPSBDaGFydGVyRmlyZWJhc2UuYXV0aCgpO1xuXHRcdGNvbmZpZy5sb2NhbGhvc3QgPSB0cnVlO1xuXHRcdGNvbmZpZy5ub1NjcmVlbnNob3RzID0gdHJ1ZTtcblx0bGV0IHByb21ldGhldXMgPSBQcm9tZXRoZXVzKGNvbmZpZywgQ2hhcnRlckZpcmViYXNlKTtcblxuLy8gU3VwZXIgRGlydHk6IFVwZGF0ZSBQcm9tZXRoZXVzIFByb21vcyBhbmQgRmVhdHVyZXMgSGVyZVxuLy8gZGIucmVmKCdwcm9tZXRoZXVzL2ZlYXR1cmVzL2NvbnRyaWJ1dG9yJykuc2V0KHtpbmZvOiB7bmFtZTogJ0NoYXJ0ZXIgQ29udHJpYnV0b3InfSwgdmFsaWRhdGU6ICdyZXR1cm4ge2FsbG93ZWQ6IHVzZXJEYXRhLmNvbnRyaWJ1dG9yLGRhdGE6IHVzZXJEYXRhfSd9KVxuXG4vL2RiLnJlZignY2xhc3Nlcy9tYXN0ZXIvdGVhbXMnKS5yZW1vdmUoKTtcbi8qZGIucmVmKCd0ZWFtcycpLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0bGV0IHRlYW1NYXAgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRmb3IgKGxldCB0aWQgaW4gdGVhbU1hcCkge1xuXHRcdGRiLnJlZihgY2xhc3Nlcy9tYXN0ZXIvdGVhbXMvJHt0aWR9YCkuc2V0KHtcblx0XHRcdGFjY2VzczogdHJ1ZSxcblx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKVxuXHRcdH0pO1xuXHR9XG59KTsqL1xuXG5cdGxldCBkYXRhYmFzZSA9IHtcblx0XHRcblx0XHRpbml0OiAoY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRsZXQgY2FsbGVkID0gZmFsc2U7XG5cdFx0XHRhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZCgodXNlcikgPT4ge1xuXHRcdFx0XHRpZiAodXNlcikge1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0cHJvbWV0aGV1cy5sb2dvbih1c2VyLnVpZCwge1xuXHRcdFx0XHRcdFx0bmFtZTogdXNlci5kaXNwbGF5TmFtZSxcblx0XHRcdFx0XHRcdGVtYWlsOiB1c2VyLmVtYWlsLFxuXHRcdFx0XHRcdFx0aW1hZ2U6IHVzZXIucGhvdG9VUkwsXG5cdFx0XHRcdFx0XHR1aWQ6IHVzZXIudWlkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRpZiAoIWNhbGxlZCkge1xuXHRcdFx0XHRcdFx0Y2FsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHVzZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIWNhbGxlZCkge1xuXHRcdFx0XHRcdFx0Y2FsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGZhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0bG9naW46IChjYWxsYmFjaywgbWV0aG9kKSA9PiB7XG5cdFx0XHQvL2F1dGguc2lnbk91dCgpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0bGV0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG5cdFx0XHRcdGlmIChtZXRob2QgPT09ICdmYWNlYm9vaycpIHtcblx0XHRcdFx0XHRwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YXV0aC5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpLnRoZW4oKHJlc3VsdCkgPT4ge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdFx0XHRsZXQgdG9rZW4gPSByZXN1bHQuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcblx0XHRcdFx0XHRsZXQgdXNlciA9IHJlc3VsdC51c2VyO1xuXHRcdFx0XHRcdGxldCBwcm92aWRlcklkID0gJ1Vua25vd24gUHJvdmlkZXInO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRwcm92aWRlcklkID0gdXNlci5wcm92aWRlckRhdGFbMF0ucHJvdmlkZXJJZDtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMubG9nb24odXNlci51aWQsIHtcblx0XHRcdFx0XHRcdG5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcblx0XHRcdFx0XHRcdGltYWdlOiB1c2VyLnBob3RvVVJMLFxuXHRcdFx0XHRcdFx0dWlkOiB1c2VyLnVpZCxcblx0XHRcdFx0XHRcdHByb3ZpZGVyOiBwcm92aWRlcklkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRjYWxsYmFjayh1c2VyKTtcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0XHQvKmxldCBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuXHRcdFx0XHRcdGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuXHRcdFx0XHRcdGxldCBlbWFpbCA9IGVycm9yLmVtYWlsO1xuXHRcdFx0XHRcdGxldCBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDsqL1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHR9KTtcblx0XHRcdC8qfSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHR9KTsqL1xuXHRcdH0sXG5cblx0XHRnZXREQjogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIGRiO1xuXHRcdH0sXG5cblx0XHRnZXRQcm9tZXRoZXVzOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gcHJvbWV0aGV1cztcblx0XHR9LFxuXG5cdFx0Z2V0Q3VycmVudFVzZXI6ICgpID0+IHtcblx0XHRcdHJldHVybiBhdXRoLmN1cnJlbnRVc2VyIHx8IHt9O1xuXHRcdH0sXG5cblx0XHRzYXZlRmVlZGJhY2s6ICh0aWQsIHVpZCwgZmVlZGJhY2spID0+IHtcblx0XHRcdHJldHVybiBkYi5yZWYoYGZlZWRiYWNrYCkucHVzaCh7XG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0ZmVlZGJhY2s6IGZlZWRiYWNrLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRVc2VyOiAodWlkKSA9PiB7XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWV0aGV1cy91c2Vycy8ke3VpZH0vcHJvZmlsZWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdXNlciA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSh1c2VyKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRUZWFtOiAodGlkKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgdGVhbXMvJHt0aWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB0ZWFtID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRpZiAoT2JqZWN0LmtleXModGVhbSkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dGVhbS50aWQgPSB0aWQ7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHRlYW0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHt9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbUVkaXRzOiAodGlkKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBlZGl0cyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0cmVzb2x2ZShlZGl0cyk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0b25UZWFtQ2hhbmdlOiAodGlkLCBjYWxsYmFjaywgZmFsbGJhY2spID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0bGV0IG1lbWJlcnMgPSB7fTtcblx0XHRcdGRiLnJlZihgdGVhbXMvJHt0aWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRcdGxldCB0ZWFtID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0bGV0IG1lbWJlck1hcCA9IHRlYW0ubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIG1lbWJlck1hcCkge1xuXHRcdFx0XHRcdGlmICghKHVpZCBpbiBtZW1iZXJzKSkge1xuXHRcdFx0XHRcdFx0aWYgKG1lbWJlck1hcFt1aWRdLnN0YXR1cyA9PT0gJ3RlbXBsYXRlJykge1xuXHRcdFx0XHRcdFx0XHRtZW1iZXJzW3VpZF0gPSB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJ1Vua25vd24nLFxuXHRcdFx0XHRcdFx0XHRcdGltYWdlOiAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJyxcblx0XHRcdFx0XHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0XHRcdFx0XHRlbWFpbDogJ3RlYW1Ab21uaXBvaW50bWVudC5jb20nXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGxldCBwID0gZGF0YWJhc2UuZ2V0VXNlcih1aWQpO1xuXHRcdFx0XHRcdFx0XHRwLnVpZCA9IHVpZDtcblx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb21pc2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigodXNlcnMpID0+IHtcblx0XHRcdFx0XHRcdHVzZXJzLmZvckVhY2goKG1lbWJlciwgaWR4KSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCB1aWQgPSBwcm9taXNlc1tpZHhdLnVpZDtcblx0XHRcdFx0XHRcdFx0bWVtYmVyc1t1aWRdID0gbWVtYmVyO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYWxsYmFjayh0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVRlYW1OYW1lOiAodGlkLCB1aWQsIG5hbWUpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICduYW1lJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBuYW1lLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L25hbWVgKS5zZXQobmFtZSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVF1ZXN0aW9uOiAodGlkLCB1aWQsIHF1ZXN0aW9uKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAncXVlc3Rpb24nLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IHF1ZXN0aW9uLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L3F1ZXN0aW9uYCkuc2V0KHF1ZXN0aW9uKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlRXhwZWN0YXRpb25zOiAodGlkLCB1aWQsIGxpc3QpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdleHBlY3RhdGlvbnMnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGxpc3QsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vZXhwZWN0YXRpb25zYCkuc2V0KGxpc3QpO1xuXHRcdH0sXG5cblx0XHRzdWJtaXRVcGRhdGU6ICh0aWQsIHVpZCwgdXBkYXRlKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdTVUJNSVRfVVBEQVRFJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVwZGF0ZTogdXBkYXRlXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vdXBkYXRlcy8ke3VpZH1gKS5wdXNoKHtcblx0XHRcdFx0dXBkYXRlOiB1cGRhdGUsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZExpbms6ICh0aWQsIHVpZCwgZGF0YSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnQUREX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2xpbmsnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3NgKS5wdXNoKHtcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0YWRkZWQ6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVMaW5rOiAodGlkLCB1aWQsIGtleSwgZGF0YSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBsaW5rIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmwsXG5cdFx0XHRcdGtleToga2V5XG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRkYXRhLmtleSA9IGtleTtcblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbGluaycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdGxldCBwMSA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fS9uYW1lYCkuc2V0KGRhdGEubmFtZSk7XG5cdFx0XHRsZXQgcDIgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX0vdXJsYCkuc2V0KGRhdGEudXJsKTtcblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChbcDEsIHAyXSk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZUxpbms6ICh0aWQsIHVpZCwga2V5KSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGxpbmsgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1JFTU9WRV9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdGtleToga2V5XG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2xpbmsnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRyZW1vdmVkOiB0cnVlLFxuXHRcdFx0XHRcdGtleToga2V5XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9YCkucmVtb3ZlKCk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVJvbGU6ICh0aWQsIGF1dGhvciwgZGF0YSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yaW5nIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWRhdGEudWlkKSB7XG5cdFx0XHRcdGRhdGEudWlkID0gYXV0aG9yOyAvLyBJZiBzb21lb25lIGlzIGVkaXRpbmcgdGhlaXIgb3duIHJvbGVcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnVVBEQVRFX1JPTEUnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiBkYXRhLnVpZCxcblx0XHRcdFx0cm9sZTogZGF0YS5yb2xlLFxuXHRcdFx0XHRyZXNwb25zaWJpbGl0eTogZGF0YS5yZXNwb25zaWJpbGl0eVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdyb2xlJyxcblx0XHRcdFx0dWlkOiBhdXRob3IsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0bGV0IHAxID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9yb2xlYCkuc2V0KGRhdGEucm9sZSk7XG5cdFx0XHRsZXQgcDIgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7ZGF0YS51aWR9L3Jlc3BvbnNpYmlsaXR5YCkuc2V0KGRhdGEucmVzcG9uc2liaWxpdHkpO1xuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKFtwMSwgcDJdKTtcblx0XHR9LFxuXG5cdFx0YWRkVGVtcGxhdGVSb2xlOiAodGlkLCBhdXRob3IpID0+IHtcblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnQUREX1RFTVBMQVRFX1JPTEUnLFxuXHRcdFx0XHR0aWQ6IHRpZFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnNgKS5wdXNoKHtcblx0XHRcdFx0c3RhdHVzOiAndGVtcGxhdGUnLFxuXHRcdFx0XHRyb2xlOiAnVGVhbSBNZW1iZXInLFxuXHRcdFx0XHRqb2luZWQ6IERhdGUubm93KCksXG5cdFx0XHRcdG1lbWJlcjogdHJ1ZSxcblx0XHRcdFx0aWNvbjogJ3VzZXInXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlUm9sZUljb246ICh0aWQsIGF1dGhvciwgZGF0YSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yaW5nIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9ST0xFX0lDT04nLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiBkYXRhLnVpZCxcblx0XHRcdFx0aWNvbjogZGF0YS5pY29uXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRpZiAoIWRhdGEudWlkKSB7XG5cdFx0XHRcdGRhdGEudWlkID0gYXV0aG9yOyAvLyBJZiBzb21lb25lIGlzIGVkaXRpbmcgdGhlaXIgb3duIHJvbGVcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAncm9sZScsXG5cdFx0XHRcdHVpZDogYXV0aG9yLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7ZGF0YS51aWR9L2ljb25gKS5zZXQoZGF0YS5pY29uKTtcblx0XHR9LFxuXG5cdFx0am9pblRlYW06ICh0aWQsIHVpZCwgam9pbkNvZGUpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRhdGFiYXNlLmdldFRlYW0odGlkKS50aGVuKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGpvaW5Db2RlID09PSB0ZWFtLmpvaW5Db2RlIHx8ICF0ZWFtLmpvaW5Db2RlKSB7XG5cdFx0XHRcdFx0XHRkYXRhYmFzZS5hZGRNZW1iZXIodGlkLCB1aWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdFx0c3VjY2VzczogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZE1lbWJlcjogKHRpZCwgdWlkKSA9PiB7XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9NRU1CRVInLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWRcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7dWlkfWApLnNldCh7XG5cdFx0XHRcdHN0YXR1czogJ21lbWJlcicsXG5cdFx0XHRcdHJvbGU6ICdUZWFtIE1lbWJlcicsXG5cdFx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKSxcblx0XHRcdFx0bWVtYmVyOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlTWVtYmVyOiAodGlkLCBhdXRob3IsIHVpZCkgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdSRU1PVkVfTUVNQkVSJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke3VpZH1gKS5yZW1vdmUoKTtcblx0XHR9LFxuXG5cdFx0Z2V0QWxsVGVhbXM6ICh1aWQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCByZWYgPSBkYi5yZWYoYHRlYW1zYCk7XG5cdFx0XHRcdGxldCBxdWVyeSA9IHJlZi5vcmRlckJ5Q2hpbGQoYG1lbWJlcnMvJHt1aWR9L21lbWJlcmApLnN0YXJ0QXQodHJ1ZSkuZW5kQXQodHJ1ZSk7XG5cdFx0XHRcdHF1ZXJ5Lm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgbm9kZXMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdHJlc29sdmUobm9kZXMpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGNyZWF0ZU5ld1RlYW06ICh1aWQsIGpvaW5Db2RlLCBkYXRhKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgdGVhbU5hbWUgPSBkYXRhLm5hbWU7XG5cdFx0XHRcdGRiLnJlZigndGVhbXMnKS5wdXNoKHtcblx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZSB8fCAnTmV3IFRlYW0gQ2hhcnRlcicsXG5cdFx0XHRcdFx0am9pbkNvZGU6IGpvaW5Db2RlLFxuXHRcdFx0XHRcdHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJ3JlZ3VsYXInXG5cdFx0XHRcdH0pLnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdGxldCBwYXRoTGlzdCA9IHJlcy5wYXRoLmN0O1xuXHRcdFx0XHRcdGxldCB0aWQgPSBwYXRoTGlzdFtwYXRoTGlzdC5sZW5ndGggLSAxXTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnQ1JFQVRFX1RFQU0nLFxuXHRcdFx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZSxcblx0XHRcdFx0XHRcdGRhdGE6IGRhdGFcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdGRhdGFiYXNlLmFkZE1lbWJlcih0aWQsIHVpZCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHRpZDogdGlkXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldEluc3RydWN0b3JDbGFzc2VzOiAodWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGBjbGFzc2VzYCk7XG5cdFx0XHRcdGxldCBxdWVyeSA9IHJlZi5vcmRlckJ5Q2hpbGQoYG1lbWJlcnMvJHt1aWR9L2FjY2Vzc2ApLnN0YXJ0QXQodHJ1ZSkuZW5kQXQodHJ1ZSk7XG5cdFx0XHRcdHF1ZXJ5Lm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgbm9kZXMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobm9kZXMpLm1hcCgoY2lkKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gbm9kZXNbY2lkXTtcblx0XHRcdFx0XHRcdGNsYXNzRGF0YS5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xhc3NEYXRhO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRcdFx0bGlzdC5mb3JFYWNoKChjbGFzc0RhdGEpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IGNpZCA9IGNsYXNzRGF0YS5jaWQ7XG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IHRpZCBpbiBjbGFzc0RhdGEudGVhbXMpIHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlVGVhbSwgcmVqZWN0VGVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4ocmVzb2x2ZVRlYW0pLmNhdGNoKHJlamVjdFRlYW0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdHAuY2lkID0gY2lkO1xuXHRcdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHRlYW1MaXN0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRlYW1MaXN0LmZvckVhY2goKHRlYW0sIHRpZHgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgbWV0YSA9IHByb21pc2VzW3RpZHhdO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChub2Rlc1ttZXRhLmNpZF0pe1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXS50ZWFtc1t0ZWFtLnRpZF0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSA9IHRlYW07XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShub2Rlcylcblx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe30pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RlYW1zOiAoY2xhc3NDb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGBjbGFzc2VzLyR7Y2xhc3NDb2RlfWApO1xuXHRcdFx0XHRyZWYub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdGxldCBub2RlcyA9IHt9O1xuXHRcdFx0XHRcdG5vZGVzW2NsYXNzQ29kZV0gPSB2YWw7XG5cdFx0XHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhub2RlcykubWFwKChjaWQpID0+IHtcblx0XHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBub2Rlc1tjaWRdO1xuXHRcdFx0XHRcdFx0Y2xhc3NEYXRhLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdHJldHVybiBjbGFzc0RhdGE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRcdFx0XHRsaXN0LmZvckVhY2goKGNsYXNzRGF0YSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2lkID0gY2xhc3NEYXRhLmNpZDtcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgdGlkIGluIGNsYXNzRGF0YS50ZWFtcykge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBwID0gbmV3IFByb21pc2UoKHJlc29sdmVUZWFtLCByZWplY3RUZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbihyZXNvbHZlVGVhbSkuY2F0Y2gocmVqZWN0VGVhbSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cC5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigodGVhbUxpc3QpID0+IHtcblx0XHRcdFx0XHRcdFx0dGVhbUxpc3QuZm9yRWFjaCgodGVhbSwgdGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBtZXRhID0gcHJvbWlzZXNbdGlkeF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdID0gdGVhbTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKVxuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlYW1Ub0NsYXNzOiAodGlkLCB1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX1RFQU1fVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS90ZWFtcy8ke3RpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRhY2Nlc3M6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKVxuXHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhLnNwZWNpYWxfdHlwZSkge1xuXHRcdFx0XHRcdFx0XHRcdGRiLnJlZihgdGVhbXMvJHt0aWR9L3NwZWNpYWxfdHlwZWApLnNldChjbGFzc0RhdGEuc3BlY2lhbF90eXBlKS50aGVuKChjb25maXJtZWQpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoY2xhc3NEYXRhKTtcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoY2xhc3NEYXRhKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZEluc3RydWN0b3JUb0NsYXNzOiAodWlkLCBjb2RlKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgY2xhc3NEYXRhID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAoY2xhc3NEYXRhKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWVtYmVyTWFwID0gY2xhc3NEYXRhLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdFx0XHRpZiAodWlkIGluIG1lbWJlck1hcCkge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRpc0FscmVhZHlJbnN0cnVjdG9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzRGF0YTogY2xhc3NEYXRhXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX0lOU1RSVUNUT1JfVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzQ29kZTogY29kZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdFx0ZGIucmVmKGBjbGFzc2VzLyR7Y29kZX0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRcdGFjY2VzczogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnaW5zdHJ1Y3RvcicsXG5cdFx0XHRcdFx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpXG5cdFx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGBDb3VsZCBub3QgZmluZCBhIGNsYXNzIHdpdGggY29kZTogJHtjb2RlfS5gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldEluc3RydWN0b3JzQnlDbGFzczogKGNsYXNzQ29kZSkgPT4ge1xuXG5cdFx0fSxcblxuXHRcdGdldFRlYW1Qcm9taXNlczogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRyZXNvbHZlKHZhbCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0b25UZWFtUHJvbWlzZXNDaGFuZ2U6ICh0aWQsIGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodmFsKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdG9uUHJvbWlzZUNoYW5nZTogKHRpZCwgcHJvbWlzZWlkLCBjYWxsYmFjaywgZmFsbGJhY2spID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHt0aWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRjYWxsYmFjayh2YWwpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRpZiAoZmFsbGJhY2spIHtcblx0XHRcdFx0XHRmYWxsYmFjayhlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0Y29tbWVudE9uUHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMudGV4dCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGV4dCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2NvbW1lbnQnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRhdXRob3I6IHBhcmFtcy5hdXRob3IsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0XG5cdFx0XHRcdH0pLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5hdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvciBpZCBnaXZlbicpO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHBheWxvYWQgPSB7XG5cdFx0XHRcdHR5cGU6ICdlZGl0Jyxcblx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH1gKS5wdXNoKHBheWxvYWQpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRsZXQgcHJvbWlzZWlkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdGRiLnJlZihgcHJvbWlzZXMvJHtwYXJhbXMudGlkfS8ke3Byb21pc2VpZH0vcHJvbWlzZWlkYCkuc2V0KHByb21pc2VpZCkudGhlbigoZmluaXNoZWQpID0+IHtcblx0XHRcdFx0XHRcdHBheWxvYWQucHJvbWlzZWlkID0gcHJvbWlzZWlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VpZDogcHJvbWlzZWlkLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiBwYXlsb2FkXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVuc2V0UHJvbWlzZTogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMudGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFwYXJhbXMucHJvbWlzZWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBwcm9taXNlIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7cGFyYW1zLnRpZH0vJHtwYXJhbXMucHJvbWlzZWlkfWApLnJlbW92ZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVQcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgdGlkID0gcGFyYW1zLnRpZCArICcnO1xuXHRcdFx0bGV0IGVkaXREYXRhID0gcGFyYW1zO1xuXHRcdFx0ZGVsZXRlIGVkaXREYXRhLnRpZDtcblx0XHRcdGVkaXREYXRhLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21pc2VzLyR7dGlkfWApLnB1c2goZWRpdERhdGEpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rVG9Qcm9taXNlOiAocGFyYW1zKSA9PiB7XG5cdFx0XHRpZiAoIXBhcmFtcy50aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXBhcmFtcy5wcm9taXNlaWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHByb21pc2UgaWQgZ2l2ZW4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmF1dGhvcikge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gYXV0aG9yIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgaGFzTGlua0lkID0gcGFyYW1zLmxpbmtpZCA/IHRydWUgOiBmYWxzZTtcblx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9YCkucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogJ2xpbmsnLFxuXHRcdFx0XHRcdHByb21pc2VpZDogcGFyYW1zLnByb21pc2VpZCxcblx0XHRcdFx0XHRsaW5raWQ6IHBhcmFtcy5saW5raWQgfHwgZmFsc2UsXG5cdFx0XHRcdFx0YXV0aG9yOiBwYXJhbXMuYXV0aG9yLFxuXHRcdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcblx0XHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSB8fCBmYWxzZSxcblx0XHRcdFx0XHR1cmw6IHBhcmFtcy51cmwgfHwgZmFsc2UsXG5cdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRpZiAoaGFzTGlua0lkKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRvbmUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsZXQgbGlua2lkID0gZG9uZS5wYXRoLmN0WzJdO1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBwcm9taXNlcy8ke3BhcmFtcy50aWR9LyR7bGlua2lkfS9saW5raWRgKS5zZXQobGlua2lkKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVNYXA6IChwYXJhbXMpID0+IHtcblx0XHRcdGlmICghcGFyYW1zLnJvbGUpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHJvbGUgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHJvbGVfbGlicmFyeS8ke3BhcmFtcy5yb2xlfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgcm9sZU1hcCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0aWYgKHJvbGVNYXApIHtcblx0XHRcdFx0XHRcdHJlc29sdmUocm9sZU1hcCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlamVjdChgTm8gcm9sZSBmb3VuZCBmb3I6ICR7cGFyYW1zLnJvbGV9YCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRzYXZlUm9sZU1hcDogKHBhcmFtcykgPT4ge1xuXHRcdFx0aWYgKCFwYXJhbXMucm9sZSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gcm9sZSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghcGFyYW1zLmRhdGEpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHJvbGUgbWFwIGRhdGEgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHJvbGVfbGlicmFyeS8ke3BhcmFtcy5yb2xlfWApLnNldChwYXJhbXMuZGF0YSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdHJlc29sdmUodHJ1ZSk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0QWxsUm9sZU1hcHM6ICgpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgcm9sZV9saWJyYXJ5YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodmFsKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIGRhdGFiYXNlO1xufVxuXG5leHBvcnQge0RhdGFiYXNlfTsiLCJpbXBvcnQge2NvbmZpZ30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHtEYXRhYmFzZX0gZnJvbSAnLi9kYXRhYmFzZSc7XG5pbXBvcnQge1ZpZXdzfSBmcm9tICcuL3ZpZXdzJztcblxubGV0IGRhdGFiYXNlID0gRGF0YWJhc2UoZmlyZWJhc2UsIGNvbmZpZyk7XG5cbmxldCBwYXJhbXMgPSBnZXRRdWVyeVBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO1xubGV0IFJPTEUgPSBwYXJhbXMucm9sZSB8fCBmYWxzZTtcbmxldCBFRElUID0gZmFsc2U7XG5cbmxldCB2aWV3cyA9IFZpZXdzKCk7XG5cbmxldCBsb2dpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbicpO1xubGV0IGZlZWRiYWNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrJyk7XG5sZXQgc2VjdGlvbkxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWN0aW9uLWxvYWRlcicpO1xubGV0IHNlY3Rpb25Sb2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlY3Rpb24tcm9sZScpO1xubGV0IHNlY3Rpb25BbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VjdGlvbi1hbGwnKTtcblxuZGF0YWJhc2UuaW5pdChtYWluLCAoKSA9PiB7XG5cdC8vIE5vIHVzZXIgc2lnbmVkIGluXG5cdGlmIChST0xFKSB7XG5cdFx0d2luZG93LmxvY2F0aW9uID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vbG9naW4uaHRtbD9yZWY9cm9sZWxpYnJhcnkmcm9sZT0ke1JPTEV9YDtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cubG9jYXRpb24gPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9sb2dpbi5odG1sP3JlZj1yb2xlbGlicmFyeWA7XG5cdH1cbn0pO1xuXG5mdW5jdGlvbiBtYWluKHVzZXIpIHtcblxuXHRpZiAoIVJPTEUpIHtcblx0XHQvL3dpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L21lLmh0bWxgO1xuXHRcdGRhdGFiYXNlLmdldEFsbFJvbGVNYXBzKCkudGhlbigobWFwKSA9PiB7XG5cdFx0XHRzZWN0aW9uTG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuXHRcdFx0c2VjdGlvbkFsbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcblx0XHRcdGxldCByb2xlT3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvbGUtb3V0Jyk7XG5cdFx0XHRyb2xlT3V0LmlubmVySFRNTCA9IGBgO1xuXHRcdFx0Zm9yIChsZXQgcmlkIGluIG1hcCkge1xuXHRcdFx0XHRsZXQgZGF0YSA9IG1hcFtyaWRdO1xuXHRcdFx0XHRkYXRhLmlkID0gcmlkO1xuXHRcdFx0XHRsZXQgZGl2ID0gdmlld3MuZ2V0Um9sZU1hcENhcmQoZGF0YSk7XG5cdFx0XHRcdHJvbGVPdXQuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGlmIChwYXJhbXMuY3JlYXRlX3JvbGUpIHtcblx0XHRkYXRhYmFzZS5zYXZlUm9sZU1hcCh7XG5cdFx0XHRyb2xlOiBwYXJhbXMuY3JlYXRlX3JvbGUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGV4aXN0czogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L3JvbGVsaWJyYXJ5Lmh0bWw/cm9sZT0ke3BhcmFtcy5jcmVhdGVfcm9sZX1gO1xuXHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0fVxuXG5cdGNvbnNvbGUubG9nKCdXaGF0IG1ha2VzIHdvcmtpbmcgYXQgT21uaXBvaW50bWVudCBiZXR0ZXIgdGhhbiwgc2F5LCBHb29nbGU/Jyk7XG5cblx0ZmlsbFRleHQoJ2ZpbGwtdXNlci1uYW1lJywgdXNlci5kaXNwbGF5TmFtZSk7XG5cdGZpbGxTcmMoJ2ZpbGwtdXNlci1pbWFnZScsIHVzZXIucGhvdG9VUkwpO1xuXG5cdGxldCBwcm9tZXRoZXVzID0gZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpO1xuXG5cdGZlZWRiYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnV2hhdCBmZWVkYmFjayBkbyB5b3UgaGF2ZSB0byBzaGFyZSB3aXRoIHVzPycsXG5cdFx0XHRjYWxsYmFjazogKGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRcdGlmIChmZWVkYmFjaykge1xuXHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRkYXRhYmFzZS5zYXZlRmVlZGJhY2soZmFsc2UsIHVpZCwgZmVlZGJhY2spLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjaywgaXQgcmVhbGx5IGhlbHBzIHVzIGEgbG90IScpO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHQvKmxldCByb2xlTWFwID0ge1xuXHRcdGxpbmtzOiB7XG5cdFx0XHRhOiB7XG5cdFx0XHRcdHRpdGxlOiBgOTlMaW1lOiBZb3UgT25seSBOZWVkIDEwIEhUTUwgVGFnc2AsXG5cdFx0XHRcdHN0ZXA6IGBhYCxcblx0XHRcdFx0dXJsOiBgaHR0cDovL3d3dy45OWxpbWUuY29tL19iYWsvdG9waWNzL3lvdS1vbmx5LW5lZWQtMTAtdGFncy9gLFxuXHRcdFx0XHR0eXBlOiBgVHV0b3JpYWxgXG5cdFx0XHR9LFxuXHRcdFx0Yjoge1xuXHRcdFx0XHR0aXRsZTogYFczU2Nob29sczogQ1NTIFJlZmVyZW5jZWAsXG5cdFx0XHRcdHN0ZXA6IGBiYCxcblx0XHRcdFx0dXJsOiBgaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS9jc3MvY3NzX2ludHJvLmFzcGAsXG5cdFx0XHRcdHR5cGU6IGBSZWZlcmVuY2VgXG5cdFx0XHR9LFxuXHRcdFx0Yzoge1xuXHRcdFx0XHR0aXRsZTogYE1vemlsbGE6IEludHJvZHVjdGlvbiB0byB0aGUgRE9NYCxcblx0XHRcdFx0c3RlcDogYGNgLFxuXHRcdFx0XHR1cmw6IGBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnRfT2JqZWN0X01vZGVsL0ludHJvZHVjdGlvbmAsXG5cdFx0XHRcdHR5cGU6IGBUdXRvcmlhbGBcblx0XHRcdH0sXG5cdFx0XHRkOiB7XG5cdFx0XHRcdHRpdGxlOiBgVzNTY2hvb2xzOiBFdmVudCBMaXN0ZW5lcnNgLFxuXHRcdFx0XHRzdGVwOiBgZGAsXG5cdFx0XHRcdHVybDogYGh0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vanMvanNfaHRtbGRvbV9ldmVudGxpc3RlbmVyLmFzcGAsXG5cdFx0XHRcdHR5cGU6IGBUdXRvcmlhbGBcblx0XHRcdH0sXG5cdFx0XHRlOiB7XG5cdFx0XHRcdHRpdGxlOiBgTW96aWxsYTogRXZlbnRzIFJlZmVyZW5jZWAsXG5cdFx0XHRcdHN0ZXA6IGBkYCxcblx0XHRcdFx0dXJsOiBgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzYCxcblx0XHRcdFx0dHlwZTogYFJlZmVyZW5jZWBcblx0XHRcdH0sXG5cdFx0XHRmOiB7XG5cdFx0XHRcdHRpdGxlOiBgVzNTY2hvb2xzOiBJbnRyb2R1Y3Rpb24gdG8gdGhlIFczLkNTUyBmcmFtZXdvcmtgLFxuXHRcdFx0XHRzdGVwOiBgZWAsXG5cdFx0XHRcdHVybDogYGh0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vdzNjc3MvZGVmYXVsdC5hc3BgLFxuXHRcdFx0XHR0eXBlOiBgVHV0b3JpYWxgXG5cdFx0XHR9LFxuXHRcdFx0Zzoge1xuXHRcdFx0XHR0aXRsZTogYE1vemlsbGE6IEhvdyB0byBkZWJ1ZyBIVE1MYCxcblx0XHRcdFx0c3RlcDogYGZgLFxuXHRcdFx0XHR1cmw6IGBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0hUTUwvSW50cm9kdWN0aW9uX3RvX0hUTUwvRGVidWdnaW5nX0hUTUxgLFxuXHRcdFx0XHR0eXBlOiBgVHV0b3JpYWxgXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzdGVwczoge1xuXHRcdFx0YToge1xuXHRcdFx0XHR0aXRsZTogJ0ludHJvZHVjdGlvbiB0byBIVE1MJyxcblx0XHRcdFx0b3JkZXI6IDAsXG5cdFx0XHRcdG5vdGU6IGBBcyBhIGZyb250ZW5kIGVuZ2luZWVyLCB5b3Ugd2lsbCB1c2UgSFRNTCB0byBkZXNpZ24gbGF5b3V0cyBhbmQgcGFnZXMgZm9yIHlvdXIgdGVhbSdzIHdlYiBhcHBsaWNhdGlvbi4gWW91IGRvbid0IGhhdmUgdG8gbWVtb3JpemUgSFRNTCB0YWdzOiBzcGVjaWZpY3MgY2FuIGFsd2F5cyBiZSBmb3VuZCBvbmxpbmUhIFRoZSByZXN0IG9mIHlvdXIgdGVhbSBpcyBqdXN0IGdldHRpbmcgc3RhcnRlZCwgc28gZm9jdXMgb24gbGVhcm5pbmcgSFRNTCB0YWdzIHRoYXQgYXJlIHVzZWQgZm9yIHN0cnVjdHVyZSBhbmQgY29udGVudC4gTGF0ZXIsIGVsZW1lbnRzIGxpa2UgZm9ybXMgd2lsbCBjb21lIGludG8gcGxheS5cXG48cD5UbyBsZWFybiBob3cgdG8gZ2l2ZSB5b3VyIHBhZ2VzIHN0cnVjdHVyZSwgY2hlY2sgb3V0IHRoZXNlIDEwIGJhc2ljIEhUTUwgdGFncy5gXG5cdFx0XHR9LFxuXHRcdFx0Yjoge1xuXHRcdFx0XHR0aXRsZTogJ0ludHJvZHVjdGlvbiB0byBDU1MnLFxuXHRcdFx0XHRvcmRlcjogMSxcblx0XHRcdFx0bm90ZTogYFRvIHN0eWxlIHlvdXIgd2ViIGFwcGxpY2F0aW9uLCB5b3Ugd2lsbCB1c2UgQ1NTLiBEb24ndCB3b3JyeSBhYm91dCBtYWtpbmcgdGhlIHdlYiBhcHBsaWNhdGlvbiBsb29rIGJlYXV0aWZ1bCByaWdodCBhd2F5LiBUaGVyZSB3aWxsIGJlIHBsZW50eSBvZiB0aW1lIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGlzIHByb2plY3QgdG8gZXhwZXJpbWVudCB3aXRoIHN0eWxlcy4gQWdhaW4sIG5vIG5lZWQgdG8gbWVtb3JpemU6IHRoZSBXM1NjaG9vbHMgQ1NTIHJlZmVyZW5jZSBpcyBhIHBsYWNlIHlvdSBjYW4gYWx3YXlzIGxvb2sgdG8gZm9yIGhlbHAuXFxuVG8gbGVhcm4gaG93IHRvIGdpdmUgeW91ciBwYWdlcyBzdHlsZSwgZXhwbG9yZSB0aGUgVzNTY2hvb2xzIENTUyByZWZlcmVuY2UuIEF0IGxlYXN0IHJlYWQgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgc2VjdGlvbiBhYm91dCB0aGUgQm94IE1vZGVsLmBcblx0XHRcdH0sXG5cdFx0XHRjOiB7XG5cdFx0XHRcdHRpdGxlOiAnRE9NOiBUaGUgRG9jdW1lbnQgT2JqZWN0IE1vZGVsJyxcblx0XHRcdFx0b3JkZXI6IDIsXG5cdFx0XHRcdG5vdGU6IGBXaXRoIEhUTUwsIHlvdSBjYW4gY3JlYXRlIGxheW91dHMsIHdpdGggQ1NTIHlvdSBjYW4gc3R5bGUgdGhlbS4gSmF2YVNjcmlwdCB3aWxsIGFsbG93IHlvdSB0byBpbnRlcmFjdCB3aXRoIHlvdXIgcGFnZXMuIFRvIGhlbHAgb3V0IHlvdXIgdGVhbSdzIGFwcGxpY2F0aW9uIGVuZ2luZWVyLCB5b3Ugd2lsbCBuZWVkIHRvIGdldCBpbmZvcm1hdGlvbiBmcm9tIHBhZ2UgZm9ybXMgYW5kIGRpc3BsYXkgbmV3IGNvbnRlbnQgdGhhdCB0aGUgYXBwbGljYXRpb24gY29kZSBnaXZlcyB5b3UuIFRoZSBEb2N1bWVudCBPYmplY3QgTW9kZWwgKERPTSkgbWFrZXMgdGhpcyBlYXN5LlxcblRvIG1ha2UgeW91ciBwYWdlcyBtb3JlIHRoYW4ganVzdCBmaXhlZCBjb250ZW50LCBsZWFybiBhYm91dCB0aGUgRE9NLmBcblx0XHRcdH0sXG5cdFx0XHRkOiB7XG5cdFx0XHRcdHRpdGxlOiBgSmF2YVNjcmlwdDogRXZlbnQgTGlzdGVuZXJzYCxcblx0XHRcdFx0b3JkZXI6IDMsXG5cdFx0XHRcdG5vdGU6IGBUaGUgYXBwbGljYXRpb24gZW5naW5lZXIgb24geW91ciB0ZWFtIHdpbGwgd2FudCB1c2VyIGFjdGlvbnMgbGlrZSBjbGlja3MgYW5kIGhvdmVycyB0byB0cmlnZ2VyIGNlcnRhaW4gcGFydHMgb2YgdGhlaXIgY29kZS4gRXZlbnQgbGlzdGVuZXJzIGFyZSB0aGUgd2F5IHlvdXIgZnJvbnRlbmQgd29yayBob29rcyB1cCB3aXRoIHRoZSBhcHBsaWNhdGlvbiBsYXllciEgSWYgeW91IGRvIG5vIG90aGVyIEphdmFTY3JpcHQgaW4gdGhpcyBwcm9qZWN0LCBtYWtlIHN1cmUgeW91IG1hc3RlciBldmVudCBsaXN0ZW5lcnMuXFxuVG8gaW50ZWdyYXRlIGJldHRlciB3aXRoIHlvdXIgYXBwbGljYXRpb24gY29kZSwgbGVhcm4gdGhlIGJhc2ljcyBvZiBldmVudCBsaXN0ZW5lcnMuYFxuXHRcdFx0fSxcblx0XHRcdGU6IHtcblx0XHRcdFx0dGl0bGU6IGBDU1MgRnJhbWV3b3JrOiBXMy5DU1NgLFxuXHRcdFx0XHRvcmRlcjogNCxcblx0XHRcdFx0bm90ZTogYEFzIGEgZnJvbnRlbmQgZW5naW5lZXIsIHlvdSBhcmUgbm90IGV4cGVjdGVkIHRvIHdyaXRlIGFsbCBvZiB0aGUgc3R5bGluZyBmb3IgeW91ciB3ZWIgYXBwIGZyb20gc2NyYXRjaC4gTWFueSBwcm9mZXNzaW9uYWwgdGVhbXMgdXNlIGEgQ1NTIGZyYW1ld29yaywgd2hpY2ggcHJvdmlkZXMgcmV1c2FibGUgY2xhc3NlcyBmb3IgZm9ybWF0dGluZyB0aGUgbGF5b3V0IG9mIGEgcGFnZS5cXG5UbyBzYXZlIGRldmVsb3BtZW50IHRpbWUsIGxlYXJuIFczLkNTUzogYSBzaW1wbGUgQ1NTIGZyYW1ld29yayBmb3IgcmVzcG9uc2l2ZSB3ZWJzaXRlcy4gSWYgeW91IGFyZSBjdXJpb3VzLCB5b3UgY2FuIGNoZWNrIG91dCBvdGhlciBDU1MgZnJhbWV3b3JrcyBsaWtlIEJvb3RzdHJhcCwgQnVsbWEsIG9yIFNlbWFudGljIFVJLmBcblx0XHRcdH0sXG5cdFx0XHRmOiB7XG5cdFx0XHRcdHRpdGxlOiBgRGVidWdnaW5nIEhUTUxgLFxuXHRcdFx0XHRvcmRlcjogNSxcblx0XHRcdFx0bm90ZTogYFNvbWV0aW1lcyB5b3VyIHBhZ2VzIHdpbGwgZGlzcGxheSBjb250ZW50IGluIGFuIHVuZXhwZWN0ZWQgd2F5LCBvciB5b3UnbGwgYmUgc3R1Y2sgdHJ5aW5nIHRvIGdldCBhbiBlbGVtZW50IHN0eWxlZCBqdXN0IHJpZ2h0LiBUaGVzZSBzaXR1YXRpb25zIGhhcHBlbiB0byBldmVuIHRoZSBiZXN0IGZyb250ZW5kIGVuZ2luZWVycy4gRXZlcnkgZW5naW5lZXIgb24gdGhpcyB0ZWFtIG11c3QgbGVhcm4gaG93IHRvIG92ZXJjb21lIHRyaWNreSBidWdzOiBmcm9udGVuZCBlbmdpbmVlciBpcyBubyBkaWZmZXJlbnQhXFxuVG8gZGVhbCB3aXRoIHBhZ2VzIHRoYXQgZG9uJ3Qgc2VlbSB0byBiZSB3b3JraW5nIGNvcnJlY3RseSwgbGVhcm4gaG93IHRvIGRlYnVnIEhUTUwuYFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aW1wb3J0YW5jZTogYFRha2VzIG93bmVyc2hpcCBvZiBpbnRlcmZhY2UgYW5kIGV4cGVyaWVuY2UgZGVzaWduXFxuSG9va3MgdXAgYXBwbGljYXRpb24gY29kZSB0byB0aGUgc2l0ZS5cXG5IZWxwcyBRQSBlbmdpbmVlciB1bmRlcnN0YW5kIHRoZSB3ZWJwYWdlIHN0cnVjdHVyZS5gLFxuXHRcdGNvZGViYXNlOiAnQ3JlYXRlIEhUTUwgcGFnZXMgaW4gYC8ocm9vdClgXFxuQ3JlYXRlIENTUyBzdHlsZXMgaW4gYC9wdWJsaWMvY3NzYFxcbkNvbnRyaWJ1dGUgdG8gSlMgaW4gYC9wdWJsaWMvanNgJyxcblx0XHR0aXRsZTogYEZyb250ZW5kIERlc2lnbmVyYCxcblx0XHRpY29uOiBgZGVza3RvcGAsXG5cdFx0ZGVzY3JpcHRpb246IGBEZXNpZ24gdGhlIGludGVyZmFjZSBmb3IgeW91ciB0ZWFtJ3Mgd2ViIGFwcGxpY2F0aW9uIGFuZCBob29rIHVwIHRvIHRoZSBhcHBsaWNhdGlvbiBjb2RlLmBcblx0fTsqL1xuXG5cdGlmIChST0xFKSB7XG5cdFx0aW5pdFJvbGVWaWV3ZXIoUk9MRSwgdXNlcik7XG5cdH1cblxuXHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuc2F2ZSh7XG5cdFx0dHlwZTogJ1JPTEVfTElCUkFSWScsXG5cdFx0cm9sZTogUk9MRVxuXHR9KTtcblxufVxuXG5mdW5jdGlvbiBpbml0Um9sZVZpZXdlcihST0xFLCB1c2VyKSB7XG5cblx0ZGF0YWJhc2UuZ2V0Um9sZU1hcCh7XG5cdFx0cm9sZTogUk9MRVxuXHR9KS50aGVuKChkYXRhTWFwKSA9PiB7XG5cblx0XHRzZWN0aW9uTG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuXHRcdHNlY3Rpb25Sb2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xuXG5cdFx0bGV0IHJvbGVNYXAgPSBnZXREZWZhdWx0Um9sZU1hcChkYXRhTWFwKTtcblxuXHRcdGxldCBlZGl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1lZGl0Jyk7XG5cdFx0bGV0IGFkZE1vZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtbW9kdWxlJyk7XG5cblx0XHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuY2FuKCdjb250cmlidXRvcicsIChkYXRhKSA9PiB7XG5cdFx0XHRlZGl0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xuXHRcdH0pO1xuXG5cdFx0bGV0IGRpdk5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9sZS1uYW1lJyk7XG5cdFx0bGV0IGVkaXROYW1lID0gKGUpID0+IHtcblx0XHRcdGlmIChFRElUKSB7XG5cdFx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0XHRtZXNzYWdlOiAnRWRpdCBUaXRsZScsXG5cdFx0XHRcdFx0dmFsdWU6IHJvbGVNYXAudGl0bGUsXG5cdFx0XHRcdFx0Y2FsbGJhY2s6IChyZXMpID0+IHtcblx0XHRcdFx0XHRcdGRpdk5hbWUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0TmFtZSk7XG5cdFx0XHRcdFx0XHRpZiAocmVzKSB7XG5cdFx0XHRcdFx0XHRcdHJvbGVNYXAudGl0bGUgPSByZXM7XG5cdFx0XHRcdFx0XHRcdG1haW5UYWIodXNlciwgcm9sZU1hcCwgRURJVCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZGl2TmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXROYW1lKTtcblxuXHRcdGxldCBkaXZJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvbGUtaWNvbicpO1xuXHRcdGxldCBlZGl0SWNvbiA9IChlKSA9PiB7XG5cdFx0XHRpZiAoRURJVCkge1xuXHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0bWVzc2FnZTogJ0VkaXQgSWNvbicsXG5cdFx0XHRcdFx0dmFsdWU6IHJvbGVNYXAuaWNvbixcblx0XHRcdFx0XHRjYWxsYmFjazogKHJlcykgPT4ge1xuXHRcdFx0XHRcdFx0ZGl2SWNvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXRJY29uKTtcblx0XHRcdFx0XHRcdGlmIChyZXMpIHtcblx0XHRcdFx0XHRcdFx0cm9sZU1hcC5pY29uID0gcmVzO1xuXHRcdFx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIEVESVQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGRpdkljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0SWNvbik7XG5cblx0XHRsZXQgZGl2RGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb2xlLWRlc2MnKTtcblx0XHRsZXQgZWRpdERlc2MgPSAoZSkgPT4ge1xuXHRcdFx0aWYgKEVESVQpIHtcblx0XHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRcdG1lc3NhZ2U6ICdFZGl0IERlc2NyaXB0aW9uJyxcblx0XHRcdFx0XHR2YWx1ZTogcm9sZU1hcC5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRjYWxsYmFjazogKHJlcykgPT4ge1xuXHRcdFx0XHRcdFx0ZGl2RGVzYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXREZXNjKTtcblx0XHRcdFx0XHRcdGlmIChyZXMpIHtcblx0XHRcdFx0XHRcdFx0cm9sZU1hcC5kZXNjcmlwdGlvbiA9IHJlcztcblx0XHRcdFx0XHRcdFx0bWFpblRhYih1c2VyLCByb2xlTWFwLCBFRElUKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRkaXZEZXNjLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdERlc2MpO1xuXG5cdFx0bGV0IGFkZE1vZEZuID0gKGUpID0+IHtcblx0XHRcdGlmIChFRElUKSB7XG5cdFx0XHRcdC8vYWRkTW9kQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTW9kRm4pO1xuXHRcdFx0XHRsZXQgc2l6ZSA9IE9iamVjdC5rZXlzKHJvbGVNYXAuc3RlcHMpLmxlbmd0aCAtIDE7XG5cdFx0XHRcdGxldCBuZXdzdGVwaWQgPSBgc3RlcC0ke3NpemV9YDtcblx0XHRcdFx0cm9sZU1hcC5zdGVwc1tuZXdzdGVwaWRdID0ge1xuXHRcdFx0XHRcdHRpdGxlOiAnVW50aXRsZWQgTW9kdWxlJyxcblx0XHRcdFx0XHRvcmRlcjogc2l6ZSxcblx0XHRcdFx0XHRub3RlOiBgLi4uYFxuXHRcdFx0XHR9XG5cdFx0XHRcdG1haW5UYWIodXNlciwgcm9sZU1hcCwgRURJVCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGFkZE1vZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE1vZEZuKTtcblxuXHRcdGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0RURJVCA9ICFFRElUO1xuXHRcdFx0aWYgKEVESVQpIHtcblx0XHRcdFx0ZWRpdEJ0bi5pbm5lclRleHQgPSAnUHVibGlzaCBSb2xlJztcblx0XHRcdFx0ZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdpcy1zdWNjZXNzJyk7XG5cdFx0XHRcdGVkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtd2FybmluZycpO1xuXHRcdFx0XHRhZGRNb2RCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG5cdFx0XHRcdG1haW5UYWIodXNlciwgcm9sZU1hcCwgRURJVCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlZGl0QnRuLmlubmVyVGV4dCA9ICdFZGl0IFJvbGUnO1xuXHRcdFx0XHRlZGl0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXN1Y2Nlc3MnKTtcblx0XHRcdFx0ZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdpcy13YXJuaW5nJyk7XG5cdFx0XHRcdGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdFx0XHRhZGRNb2RCdG4uY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG5cdFx0XHRcdGRhdGFiYXNlLnNhdmVSb2xlTWFwKHtcblx0XHRcdFx0XHRyb2xlOiBST0xFLFxuXHRcdFx0XHRcdGRhdGE6IHJvbGVNYXBcblx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoYFNhdmVkIFJvbGU6ICR7cm9sZU1hcC50aXRsZX1gKTtcblx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIEVESVQpO1xuXHRcdFx0XHRcdGVkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuXHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAoRURJVCkge1xuXHRcdFx0ZWRpdEJ0bi5pbm5lclRleHQgPSAnUHVibGlzaCBSb2xlJztcblx0XHRcdGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnaXMtc3VjY2VzcycpO1xuXHRcdFx0ZWRpdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy13YXJuaW5nJyk7XG5cdFx0XHRhZGRNb2RCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVkaXRCdG4uaW5uZXJUZXh0ID0gJ0VkaXQgUm9sZSc7XG5cdFx0XHRlZGl0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXN1Y2Nlc3MnKTtcblx0XHRcdGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnaXMtd2FybmluZycpO1xuXHRcdFx0YWRkTW9kQnRuLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuXHRcdH1cblx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIEVESVQpO1xuXG5cdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XG59XG5cbmZ1bmN0aW9uIG1haW5UYWIodXNlciwgcm9sZU1hcCwgZWRpdGFibGUpIHtcblxuXHRsZXQgcm9sZURhdGEgPSB0cmFuc2Zvcm1Sb2xlRGF0YShyb2xlTWFwKTtcblxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9sZS1uYW1lJykuaW5uZXJUZXh0ID0gcm9sZURhdGEudGl0bGU7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb2xlLWljb24nKS5jbGFzc0xpc3QuYWRkKGBmYS0ke3JvbGVEYXRhLmljb259YCk7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb2xlLWRlc2MnKS5pbm5lclRleHQgPSByb2xlRGF0YS5kZXNjcmlwdGlvbjtcblxuXHRsZXQgY2FyZE91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLW91dCcpO1xuXHRjYXJkT3V0LmlubmVySFRNTCA9IGBgO1xuXHRyb2xlRGF0YS5zdGVwcy5tYXAoKG1vZGVsKSA9PiB7XG5cdFx0bW9kZWwuZWRpdGFibGUgPSBlZGl0YWJsZTtcblx0XHRtb2RlbC5pc09wZW4gPSBlZGl0YWJsZTtcblx0XHRyZXR1cm4gbW9kZWw7XG5cdH0pLm1hcCgobW9kZWwpID0+IHZpZXdzLmdldFJvbGVTdGVwQ2FyZChtb2RlbCkpLmZvckVhY2goKGRpdikgPT4ge1xuXHRcdGNhcmRPdXQuYXBwZW5kQ2hpbGQoZGl2KTtcblx0fSk7XG5cblx0bGV0IGRldGFpbHNPdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGV0YWlscy1vdXQnKTtcblx0ZGV0YWlsc091dC5pbm5lckhUTUwgPSBgYDtcblxuXHRsZXQgaW1wb3J0YW5jZVZpZXcgPSB2aWV3cy5nZXRMaXN0Q2FyZCh7XG5cdFx0dGl0bGU6ICdJbXBvcnRhbmNlIHRvIFRlYW0nLFxuXHRcdGZpZWxkOiAnaW1wb3J0YW5jZScsXG5cdFx0cHM6IHJvbGVEYXRhLmltcG9ydGFuY2UsXG5cdFx0ZWRpdGFibGU6IGVkaXRhYmxlXG5cdH0pO1xuXHRkZXRhaWxzT3V0LmFwcGVuZENoaWxkKGltcG9ydGFuY2VWaWV3KTtcblxuXHRsZXQgY29kZWJhc2VWaWV3ID0gdmlld3MuZ2V0TGlzdENhcmQoe1xuXHRcdHRpdGxlOiAnUm9sZSBpbiBDb2RlYmFzZScsXG5cdFx0ZmllbGQ6ICdjb2RlYmFzZScsXG5cdFx0cHM6IHJvbGVEYXRhLmNvZGViYXNlLFxuXHRcdGhhc0NvZGU6IHRydWUsXG5cdFx0ZWRpdGFibGU6IGVkaXRhYmxlXG5cdH0pO1xuXHRkZXRhaWxzT3V0LmFwcGVuZENoaWxkKGNvZGViYXNlVmlldyk7XG5cblx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY29sbGFwc2libGVdJykpLmZvckVhY2goKGRpdikgPT4ge1xuXHRcdGRpdi5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZS1oZWFkZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRpZiAoZGl2LmNsYXNzTGlzdC5jb250YWlucygnaXMtY29sbGFwc2VkJykpIHtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWNvbGxhcHNlZCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLWNvbGxhcHNlZCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGRpdi5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZS1ib2R5IGJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0bWVzc2FnZTogJ1doYXQgZGlkIHlvdSBsZWFybj8nLFxuXHRcdFx0XHRjYWxsYmFjazogKGRhdGEpID0+IHtcblx0XHRcdFx0XHRpZiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0bGV0IHN0ZXAgPSBkaXYuZGF0YXNldC5zdGVwO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYCR7dXNlci51aWR9IGxlYXJuZWQ6ICR7ZGF0YX1gKTtcblx0XHRcdFx0XHRcdGRhdGFiYXNlLmdldERCKCkucmVmKGByb2xlX2Jyb3dzaW5nYCkucHVzaCh7XG5cdFx0XHRcdFx0XHRcdHVpZDogdXNlci51aWQsXG5cdFx0XHRcdFx0XHRcdHJvbGU6IFJPTEUsXG5cdFx0XHRcdFx0XHRcdHN0ZXA6IHN0ZXAsXG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdsZWFybmluZycsXG5cdFx0XHRcdFx0XHRcdGxlYXJuZWQ6IGRhdGEsXG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChkYXRhICYmIGRpdi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLXByaW1hcnknKSkge1xuXHRcdFx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXByaW1hcnknKTtcblx0XHRcdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy1zdWNjZXNzJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSk7XG5cblx0aWYgKCFlZGl0YWJsZSkge1xuXHRcdEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGlua2lkXScpKS5mb3JFYWNoKChsaW5rKSA9PiB7XG5cdFx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0bGV0IGxpbmtpZCA9IGxpbmsuZGF0YXNldC5saW5raWQ7XG5cdFx0XHRcdGxldCBzdGVwID0gbGluay5kYXRhc2V0LnN0ZXA7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAke3VzZXIudWlkfSBjbGlja2VkOiAke2xpbmtpZH1gKTtcblx0XHRcdFx0ZGF0YWJhc2UuZ2V0REIoKS5yZWYoYHJvbGVfYnJvd3NpbmdgKS5wdXNoKHtcblx0XHRcdFx0XHR1aWQ6IHVzZXIudWlkLFxuXHRcdFx0XHRcdHJvbGU6IFJPTEUsXG5cdFx0XHRcdFx0c3RlcDogc3RlcCxcblx0XHRcdFx0XHR0eXBlOiAnbGluaycsXG5cdFx0XHRcdFx0bGlua2lkOiBsaW5raWQsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFjdGlvbl0nKSkuZm9yRWFjaCgoZGl2KSA9PiB7XG5cdFx0Ly9jb25zb2xlLmxvZyhkaXYuZGF0YXNldC5hY3Rpb24sIGRpdi5kYXRhc2V0KTtcblx0XHRkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0bGV0IGFjdGlvbiA9IGRpdi5kYXRhc2V0LmFjdGlvbjtcblx0XHRcdGxldCBzdGVwID0gZmFsc2U7XG5cdFx0XHRsZXQgbGlua2lkID0gZmFsc2U7XG5cdFx0XHRsZXQgb3JkZXIgPSAwO1xuXHRcdFx0bGV0IGlkeCA9IC0xO1xuXHRcdFx0bGV0IGZpZWxkID0gZmFsc2U7XG5cdFx0XHRzd2l0Y2ggKGFjdGlvbikge1xuXHRcdFx0XHRjYXNlICdzYXZlLW5vdGUnOlxuXHRcdFx0XHRcdHN0ZXAgPSBkaXYuZGF0YXNldC5zdGVwO1xuXHRcdFx0XHRcdGZpZWxkID0gY2FyZE91dC5xdWVyeVNlbGVjdG9yKGAuc3RlcC1ub3RlW2RhdGEtc3RlcD1cIiR7c3RlcH1cIl1gKTtcblx0XHRcdFx0XHRyb2xlTWFwLnN0ZXBzW3N0ZXBdLm5vdGUgPSBmaWVsZC5pbm5lclRleHQ7XG5cdFx0XHRcdFx0bWFpblRhYih1c2VyLCByb2xlTWFwLCBlZGl0YWJsZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2VkaXQtbmFtZSc6XG5cdFx0XHRcdFx0c3RlcCA9IGRpdi5kYXRhc2V0LnN0ZXA7XG5cdFx0XHRcdFx0bGV0IHN0ZXBEYXRhID0gcm9sZU1hcC5zdGVwc1tzdGVwXTtcblx0XHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0XHRtZXNzYWdlOiAnUmVuYW1lIE1vZHVsZScsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc3RlcERhdGEudGl0bGUsXG5cdFx0XHRcdFx0XHRjYWxsYmFjazogKHRpdGxlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aXRsZSkge1xuXHRcdFx0XHRcdFx0XHRcdHJvbGVNYXAuc3RlcHNbc3RlcF0udGl0bGUgPSB0aXRsZTtcblx0XHRcdFx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIGVkaXRhYmxlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdzYXZlLWltcG9ydGFuY2UnOlxuXHRcdFx0XHRcdGZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGV4dGFyZWE9XCJnZXQtaW1wb3J0YW5jZVwiXWApO1xuXHRcdFx0XHRcdHJvbGVNYXAuaW1wb3J0YW5jZSA9IGZpZWxkLmlubmVyVGV4dDtcblx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIGVkaXRhYmxlKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnc2F2ZS1jb2RlYmFzZSc6XG5cdFx0XHRcdFx0ZmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10ZXh0YXJlYT1cImdldC1jb2RlYmFzZVwiXWApO1xuXHRcdFx0XHRcdHJvbGVNYXAuY29kZWJhc2UgPSBmaWVsZC5pbm5lclRleHQ7XG5cdFx0XHRcdFx0bWFpblRhYih1c2VyLCByb2xlTWFwLCBlZGl0YWJsZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2FkZC1zdGVwLWxpbmsnOlxuXHRcdFx0XHRcdHN0ZXAgPSBkaXYuZGF0YXNldC5zdGVwO1xuXHRcdFx0XHRcdGxldCBzaXplID0gT2JqZWN0LmtleXMocm9sZU1hcC5saW5rcykubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRsZXQgbmV3bGlua2lkID0gYGxpbmske3NpemUgKyAxfWA7XG5cdFx0XHRcdFx0Z2V0U3RlcExpbmtEZXRhaWxzKHtcblx0XHRcdFx0XHRcdHN0ZXA6IHN0ZXBcblx0XHRcdFx0XHR9LCAocmVzKSA9PiB7XG5cdFx0XHRcdFx0XHRyb2xlTWFwLmxpbmtzW25ld2xpbmtpZF0gPSB7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiByZXMudGl0bGUsXG5cdFx0XHRcdFx0XHRcdHN0ZXA6IHJlcy5zdGVwLFxuXHRcdFx0XHRcdFx0XHR1cmw6IHJlcy51cmwsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IHJlcy50eXBlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIGVkaXRhYmxlKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnbW92ZS1zdGVwLXVwJzpcblx0XHRcdFx0XHRzdGVwID0gZGl2LmRhdGFzZXQuc3RlcDtcblx0XHRcdFx0XHRvcmRlciA9IHJvbGVNYXAuc3RlcHNbc3RlcF0ub3JkZXI7XG5cdFx0XHRcdFx0aWR4ID0gLTE7XG5cdFx0XHRcdFx0cm9sZURhdGEuc3RlcHMuZm9yRWFjaCgocywgaSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHMub3JkZXIgPT09IG9yZGVyKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bGV0IHN3YXAgPSByb2xlRGF0YS5zdGVwc1tpZHggLSAxXTtcblx0XHRcdFx0XHRpZiAoc3dhcCkge1xuXHRcdFx0XHRcdFx0bGV0IHN3aXRjaFdpdGggPSBzd2FwLmlkO1xuXHRcdFx0XHRcdFx0cm9sZU1hcC5zdGVwc1tzd2l0Y2hXaXRoXS5vcmRlciA9IG9yZGVyO1xuXHRcdFx0XHRcdFx0cm9sZU1hcC5zdGVwc1tzdGVwXS5vcmRlciA9IG9yZGVyIC0gMTtcblx0XHRcdFx0XHRcdG1haW5UYWIodXNlciwgcm9sZU1hcCwgZWRpdGFibGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnbW92ZS1zdGVwLWRvd24nOlxuXHRcdFx0XHRcdHN0ZXAgPSBkaXYuZGF0YXNldC5zdGVwO1xuXHRcdFx0XHRcdG9yZGVyID0gcm9sZU1hcC5zdGVwc1tzdGVwXS5vcmRlcjtcblx0XHRcdFx0XHRpZHggPSAtMTtcblx0XHRcdFx0XHRyb2xlRGF0YS5zdGVwcy5mb3JFYWNoKChzLCBpKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAocy5vcmRlciA9PT0gb3JkZXIpIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAob3JkZXIgPCAoT2JqZWN0LmtleXMocm9sZU1hcC5zdGVwcykubGVuZ3RoIC0gMSkpIHtcblx0XHRcdFx0XHRcdGxldCB0YXJnZXQgPSByb2xlRGF0YS5zdGVwc1tpZHggKyAxXTtcblx0XHRcdFx0XHRcdGlmICh0YXJnZXQpIHtcblx0XHRcdFx0XHRcdFx0c3dpdGNoV2l0aCA9IHRhcmdldC5pZDtcblx0XHRcdFx0XHRcdFx0cm9sZU1hcC5zdGVwc1tzd2l0Y2hXaXRoXS5vcmRlciA9IG9yZGVyO1xuXHRcdFx0XHRcdFx0XHRyb2xlTWFwLnN0ZXBzW3N0ZXBdLm9yZGVyID0gb3JkZXIgKyAxO1xuXHRcdFx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIGVkaXRhYmxlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2VkaXQtbGluayc6XG5cdFx0XHRcdFx0bGlua2lkID0gZGl2LmRhdGFzZXQubGluaztcblx0XHRcdFx0XHRsZXQgb2dMaW5rID0gcm9sZU1hcC5saW5rc1tsaW5raWRdO1xuXHRcdFx0XHRcdHN0ZXAgPSBvZ0xpbmsuc3RlcDtcblx0XHRcdFx0XHRnZXRTdGVwTGlua0RldGFpbHMob2dMaW5rLCAocmVzKSA9PiB7XG5cdFx0XHRcdFx0XHRyb2xlTWFwLmxpbmtzW2xpbmtpZF0gPSB7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiByZXMudGl0bGUsXG5cdFx0XHRcdFx0XHRcdHN0ZXA6IHJlcy5zdGVwLFxuXHRcdFx0XHRcdFx0XHR1cmw6IHJlcy51cmwsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IHJlcy50eXBlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYWluVGFiKHVzZXIsIHJvbGVNYXAsIGVkaXRhYmxlKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAncmVtb3ZlLWxpbmsnOlxuXHRcdFx0XHRcdGxpbmtpZCA9IGRpdi5kYXRhc2V0Lmxpbms7XG5cdFx0XHRcdFx0cm9sZU1hcC5saW5rc1tsaW5raWRdLnJlbW92ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdG1haW5UYWIodXNlciwgcm9sZU1hcCwgZWRpdGFibGUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGFjdGlvbiwgZGl2LmRhdGFzZXQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxufVxuXG5mdW5jdGlvbiByZXBvcnRFcnJvclRvVXNlcihlcnIpIHtcblx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHR2ZXguZGlhbG9nLmFsZXJ0KGVyciArICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocXMpIHtcblx0cXMgPSBxcy5zcGxpdCgnKycpLmpvaW4oJyAnKTtcblx0dmFyIHBhcmFtcyA9IHt9LFxuXHRcdHRva2Vucyxcblx0XHRyZSA9IC9bPyZdPyhbXj1dKyk9KFteJl0qKS9nO1xuXHR3aGlsZSAodG9rZW5zID0gcmUuZXhlYyhxcykpIHtcblx0XHRwYXJhbXNbZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1sxXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1syXSk7XG5cdH1cblx0cmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gZmlsbFRleHQoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLmlubmVyVGV4dCA9IHRleHQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gZmlsbFNyYyhjbGFzc05hbWUsIHRleHQpIHtcblx0bGV0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuXHRmb3IgKGxldCBzID0gMDsgcyA8IHNwYW5zLmxlbmd0aDsgcysrKSB7XG5cdFx0c3BhbnNbc10uc3JjID0gdGV4dDtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0Um9sZU1hcChyb2xlTWFwKSB7XG5cdC8vIFNldCBkZWZhdWx0c1xuXHRyb2xlTWFwLmxpbmtzID0gcm9sZU1hcC5saW5rcyB8fCB7fTtcblx0cm9sZU1hcC5zdGVwcyA9IHJvbGVNYXAuc3RlcHMgfHwge307XG5cdHJvbGVNYXAudGl0bGUgPSByb2xlTWFwLnRpdGxlIHx8ICdVbnRpdGxlZCBSb2xlJztcblx0cm9sZU1hcC5kZXNjcmlwdGlvbiA9IHJvbGVNYXAuZGVzY3JpcHRpb24gfHwgJ0VkaXQuLi4nO1xuXHRyb2xlTWFwLmljb24gPSByb2xlTWFwLmljb24gfHwgJ3VzZXInO1xuXHRyb2xlTWFwLmltcG9ydGFuY2UgPSByb2xlTWFwLmltcG9ydGFuY2UgfHwgJ0VkaXQuLi4nO1xuXHRyb2xlTWFwLmNvZGViYXNlID0gcm9sZU1hcC5jb2RlYmFzZSB8fCAnRWRpdC4uLic7XG5cdHJldHVybiByb2xlTWFwO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Sb2xlRGF0YSh0aGlzTWFwKSB7XG5cdGxldCBpbk1hcCA9IGdldERlZmF1bHRSb2xlTWFwKHRoaXNNYXApO1xuXHRsZXQgcm9sZU1hcCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5NYXApKTtcblx0Ly8gU3RhcnQgdHJhbnNmb3JtYXRpb25cblx0bGV0IHJvbGVEYXRhID0ge307XG5cdHJvbGVEYXRhLmltcG9ydGFuY2UgPSByb2xlTWFwLmltcG9ydGFuY2Uuc3BsaXQoJ1xcbicpO1xuXHRyb2xlRGF0YS5jb2RlYmFzZSA9IHJvbGVNYXAuY29kZWJhc2Uuc3BsaXQoJ1xcbicpO1xuXHRyb2xlRGF0YS5zdGVwcyA9IHt9O1xuXHRmb3IgKGxldCBzdGVwaWQgaW4gcm9sZU1hcC5zdGVwcykge1xuXHRcdHJvbGVEYXRhLnN0ZXBzW3N0ZXBpZF0gPSByb2xlTWFwLnN0ZXBzW3N0ZXBpZF07XG5cdH1cblx0Zm9yIChsZXQgbGlua2lkIGluIHJvbGVNYXAubGlua3MpIHtcblx0XHRsZXQgZGF0YSA9IHJvbGVNYXAubGlua3NbbGlua2lkXTtcblx0XHRkYXRhLmlkID0gbGlua2lkO1xuXHRcdGlmICghcm9sZURhdGEuc3RlcHNbZGF0YS5zdGVwXS5saW5rcykge1xuXHRcdFx0cm9sZURhdGEuc3RlcHNbZGF0YS5zdGVwXS5saW5rcyA9IHt9O1xuXHRcdH1cblx0XHRyb2xlRGF0YS5zdGVwc1tkYXRhLnN0ZXBdLmxpbmtzW2xpbmtpZF0gPSBkYXRhO1xuXHR9XG5cdGxldCBsaXN0ID0gT2JqZWN0LmtleXMocm9sZURhdGEuc3RlcHMpLm1hcCgoa2V5KSA9PiB7XG5cdFx0bGV0IHN0ZXBEYXRhID0gcm9sZURhdGEuc3RlcHNba2V5XTtcblx0XHRzdGVwRGF0YS5pZCA9IGtleTtcblx0XHRpZiAoIXN0ZXBEYXRhLmxpbmtzKSB7XG5cdFx0XHRzdGVwRGF0YS5saW5rcyA9IHt9O1xuXHRcdH1cblx0XHRsZXQgbGlua0xpc3QgPSBPYmplY3Qua2V5cyhzdGVwRGF0YS5saW5rcykubWFwKChsaW5rS2V5KSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RlcERhdGEubGlua3NbbGlua0tleV07XG5cdFx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0cmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuXHRcdH0pLmZpbHRlcigobCkgPT4ge1xuXHRcdFx0cmV0dXJuICFsLnJlbW92ZWQ7XG5cdFx0fSk7XG5cdFx0c3RlcERhdGEucHMgPSBzdGVwRGF0YS5ub3RlLnNwbGl0KCdcXG4nKTtcblx0XHRzdGVwRGF0YS5saW5rcyA9IGxpbmtMaXN0O1xuXHRcdHJldHVybiBzdGVwRGF0YTtcblx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcblx0fSk7XG5cdHJvbGVEYXRhLnN0ZXBzID0gbGlzdDtcblx0cm9sZURhdGEudGl0bGUgPSByb2xlTWFwLnRpdGxlO1xuXHRyb2xlRGF0YS5kZXNjcmlwdGlvbiA9IHJvbGVNYXAuZGVzY3JpcHRpb247XG5cdHJvbGVEYXRhLmljb24gPSByb2xlTWFwLmljb247XG5cdHJldHVybiByb2xlRGF0YTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RlcExpbmtEZXRhaWxzKGRhdGEsIGNhbGxiYWNrKSB7XG5cdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRtZXNzYWdlOiAnTGluayBVUkwnLFxuXHRcdHZhbHVlOiBkYXRhLnVybCxcblx0XHRjYWxsYmFjazogKHVybCkgPT4ge1xuXHRcdFx0aWYgKHVybCkge1xuXHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0bWVzc2FnZTogJ0xpbmsgVGl0bGUnLFxuXHRcdFx0XHRcdHZhbHVlOiBkYXRhLnRpdGxlLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiAodGl0bGUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aXRsZSkge1xuXHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZTogJ0xpbmsgVHlwZScsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGRhdGEudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjazogKHR5cGUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGVwOiBkYXRhLnN0ZXAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU6IHRpdGxlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IHR5cGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cblxuXG5cblxuIiwibGV0IFZpZXdzID0gKCkgPT4ge1xuXG5cdGxldCB2aWV3cyA9IHtcblxuXHRcdGdldFJvbGVBbmRVcGRhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBwb3N0ZWQgPSBuZXcgRGF0ZShtb2RlbC50aW1lc3RhbXApO1xuXHRcdFx0bGV0IGRhdGVGb3JtYXQgPSBtb21lbnQocG9zdGVkKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTtcblx0XHRcdGxldCBkaWZmID0gbW9tZW50KERhdGUubm93KCkpLmRpZmYobW9tZW50KG1vZGVsLnRpbWVzdGFtcCkpO1xuXHRcdFx0bGV0IGRheXNTaW5jZUxhc3RVcGRhdGUgPSBtb21lbnQuZHVyYXRpb24oZGlmZikuYXNEYXlzKCk7XG5cdFx0XHRsZXQgdGFnQ2xhc3MgPSAnaXMtc3VjY2Vzcyc7XG5cdFx0XHRpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSA1KSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLWRhbmdlcic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDMpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtd2FybmluZyc7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYS1jb250ZW50IGNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yb2xlfTwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9XCI+JHtkYXRlRm9ybWF0fTwvc3Bhbj4gJHttb2RlbC51cGRhdGV9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdDwvZGl2PmA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgaWQ9XCJteS10aXRsZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBpZD1cIm15LXJlc3BvbnNpYmlsaXR5XCIgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0XHRcdDxidXR0b24gaWQ9XCJteS1yb2xlLXNhdmVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5TYXZlIFJvbGU8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTdcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0JHtlZGl0U2VjdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGVtcGxhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBlZGl0QnV0dG9uID0gYGA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgZGF0YS1iaW5kPVwiZmllbGQtcm9sZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBkYXRhLWJpbmQ9XCJmaWVsZC1yZXNwb25zaWJpbGl0eVwiIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdFx0ZWRpdEJ1dHRvbiA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTRcIj5cblx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtYmluZD1cImJ1dHRvbi1zYXZlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwge21vZGVsLmVkaXRhYmxlID8gJ2lzLTgnIDogJ2lzLTEyJ31cIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBkYXRhLWJpbmQ9XCJmaWVsZC1pY29uXCIgY2xhc3M9XCJpbWFnZSBpcy00OHg0OCBpY29uLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7bW9kZWwuaWNvbiB8fCAndXNlcid9XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdFx0XHQke2VkaXRTZWN0aW9ufVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0JHtlZGl0QnV0dG9ufVxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUgJiYgbW9kZWwub25TYXZlKSB7XG5cdFx0XHRcdGxldCBidXR0b24gPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1idXR0b24tc2F2ZV0nKVswXTtcblx0XHRcdFx0bGV0IHJvbGUgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1maWVsZC1yb2xlXScpWzBdO1xuXHRcdFx0XHRsZXQgcmVzcCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLXJlc3BvbnNpYmlsaXR5XScpWzBdO1xuXHRcdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdG1vZGVsLm9uU2F2ZSh7XG5cdFx0XHRcdFx0XHRlOiBlLFxuXHRcdFx0XHRcdFx0bW9kZWw6IG1vZGVsLFxuXHRcdFx0XHRcdFx0cm9sZTogcm9sZS5pbm5lclRleHQsXG5cdFx0XHRcdFx0XHRyZXNwb25zaWJpbGl0eTogcmVzcC5pbm5lclRleHRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxldCBpY29uRWRpdCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLWljb25dJylbMF07XG5cdFx0XHRcdGljb25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRtb2RlbC5vbkljb25FZGl0KHtcblx0XHRcdFx0XHRcdGU6IGUsXG5cdFx0XHRcdFx0XHRtb2RlbDogbW9kZWxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9ncmVzc1VwZGF0ZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcG9zdGVkID0gbmV3IERhdGUobW9kZWwudGltZXN0YW1wKTtcblx0XHRcdGxldCBkYXRlRm9ybWF0ID0gbW9tZW50KHBvc3RlZCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7XG5cdFx0XHRsZXQgZGlmZiA9IG1vbWVudChEYXRlLm5vdygpKS5kaWZmKG1vbWVudChtb2RlbC50aW1lc3RhbXApKTtcblx0XHRcdGxldCBkYXlzU2luY2VMYXN0VXBkYXRlID0gbW9tZW50LmR1cmF0aW9uKGRpZmYpLmFzRGF5cygpO1xuXHRcdFx0bGV0IHRhZ0NsYXNzID0gJ2lzLXN1Y2Nlc3MnO1xuXHRcdFx0aWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gNSkge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy1kYW5nZXInO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSAzKSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLXdhcm5pbmcnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFncyBoYXMtYWRkb25zXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9IGlzLW1lZGl1bVwiPiR7ZGF0ZUZvcm1hdH08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaW1hZ2UtdGFnLXJvdW5kZWQgaXMtMzJ4MzJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1tZWRpdW1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdCR7bW9kZWwubmFtZX1cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwudXBkYXRlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0TGlua0l0ZW06IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGljb24gPSAnZmlsZSc7XG5cdFx0XHRpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2dvb2dsZSc7XG5cdFx0XHRcdGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL2RvY3VtZW50JykgPiAtMSkge1xuXHRcdFx0XHRcdGljb24gPSAnZmlsZS10ZXh0Jztcblx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cycpID4gLTEpIHtcblx0XHRcdFx0XHRpY29uID0gJ3RhYmxlJztcblx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignZG9jcy5nb29nbGUuY29tL3ByZXNlbnRhdGlvbicpID4gLTEpIHtcblx0XHRcdFx0XHRpY29uID0gJ3NsaWRlc2hhcmUnO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdvbW5pcG9pbnRtZW50LmNvbS9tZWV0aW5nJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2NhbGVuZGFyJztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ2dpdGh1Yi5jb20nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAnZ2l0aHViJztcblx0XHRcdH0gZWxzZSBpZiAobW9kZWwudXJsLmluZGV4T2YoJ3lvdXR1YmUuY29tJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ3lvdXR1YmUtcGxheSc7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCd2aW1lby5jb20nKSA+IC0xKSB7XG5cdFx0XHRcdGljb24gPSAndmltZW8nO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignY29kZXNoYXJlLmlvJykgPiAtMSB8fCBtb2RlbC51cmwuaW5kZXhPZignY29kZXBlbi5pbycpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdjb2RlLWZvcmsnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke21vZGVsLnVybH1cIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtJHtpY29ufVwiPjwvaT5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4+JHttb2RlbC5uYW1lfTwvc3Bhbj5cblx0XHRcdFx0PC9hPlxuXHRcdFx0XHQ8YSBjbGFzcz1cImlzLWRhbmdlciBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGVkaXQtbGlua1wiIGRhdGEtZm9yPVwiJHttb2RlbC5rZXl9XCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHQ8L2E+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGVhbS1saW5rJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0vY2hhcnRlci5odG1sP3RlYW09JHttb2RlbC50aWR9YDtcblx0XHRcdGxldCB0YWcgPSBgPHNwYW4gY2xhc3M9XCJ0YWcgaXMtd2FybmluZ1wiPlRlbXBsYXRlPC9zcGFuPmA7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtdmVydGljYWxcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlXCI+JHttb2RlbC5uYW1lfSAke21vZGVsLmlzVGVtcGxhdGUgPyB0YWcgOiAnJ308L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBUZWFtIENoYXJ0ZXI8L2E+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdGxldCBjbGFzc0xpbmsgPSBgJHtvcmlnaW59L2NsYXNzLmh0bWw/Y2xhc3M9JHttb2RlbC5jaWR9YDtcblx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobW9kZWwudGVhbXMpLmZpbHRlcigodGlkKSA9PiB7XG5cdFx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhtb2RlbC50ZWFtc1t0aWRdKS5sZW5ndGggPiAwO1xuXHRcdFx0fSkubWFwKCh0aWQpID0+IHtcblx0XHRcdFx0bGV0IHRlYW0gPSBtb2RlbC50ZWFtc1t0aWRdO1xuXHRcdFx0XHR0ZWFtLnRpZCA9IHRpZDtcblx0XHRcdFx0cmV0dXJuIHRlYW07XG5cdFx0XHR9KTtcblx0XHRcdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRsZXQgaXRlbXMgPSBsaXN0Lm1hcCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdGVhbUxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9Jm1lbnRvcj10cnVlYDtcblx0XHRcdFx0bGV0IGl0ZW1IVE1MID0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNFwiPlxuXHRcdFx0XHRcdFx0PGEgaHJlZj0ke3RlYW1MaW5rfSBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWZ1bGx3aWR0aFwiPiR7dGVhbS5uYW1lfTwvYT5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdFx0cmV0dXJuIGl0ZW1IVE1MO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtdmVydGljYWxcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBib3ggaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlXCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGVcIj4ke259IHRlYW0ke24gPT09IDEgPyAnJyA6ICdzJ30gfCBDb2RlOiAke21vZGVsLmNpZH08L3A+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2NsYXNzTGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDbGFzcyBEYXNoYm9hcmQ8L2E+XG5cdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHQvKjxkaXYgY2xhc3M9XCJjb2x1bW5zIGlzLW11bHRpbGluZVwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7aXRlbXMuam9pbignJyl9XG5cdFx0XHRcdFx0XHRcdDwvZGl2PiovXG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0XHQvLzxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2xhc3MgUHJvZ3Jlc3M8L2E+XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRVc2VyVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDggaW1hZ2UtdGFnLXJvdW5kZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnN1YnRpdGxlfTwvcD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RlYW1UYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PHRoZWFkPlxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0aD5UZWFtIE5hbWU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPk1lbWJlcnM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkNoYXJ0ZXIgRWRpdHM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlByb2dyZXNzIFVwZGF0ZXM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkxhc3QgQWN0aXZlPC90aD5cblx0XHRcdFx0XHRcdDx0aD5WaWV3IFRlYW08L3RoPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdDx0Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRtb2RlbC50ZWFtcy5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdGxldCB1cGRhdGVzID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0udXBkYXRlcykge1xuXHRcdFx0XHRcdGZvciAobGV0IHVwaWQgaW4gdGVhbS51cGRhdGVzW3VpZF0pIHtcblx0XHRcdFx0XHRcdHVwZGF0ZXMrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZtZW50b3I9dHJ1ZWA7XG5cdFx0XHRcdGxldCBtZW1iZXJzID0gdGVhbS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLm5hbWV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke09iamVjdC5rZXlzKG1lbWJlcnMpLmxlbmd0aH08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7T2JqZWN0LmtleXModGVhbS5lZGl0cykubGVuZ3RofTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHt1cGRhdGVzfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHttb21lbnQodGVhbS5sYXN0QWNjZXNzKS5mcm9tTm93KCl9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDaGFydGVyPC9hPlxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0PC90Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1uYXJyb3cnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtZnVsbHdpZHRoJyk7XG5cdFx0XHRcdHRhYmxlLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGVhbUdyaWQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgYDtcblx0XHRcdG1vZGVsLnRlYW1zLmZvckVhY2goKHRlYW0pID0+IHtcblx0XHRcdFx0bGV0IHVwZGF0ZXMgPSAwO1xuXHRcdFx0XHRmb3IgKGxldCB1aWQgaW4gdGVhbS51cGRhdGVzKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgdXBpZCBpbiB0ZWFtLnVwZGF0ZXNbdWlkXSkge1xuXHRcdFx0XHRcdFx0dXBkYXRlcysrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9JmNvZGU9JHt0ZWFtLmpvaW5Db2RlfWA7XG5cdFx0XHRcdGxldCBtZW1iZXJzID0gdGVhbS5tZW1iZXJzIHx8IHt9O1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+JHt0ZWFtLm5hbWV9PC9oMiBjbGFzcz1cInRpdGxlIGlzLTRcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1uZWF0bHktc3BhY2VkXCI+TGFzdCBhY3RpdmUgJHttb21lbnQodGVhbS5sYXN0QWNjZXNzKS5mcm9tTm93KCl9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj4ke09iamVjdC5rZXlzKHRlYW0uZWRpdHMpLmxlbmd0aH0gY2hhcnRlciBlZGl0czwvcD5cblx0XHRcdFx0YDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0ubWVtYmVycykge1xuXHRcdFx0XHRcdGxldCBwcm9maWxlID0gbW9kZWwucHJvZmlsZXNbdWlkXTtcblx0XHRcdFx0XHRsZXQgdXNlck1vZGVsID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogJ1Vua25vd24gU3R1ZGVudCcsXG5cdFx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdFx0XHRzdWJ0aXRsZTogJy4uLidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHByb2ZpbGUubmFtZSkge1xuXHRcdFx0XHRcdFx0dXNlck1vZGVsLm5hbWUgPSBwcm9maWxlLm5hbWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChwcm9maWxlLmltYWdlKSB7XG5cdFx0XHRcdFx0XHR1c2VyTW9kZWwuaW1hZ2UgPSBwcm9maWxlLmltYWdlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGVhbS5tZW1iZXJzW3VpZF0ucm9sZSkge1xuXHRcdFx0XHRcdFx0dXNlck1vZGVsLnN1YnRpdGxlID0gdGVhbS5tZW1iZXJzW3VpZF0ucm9sZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IHVzZXJEaXYgPSB2aWV3cy5nZXRVc2VyVGlsZSh1c2VyTW9kZWwpO1xuXHRcdFx0XHRcdGh0bWwgKz0gdXNlckRpdi5pbm5lckhUTUw7XG5cdFx0XHRcdH1cblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkIGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+Sm9pbiBUZWFtPC9hPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudCBoYXMtdGV4dC1jZW50ZXJlZFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZSBpcy00XCI+U3RhcnQgTmV3IFRlYW08L2gyIGNsYXNzPVwidGl0bGUgaXMtNFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5Eb24ndCBzZWUgeW91ciB0ZWFtPzwvcD5cblx0XHRcdGA7XG5cblx0XHRcdGxldCBwcm9maWxlID0gbW9kZWwucHJvZmlsZXNbbW9kZWwudWlkXTtcblx0XHRcdGxldCB1c2VyTW9kZWwgPSB7XG5cdFx0XHRcdG5hbWU6ICdVbmtub3duIFN0dWRlbnQnLFxuXHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdHN1YnRpdGxlOiAnVGVhbSBNZW1iZXInXG5cdFx0XHR9XG5cdFx0XHRpZiAocHJvZmlsZS5uYW1lKSB7XG5cdFx0XHRcdHVzZXJNb2RlbC5uYW1lID0gcHJvZmlsZS5uYW1lO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHByb2ZpbGUuaW1hZ2UpIHtcblx0XHRcdFx0dXNlck1vZGVsLmltYWdlID0gcHJvZmlsZS5pbWFnZTtcblx0XHRcdH1cblx0XHRcdGxldCB1c2VyRGl2ID0gdmlld3MuZ2V0VXNlclRpbGUodXNlck1vZGVsKTtcblx0XHRcdGh0bWwgKz0gdXNlckRpdi5pbm5lckhUTUw7XG5cblx0XHRcdGh0bWwgKz0gYFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkIGhhcy10ZXh0LWNlbnRlcmVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaWQ9XCJuZXctdGVhbVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5TdGFydCBOZXcgVGVhbTwvYT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW5zJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy1tdWx0aWxpbmUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9taXNlVGFibGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGg+TmFtZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+TWVtYmVyPC90aD5cblx0XHRcdFx0XHRcdDx0aD5TdGF0dXM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkxhc3QgQWN0aXZlPC90aD5cblx0XHRcdFx0XHRcdDx0aD5WaWV3PC90aD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRgO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhtb2RlbC5wcm9taXNlcykubWFwKChwZGlkKSA9PiB7XG5cdFx0XHRcdGxldCB2YWwgPSBtb2RlbC5wcm9taXNlc1twZGlkXTtcblx0XHRcdFx0XHR2YWwua2V5ID0gcGRpZDtcblx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdH0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9KS5mb3JFYWNoKChwcm9taXNlKSA9PiB7XG5cdFx0XHRcdGxldCBhdXRob3JOYW1lID0gJ1Vua25vd24nO1xuXHRcdFx0XHRsZXQgbGFzdEFjdGl2ZSA9IG1vbWVudChwcm9taXNlLmxhc3RBY3RpdmUpLmZyb21Ob3coKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhdXRob3JOYW1lID0gbW9kZWwucHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBkdXIgPSBtb21lbnQuZHVyYXRpb24obW9tZW50KHByb21pc2UuZHVlKS5kaWZmKG1vbWVudChEYXRlLm5vdygpKSkpO1xuXHRcdFx0XHRsZXQgZGF5c0xlZnQgPSBNYXRoLmZsb29yKGR1ci5hc0RheXMoKSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0ZD4ke3Byb21pc2UudGl0bGV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke2F1dGhvck5hbWV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke3Byb21pc2UuY29tcGxldGVkID8gJ0NvbXBsZXRlJyA6IChkYXlzTGVmdCA8IDAgPyBNYXRoLmFicyhkYXlzTGVmdCkgKyAnIGRheXMgb3ZlcmR1ZScgOiBkYXlzTGVmdCArICcgZGF5cyBsZWZ0Jyl9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke2xhc3RBY3RpdmV9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLXByb21pc2VpZD1cIiR7cHJvbWlzZS5rZXl9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXc8L2J1dHRvbj5cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0YDtcblx0XHRcdH0pO1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtbmFycm93Jyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLWZ1bGx3aWR0aCcpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1zdHJpcGVkJyk7XG5cdFx0XHRcdHRhYmxlLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fSxcblxuXHRcdGdldFByb21pc2VCb3g6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IHByb21pc2UgPSBtb2RlbC5wcm9taXNlO1xuXHRcdFx0bGV0IHByb2ZpbGVzID0gbW9kZWwucHJvZmlsZXM7XG5cdFx0XHRsZXQgbGV2ZWxUZXh0ID0gJ1Vua25vd24nO1xuXHRcdFx0c3dpdGNoIChwcm9taXNlLmxldmVsKSB7XG5cdFx0XHRcdGNhc2UgMTogbGV2ZWxUZXh0ID0gJ1NtYWxsJzsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgMjogbGV2ZWxUZXh0ID0gJ01lZGl1bSc7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIDM6IGxldmVsVGV4dCA9ICdMYXJnZSc7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHNpbmNlU3RhcnQgPSBtb21lbnQocHJvbWlzZS5zdGFydGVkKS5mcm9tTm93KCk7XG5cdFx0XHRsZXQgZHVlRGF0ZSA9IG1vbWVudChwcm9taXNlLmR1ZSkuZm9ybWF0KCdNL0QvWVknKTtcblx0XHRcdGxldCBhdXRob3JOYW1lID0gJ1Vua25vd24nO1xuXHRcdFx0bGV0IGF1dGhvckltYWdlID0gJy4vcHVibGljL2ltZy9uby11c2VyLnBuZyc7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhdXRob3JOYW1lID0gcHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdGF1dGhvckltYWdlID0gcHJvZmlsZXNbcHJvbWlzZS5hdXRob3JdLmltYWdlO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpXG5cdFx0XHR9XG5cdFx0XHQvLzxoMSBjbGFzcz1cInRpdGxlIGlzLTJcIj4ke3Byb21pc2UudGl0bGV9IDxzcGFuIGNsYXNzPVwidGFnIGlzLXdhcm5pbmdcIj4ke2xldmVsVGV4dH08L3NwYW4+PC9oMT5cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3ggY29udGVudFwiPlxuXHRcdFx0XHRcdDxoMSBjbGFzcz1cInRpdGxlIGlzLTJcIj4ke3Byb21pc2UudGl0bGV9PC9oMT5cblx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb21tZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaXMtMTZ4MTYgaXMtcm91bmRlZCBpcy1pbmxpbmUtaW1hZ2VcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7YXV0aG9ySW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aXRsZSBpcy02XCI+JHthdXRob3JOYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1mYWRlZFwiPiBzdGFydGVkICR7c2luY2VTdGFydH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy1ub3JtYWxseS1zcGFjZWRcIj5JIHByb21pc2UgdG8gJHtwcm9taXNlLmRlc2NyaXB0aW9ufSBieSAke2R1ZURhdGV9LjwvcD5cblx0XHRcdGA7XG5cdFx0XHRsZXQgbGlua0xpc3QgPSBPYmplY3Qua2V5cyhwcm9taXNlLmxpbmtzKS5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRsZXQgdmFsID0gcHJvbWlzZS5saW5rc1trZXldO1xuXHRcdFx0XHR2YWwua2V5ID0ga2V5O1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAobGlua0xpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRodG1sICs9IGA8ZGl2PmA7XG5cdFx0XHRcdGxpbmtMaXN0LmZvckVhY2goKGxpbmspID0+IHtcblx0XHRcdFx0XHRodG1sICs9IGA8ZGl2IGNsYXNzPVwidGVhbS1saW5rXCI+JHt2aWV3cy5nZXRMaW5rSXRlbShsaW5rKS5pbm5lckhUTUx9PC9kaXY+YDtcblx0XHRcdFx0XHQvL2h0bWwgKz0gYDxsaT48YSBocmVmPVwiJHtsaW5rLnVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke2xpbmsubmFtZX08L2E+PC9saT5gO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aHRtbCArPSBgPC9kaXY+YDtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpcy1ncm91cGVkXCI+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiZWRpdFwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+RWRpdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImxpbmtcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1saW5rXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPkFkZCBMaW5rPC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiYmFja1wiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4+QmFjayB0byBQcm9taXNlczwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveCBjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgxIGNsYXNzPVwidGl0bGUgaXMtNFwiPlByb2dyZXNzPC9oMT5cblx0XHRcdFx0XHQ8ZGl2IGlkPVwiY29tbWVudHMtZmllbGRcIj5cblx0XHRcdFx0XHRgO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhwcm9taXNlLmNvbW1lbnRzKS5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcHJvbWlzZS5jb21tZW50c1trZXldO1xuXHRcdFx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcblx0XHRcdH0pLmZvckVhY2goKGNvbW1lbnQpID0+IHtcblx0XHRcdFx0bGV0IGNvbW1lbnRBdXRob3IgPSB7XG5cdFx0XHRcdFx0bmFtZTogJ1Vua25vd24nLFxuXHRcdFx0XHRcdGltYWdlOiAnLi9wdWJsaWMvaW1nL25vLXVzZXIucG5nJ1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29tbWVudEF1dGhvci5uYW1lID0gcHJvZmlsZXNbY29tbWVudC5hdXRob3JdLm5hbWU7XG5cdFx0XHRcdFx0Y29tbWVudEF1dGhvci5pbWFnZSA9IHByb2ZpbGVzW2NvbW1lbnQuYXV0aG9yXS5pbWFnZTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSlcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgc2luY2VDb21tZW50ID0gbW9tZW50KGNvbW1lbnQudGltZXN0YW1wKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTsvLy5mcm9tTm93KCk7XG5cdFx0XHRcdGlmIChjb21tZW50LmdlbmVyYXRlZCkge1xuXHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpbWFnZSBpcy0xNngxNiBpcy1yb3VuZGVkIGlzLWlubGluZS1pbWFnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtjb21tZW50QXV0aG9yLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGl0bGUgaXMtNlwiPiR7Y29tbWVudEF1dGhvci5uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1mYWRlZFwiPiAke3NpbmNlQ29tbWVudH06IDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJnZW5lcmF0ZWQtdGV4dFwiPiR7Y29tbWVudC50ZXh0fTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdGA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29tbWVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGlzLTE2eDE2IGlzLXJvdW5kZWQgaXMtaW5saW5lLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke2NvbW1lbnRBdXRob3IuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aXRsZSBpcy02XCI+JHtjb21tZW50QXV0aG9yLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlzLWZhZGVkXCI+ICR7c2luY2VDb21tZW50fTogPC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj4ke2NvbW1lbnQudGV4dH08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlLWVkaXRhYmxlXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIGRhdGEtZnBiPVwidGV4dGFyZWFcIiBjbGFzcz1cInRleHRhcmVhXCIgcm93cz1cIjJcIiBwbGFjZWhvbGRlcj1cIldyaXRlIGhlcmUuLi5cIj48L3RleHRhcmVhPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlzLWdyb3VwZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtZnBiPVwiY29tbWVudFwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWNvbW1lbnQtb1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPkNvbW1lbnQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLWZwYj1cImNvbXBsZXRlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgJHtwcm9taXNlLmNvbXBsZXRlZCA/ICdmYS10aW1lcycgOiAnZmEtY2hlY2snfVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiR7cHJvbWlzZS5jb21wbGV0ZWQgPyAnTWFyayBhcyBJbmNvbXBsZXRlJyA6ICdNYXJrIGFzIENvbXBsZXRlJ308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGJveC5jbGFzc0xpc3QuYWRkKCdjb2x1bW5zJyk7XG5cdFx0XHRcdGJveC5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGJveDtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWlzZUVkaXRvcjogKG1vZGVsKSA9PiB7XG5cdFx0XHRpZiAobW9kZWwuZGVzY3JpcHRpb24gPT09ICcuLi4nKSB7XG5cdFx0XHRcdG1vZGVsLmRlc2NyaXB0aW9uID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGgxIGRhdGEtcGVmPVwidGl0bGVcIiBjbGFzcz1cInRpdGxlIGlzLTIgbmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwudGl0bGUgPyBtb2RlbC50aXRsZSA6ICdUaXRsZSBvZiBQcm9taXNlJ308L2gxPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLW5lYXRseS1zcGFjZWRcIj5cblx0XHRcdFx0XHRJIHByb21pc2UgdG8gPHNwYW4gZGF0YS1wZWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwibmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwuZGVzY3JpcHRpb24gPyBtb2RlbC5kZXNjcmlwdGlvbiA6ICcoZG8gc29tZXRoaW5nIGZvciBteSB0ZWFtKSd9PC9zcGFuPiBieSA8c3BhbiBkYXRhLXBlZj1cImR1ZVwiIGNsYXNzPVwibmxwLWVkaXRhYmxlXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwuZHVlID8gbW9tZW50KG1vZGVsLmR1ZSkuZm9ybWF0KCdNL0QvWVlZWScpIDonTU0vREQvWVlZWSd9PC9zcGFuPi5cblx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8cCBkYXRhLXBlZj1cIndhcm5pbmdcIiBjbGFzcz1cImlzLWRhbmdlci10ZXh0XCI+PC9wPlxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtcGVmPVwic3VibWl0XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeVwiPlNhdmUgUHJvbWlzZTwvYnV0dG9uPlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5kZWxldGFibGUpIHtcblx0XHRcdFx0aHRtbCArPSBgPGJ1dHRvbiBkYXRhLXBlZj1cInJlbW92ZVwiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPkNhbmNlbDwvYnV0dG9uPmA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRodG1sICs9IGA8YnV0dG9uIGRhdGEtcGVmPVwiY2FuY2VsXCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyIGlzLW91dGxpbmVkXCI+Q2FuY2VsPC9idXR0b24+YDtcblx0XHRcdH1cblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2JveCcpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29udGVudCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFJvbGVTdGVwQ2FyZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwibWVzc2FnZSAke21vZGVsLmlzT3BlbiA/IGBgIDogYGlzLWNvbGxhcHNlZGB9ICR7bW9kZWwuY29tcGxldGVkID8gYGlzLXN1Y2Nlc3NgIDogYGlzLXByaW1hcnlgfVwiIGNvbGxhcHNpYmxlPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWhlYWRlciBpcy1jb250cmFzdFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNpcmNsZVwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWNoZWNrXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLnRpdGxlfTwvaDM+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIHNob3ctY29sbGFwc2VkIGZhLWNoZXZyb24tdXBcIj48L2k+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBzaG93LXVuZnVybGVkIGZhLWNoZXZyb24tZG93blwiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtYm9keVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtbm90ZVwiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY29udGVudGVkaXRhYmxlPVwiJHttb2RlbC5lZGl0YWJsZX1cIj5cblx0XHRcdFx0XHRcdFx0JHttb2RlbC5wcy5yZWR1Y2UoKGFnZywgdmFsKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFnZyArIGA8cD4ke3ZhbH08L3A+YDtcblx0XHRcdFx0XHRcdFx0fSwgJycpfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwic2F2ZS1ub3RlXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbCBpcy1kYXJrIGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1zYXZlXCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBOb3RlPC9zcGFuPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8c3BhbiBkYXRhLWFjdGlvbj1cImVkaXQtbmFtZVwiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtZGFyayBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPkVkaXQgTmFtZTwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJtb3ZlLXN0ZXAtdXBcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWFycm93LXVwXCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+TW92ZSBVcDwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJtb3ZlLXN0ZXAtZG93blwiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctZG93blwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk1vdmUgRG93bjwvc3Bhbj5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PGhyPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdFx0JHttb2RlbC5saW5rcy5yZWR1Y2UoKGFnZywgdmFsKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IGxpbmtIdG1sID0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhZ3MgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaW5rSHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bSBpcy10cmFuc3BhcmVudC1iYWNrZ3JvdW5kXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gZGF0YS1hY3Rpb249XCJlZGl0LWxpbmtcIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIGRhdGEtbGluaz1cIiR7dmFsLmlkfVwiIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBkYXRhLWFjdGlvbj1cInJlbW92ZS1saW5rXCIgZGF0YS1zdGVwPVwiJHttb2RlbC5pZH1cIiBkYXRhLWxpbms9XCIke3ZhbC5pZH1cIiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcmVtb3ZlXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0XHR9XHRcblx0XHRcdFx0XHRcdFx0XHRsaW5rSHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bSBpcy1wcmltYXJ5XCI+JHt2YWwudHlwZX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bSBpcy13YXJuaW5nXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGEgY2xhc3M9XCJsaW5rXCIgZGF0YS1saW5raWQ9XCIke3ZhbC5pZH1cIiBkYXRhLXN0ZXA9XCIke21vZGVsLmlkfVwiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3ZhbC51cmx9XCI+JHt2YWwudGl0bGV9PC9hPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhZ2cgKyBsaW5rSHRtbFxuXHRcdFx0XHRcdFx0XHR9LCAnJyl9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpbiAke21vZGVsLmVkaXRhYmxlID8gJ2lzLWhpZGRlbicgOiAnJ31cIj5NYXJrIENvbXBsZXRlPC9idXR0b24+XG5cdFx0XHRgO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxzcGFuIGRhdGEtYWN0aW9uPVwiYWRkLXN0ZXAtbGlua1wiIGRhdGEtc3RlcD1cIiR7bW9kZWwuaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtc21hbGwgaXMtZGFyayBpcy1vdXRsaW5lZCBoYXMtdG9wLW1hcmdpblwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIGlzLXNtYWxsXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGx1c1wiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPkFkZCBMaW5rPC9zcGFuPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY2lyY2xlLWNvbm5lY3RvcicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0dGFnQ29kZTogKHRleHQpID0+IHtcblx0XHRcdGxldCBvdXQgPSBgYDtcblx0XHRcdGxldCBvcGVuID0gZmFsc2U7XG5cdFx0XHRmb3IgKGxldCBjID0gMDsgYyA8IHRleHQubGVuZ3RoOyBjKyspIHtcblx0XHRcdFx0aWYgKHRleHRbY10gPT09ICdgJykge1xuXHRcdFx0XHRcdGlmICghb3Blbikge1xuXHRcdFx0XHRcdFx0b3V0ICs9IGA8c3BhbiBjbGFzcz1cInRhZyBpcy1jb2RlXCI+YDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0b3V0ICs9IGA8L3NwYW4+YDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0b3BlbiA9ICFvcGVuO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG91dCArPSB0ZXh0W2NdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAob3Blbikge1xuXHRcdFx0XHRvdXQgKz0gYDwvc3Bhbj5gO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG91dDtcblx0XHR9LFxuXG5cdFx0Z2V0TGlzdENhcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxoMiBjbGFzcz1cInRpdGxlIGlzLTRcIj4ke21vZGVsLnRpdGxlfTwvaDI+XG5cdFx0XHRcdDx1bCBkYXRhLXRleHRhcmVhPVwiZ2V0LSR7bW9kZWwuZmllbGR9XCIgY29udGVudGVkaXRhYmxlPVwiJHttb2RlbC5lZGl0YWJsZX1cIj5cblx0XHRcdFx0XHQke21vZGVsLnBzLnJlZHVjZSgoYWdnLCB2YWwpID0+IHtcblx0XHRcdFx0XHRcdGxldCB0ZXh0ID0gdmFsO1xuXHRcdFx0XHRcdFx0aWYgKG1vZGVsLmhhc0NvZGUgJiYgKCFtb2RlbC5lZGl0YWJsZSkpIHtcblx0XHRcdFx0XHRcdFx0dGV4dCA9IHZpZXdzLnRhZ0NvZGUodmFsKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBhZ2cgKyBgPGxpPiR7dGV4dH08L2xpPmA7XG5cdFx0XHRcdFx0fSwgJycpfVxuXHRcdFx0XHQ8L3VsPlxuXHRcdFx0YDtcblx0XHRcdGlmIChtb2RlbC5lZGl0YWJsZSkge1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtYWN0aW9uPVwic2F2ZS0ke21vZGVsLmZpZWxkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIGlzLXByaW1hcnkgaXMtb3V0bGluZWQgaGFzLXRvcC1tYXJnaW5cIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXNhdmVcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5TYXZlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Um9sZU1hcENhcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0vcm9sZWxpYnJhcnkuaHRtbD9yb2xlPSR7bW9kZWwuaWR9YDtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94XCI+XG5cdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNFwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtJHttb2RlbC5pY29ufVwiPjwvaT5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPiR7bW9kZWwudGl0bGV9PC9zcGFuPlxuXHRcdFx0XHRcdDwvaDM+XG5cdFx0XHRcdFx0PHVsPlxuXHRcdFx0XHRcdFx0JHttb2RlbC5pbXBvcnRhbmNlLnNwbGl0KCdcXG4nKS5yZWR1Y2UoKGFnZywgdmFsKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBgJHthZ2d9PGxpPiR7dmFsfTwvbGk+YDtcblx0XHRcdFx0XHRcdH0pfVxuXHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGhhcy10b3AtbWFyZ2luXCI+UHJldmlldyBSb2xlPC9hPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy0zJyk7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHZpZXdzO1xuXG59XG5cbmV4cG9ydCB7Vmlld3N9O1xuIl19\n"]}